function Xf(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function Yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cu={exports:{}},xn={},ku={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=Symbol.for("react.element"),Jf=Symbol.for("react.portal"),Zf=Symbol.for("react.fragment"),ep=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),rp=Symbol.for("react.provider"),sp=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),ap=Symbol.for("react.lazy"),zl=Symbol.iterator;function lp(e){return e===null||typeof e!="object"?null:(e=zl&&e[zl]||e["@@iterator"],typeof e=="function"?e:null)}var Eu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ju=Object.assign,Ru={};function es(e,t,r){this.props=e,this.context=t,this.refs=Ru,this.updater=r||Eu}es.prototype.isReactComponent={};es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lu(){}Lu.prototype=es.prototype;function Aa(e,t,r){this.props=e,this.context=t,this.refs=Ru,this.updater=r||Eu}var Oa=Aa.prototype=new Lu;Oa.constructor=Aa;ju(Oa,es.prototype);Oa.isPureReactComponent=!0;var Ul=Array.isArray,Nu=Object.prototype.hasOwnProperty,Ia={current:null},Du={key:!0,ref:!0,__self:!0,__source:!0};function Pu(e,t,r){var s,i={},o=null,p=null;if(t!=null)for(s in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(o=""+t.key),t)Nu.call(t,s)&&!Du.hasOwnProperty(s)&&(i[s]=t[s]);var n=arguments.length-2;if(n===1)i.children=r;else if(1<n){for(var a=Array(n),f=0;f<n;f++)a[f]=arguments[f+2];i.children=a}if(e&&e.defaultProps)for(s in n=e.defaultProps,n)i[s]===void 0&&(i[s]=n[s]);return{$$typeof:ti,type:e,key:o,ref:p,props:i,_owner:Ia.current}}function cp(e,t){return{$$typeof:ti,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===ti}function up(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wl=/\/+/g;function Qn(e,t){return typeof e=="object"&&e!==null&&e.key!=null?up(""+e.key):t.toString(36)}function Ei(e,t,r,s,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(o){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case ti:case Jf:p=!0}}if(p)return p=e,i=i(p),e=s===""?"."+Qn(p,0):s,Ul(i)?(r="",e!=null&&(r=e.replace(Wl,"$&/")+"/"),Ei(i,t,r,"",function(f){return f})):i!=null&&(Ba(i)&&(i=cp(i,r+(!i.key||p&&p.key===i.key?"":(""+i.key).replace(Wl,"$&/")+"/")+e)),t.push(i)),1;if(p=0,s=s===""?".":s+":",Ul(e))for(var n=0;n<e.length;n++){o=e[n];var a=s+Qn(o,n);p+=Ei(o,t,r,a,i)}else if(a=lp(e),typeof a=="function")for(e=a.call(e),n=0;!(o=e.next()).done;)o=o.value,a=s+Qn(o,n++),p+=Ei(o,t,r,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function li(e,t,r){if(e==null)return e;var s=[],i=0;return Ei(e,s,"","",function(o){return t.call(r,o,i++)}),s}function hp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},ji={transition:null},dp={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ji,ReactCurrentOwner:Ia};function Tu(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:li,forEach:function(e,t,r){li(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return li(e,function(){t++}),t},toArray:function(e){return li(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=es;te.Fragment=Zf;te.Profiler=tp;te.PureComponent=Aa;te.StrictMode=ep;te.Suspense=np;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp;te.act=Tu;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=ju({},e.props),i=e.key,o=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,p=Ia.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var n=e.type.defaultProps;for(a in t)Nu.call(t,a)&&!Du.hasOwnProperty(a)&&(s[a]=t[a]===void 0&&n!==void 0?n[a]:t[a])}var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){n=Array(a);for(var f=0;f<a;f++)n[f]=arguments[f+2];s.children=n}return{$$typeof:ti,type:e.type,key:i,ref:o,props:s,_owner:p}};te.createContext=function(e){return e={$$typeof:sp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rp,_context:e},e.Consumer=e};te.createElement=Pu;te.createFactory=function(e){var t=Pu.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:ip,render:e}};te.isValidElement=Ba;te.lazy=function(e){return{$$typeof:ap,_payload:{_status:-1,_result:e},_init:hp}};te.memo=function(e,t){return{$$typeof:op,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=ji.transition;ji.transition={};try{e()}finally{ji.transition=t}};te.unstable_act=Tu;te.useCallback=function(e,t){return Oe.current.useCallback(e,t)};te.useContext=function(e){return Oe.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};te.useEffect=function(e,t){return Oe.current.useEffect(e,t)};te.useId=function(){return Oe.current.useId()};te.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Oe.current.useMemo(e,t)};te.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};te.useRef=function(e){return Oe.current.useRef(e)};te.useState=function(e){return Oe.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Oe.current.useTransition()};te.version="18.3.1";ku.exports=te;var O=ku.exports;const zi=Yf(O),fp=Xf({__proto__:null,default:zi},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=O,mp=Symbol.for("react.element"),gp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,_p=pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yp={key:!0,ref:!0,__self:!0,__source:!0};function Mu(e,t,r){var s,i={},o=null,p=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(p=t.ref);for(s in t)vp.call(t,s)&&!yp.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:mp,type:e,key:o,ref:p,props:i,_owner:_p.current}}xn.Fragment=gp;xn.jsx=Mu;xn.jsxs=Mu;Cu.exports=xn;var u=Cu.exports,Eo={},Au={exports:{}},Ve={},Ou={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,P){var T=j.length;j.push(P);e:for(;0<T;){var A=T-1>>>1,z=j[A];if(0<i(z,P))j[A]=P,j[T]=z,T=A;else break e}}function r(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var P=j[0],T=j.pop();if(T!==P){j[0]=T;e:for(var A=0,z=j.length,Q=z>>>1;A<Q;){var X=2*(A+1)-1,G=j[X],ie=X+1,R=j[ie];if(0>i(G,T))ie<z&&0>i(R,G)?(j[A]=R,j[ie]=T,A=ie):(j[A]=G,j[X]=T,A=X);else if(ie<z&&0>i(R,T))j[A]=R,j[ie]=T,A=ie;else break e}}return P}function i(j,P){var T=j.sortIndex-P.sortIndex;return T!==0?T:j.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var p=Date,n=p.now();e.unstable_now=function(){return p.now()-n}}var a=[],f=[],v=1,m=null,_=3,w=!1,b=!1,g=!1,c=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,l=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(j){for(var P=r(f);P!==null;){if(P.callback===null)s(f);else if(P.startTime<=j)s(f),P.sortIndex=P.expirationTime,t(a,P);else break;P=r(f)}}function y(j){if(g=!1,d(j),!b)if(r(a)!==null)b=!0,$(S);else{var P=r(f);P!==null&&W(y,P.startTime-j)}}function S(j,P){b=!1,g&&(g=!1,h(x),x=-1),w=!0;var T=_;try{for(d(P),m=r(a);m!==null&&(!(m.expirationTime>P)||j&&!N());){var A=m.callback;if(typeof A=="function"){m.callback=null,_=m.priorityLevel;var z=A(m.expirationTime<=P);P=e.unstable_now(),typeof z=="function"?m.callback=z:m===r(a)&&s(a),d(P)}else s(a);m=r(a)}if(m!==null)var Q=!0;else{var X=r(f);X!==null&&W(y,X.startTime-P),Q=!1}return Q}finally{m=null,_=T,w=!1}}var C=!1,E=null,x=-1,k=5,L=-1;function N(){return!(e.unstable_now()-L<k)}function D(){if(E!==null){var j=e.unstable_now();L=j;var P=!0;try{P=E(!0,j)}finally{P?M():(C=!1,E=null)}}else C=!1}var M;if(typeof l=="function")M=function(){l(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=D,M=function(){F.postMessage(null)}}else M=function(){c(D,0)};function $(j){E=j,C||(C=!0,M())}function W(j,P){x=c(function(){j(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,$(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(j){switch(_){case 1:case 2:case 3:var P=3;break;default:P=_}var T=_;_=P;try{return j()}finally{_=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var T=_;_=j;try{return P()}finally{_=T}},e.unstable_scheduleCallback=function(j,P,T){var A=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?A+T:A):T=A,j){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=T+z,j={id:v++,callback:P,priorityLevel:j,startTime:T,expirationTime:z,sortIndex:-1},T>A?(j.sortIndex=T,t(f,j),r(a)===null&&j===r(f)&&(g?(h(x),x=-1):g=!0,W(y,T-A))):(j.sortIndex=z,t(a,j),b||w||(b=!0,$(S))),j},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(j){var P=_;return function(){var T=_;_=P;try{return j.apply(this,arguments)}finally{_=T}}}})(Iu);Ou.exports=Iu;var xp=Ou.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=O,Ke=xp;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bu=new Set,Ds={};function _r(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(Ds[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=Object.prototype.hasOwnProperty,bp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$l={},ql={};function wp(e){return jo.call(ql,e)?!0:jo.call($l,e)?!1:bp.test(e)?ql[e]=!0:($l[e]=!0,!1)}function Cp(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kp(e,t,r,s){if(t===null||typeof t>"u"||Cp(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,r,s,i,o,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=p}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fa=/[\-:]([a-z])/g;function Ha(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fa,Ha);Le[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fa,Ha);Le[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fa,Ha);Le[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function za(e,t,r,s){var i=Le.hasOwnProperty(t)?Le[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kp(t,r,i,s)&&(r=null),s||i===null?wp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,s=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Lt=Sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ci=Symbol.for("react.element"),kr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),Ua=Symbol.for("react.strict_mode"),Ro=Symbol.for("react.profiler"),Fu=Symbol.for("react.provider"),Hu=Symbol.for("react.context"),Wa=Symbol.for("react.forward_ref"),Lo=Symbol.for("react.suspense"),No=Symbol.for("react.suspense_list"),$a=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),zu=Symbol.for("react.offscreen"),Ql=Symbol.iterator;function cs(e){return e===null||typeof e!="object"?null:(e=Ql&&e[Ql]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Kn;function vs(e){if(Kn===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kn=t&&t[1]||""}return`
`+Kn+e}var Vn=!1;function Gn(e,t){if(!e||Vn)return"";Vn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var s=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){s=f}e.call(t.prototype)}else{try{throw Error()}catch(f){s=f}e()}}catch(f){if(f&&s&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=s.stack.split(`
`),p=i.length-1,n=o.length-1;1<=p&&0<=n&&i[p]!==o[n];)n--;for(;1<=p&&0<=n;p--,n--)if(i[p]!==o[n]){if(p!==1||n!==1)do if(p--,n--,0>n||i[p]!==o[n]){var a=`
`+i[p].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=p&&0<=n);break}}}finally{Vn=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vs(e):""}function Ep(e){switch(e.tag){case 5:return vs(e.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return e=Gn(e.type,!1),e;case 11:return e=Gn(e.type.render,!1),e;case 1:return e=Gn(e.type,!0),e;default:return""}}function Do(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Er:return"Fragment";case kr:return"Portal";case Ro:return"Profiler";case Ua:return"StrictMode";case Lo:return"Suspense";case No:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hu:return(e.displayName||"Context")+".Consumer";case Fu:return(e._context.displayName||"Context")+".Provider";case Wa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $a:return t=e.displayName||null,t!==null?t:Do(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return Do(e(t))}catch{}}return null}function jp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Do(t);case 8:return t===Ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rp(e){var t=Uu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){s=""+p,o.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ui(e){e._valueTracker||(e._valueTracker=Rp(e))}function Wu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Uu(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Po(e,t){var r=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Kl(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $u(e,t){t=t.checked,t!=null&&za(e,"checked",t,!1)}function To(e,t){$u(e,t);var r=Zt(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mo(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mo(e,t,r){(t!=="number"||Ui(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _s=Array.isArray;function Fr(e,t,r,s){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(_s(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zt(r)}}function qu(e,t){var r=Zt(t.value),s=Zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Xl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hi,Ku=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ps(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lp=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(e){Lp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ss[t]=Ss[e]})});function Vu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ss.hasOwnProperty(e)&&Ss[e]?(""+t).trim():t+"px"}function Gu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,i=Vu(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,i):e[r]=i}}var Np=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(e,t){if(t){if(Np[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=null;function qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ho=null,Hr=null,zr=null;function Yl(e){if(e=ii(e)){if(typeof Ho!="function")throw Error(q(280));var t=e.stateNode;t&&(t=kn(t),Ho(e.stateNode,e.type,t))}}function Xu(e){Hr?zr?zr.push(e):zr=[e]:Hr=e}function Yu(){if(Hr){var e=Hr,t=zr;if(zr=Hr=null,Yl(e),t)for(e=0;e<t.length;e++)Yl(t[e])}}function Ju(e,t){return e(t)}function Zu(){}var Xn=!1;function eh(e,t,r){if(Xn)return e(t,r);Xn=!0;try{return Ju(e,t,r)}finally{Xn=!1,(Hr!==null||zr!==null)&&(Zu(),Yu())}}function Ts(e,t){var r=e.stateNode;if(r===null)return null;var s=kn(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var zo=!1;if(kt)try{var us={};Object.defineProperty(us,"passive",{get:function(){zo=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{zo=!1}function Dp(e,t,r,s,i,o,p,n,a){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(v){this.onError(v)}}var bs=!1,Wi=null,$i=!1,Uo=null,Pp={onError:function(e){bs=!0,Wi=e}};function Tp(e,t,r,s,i,o,p,n,a){bs=!1,Wi=null,Dp.apply(Pp,arguments)}function Mp(e,t,r,s,i,o,p,n,a){if(Tp.apply(this,arguments),bs){if(bs){var f=Wi;bs=!1,Wi=null}else throw Error(q(198));$i||($i=!0,Uo=f)}}function yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function th(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jl(e){if(yr(e)!==e)throw Error(q(188))}function Ap(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,s=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(s=i.return,s!==null){r=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Jl(i),e;if(o===s)return Jl(i),t;o=o.sibling}throw Error(q(188))}if(r.return!==s.return)r=i,s=o;else{for(var p=!1,n=i.child;n;){if(n===r){p=!0,r=i,s=o;break}if(n===s){p=!0,s=i,r=o;break}n=n.sibling}if(!p){for(n=o.child;n;){if(n===r){p=!0,r=o,s=i;break}if(n===s){p=!0,s=o,r=i;break}n=n.sibling}if(!p)throw Error(q(189))}}if(r.alternate!==s)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function rh(e){return e=Ap(e),e!==null?sh(e):null}function sh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sh(e);if(t!==null)return t;e=e.sibling}return null}var ih=Ke.unstable_scheduleCallback,Zl=Ke.unstable_cancelCallback,Op=Ke.unstable_shouldYield,Ip=Ke.unstable_requestPaint,ye=Ke.unstable_now,Bp=Ke.unstable_getCurrentPriorityLevel,Qa=Ke.unstable_ImmediatePriority,nh=Ke.unstable_UserBlockingPriority,qi=Ke.unstable_NormalPriority,Fp=Ke.unstable_LowPriority,oh=Ke.unstable_IdlePriority,Sn=null,_t=null;function Hp(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Sn,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Wp,zp=Math.log,Up=Math.LN2;function Wp(e){return e>>>=0,e===0?32:31-(zp(e)/Up|0)|0}var di=64,fi=4194304;function ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qi(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,i=e.suspendedLanes,o=e.pingedLanes,p=r&268435455;if(p!==0){var n=p&~i;n!==0?s=ys(n):(o&=p,o!==0&&(s=ys(o)))}else p=r&~i,p!==0?s=ys(p):o!==0&&(s=ys(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ct(t),i=1<<r,s|=e[r],t&=~i;return s}function $p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qp(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var p=31-ct(o),n=1<<p,a=i[p];a===-1?(!(n&r)||n&s)&&(i[p]=$p(n,t)):a<=t&&(e.expiredLanes|=n),o&=~n}}function Wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ah(){var e=di;return di<<=1,!(di&4194240)&&(di=64),e}function Yn(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ri(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=r}function Qp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ct(r),o=1<<i;t[i]=0,s[i]=-1,e[i]=-1,r&=~o}}function Ka(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ct(r),i=1<<s;i&t|e[s]&t&&(e[s]|=t),r&=~i}}var ae=0;function lh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ch,Va,uh,hh,dh,$o=!1,pi=[],$t=null,qt=null,Qt=null,Ms=new Map,As=new Map,Bt=[],Kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(t.pointerId)}}function hs(e,t,r,s,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ii(t),t!==null&&Va(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Vp(e,t,r,s,i){switch(t){case"focusin":return $t=hs($t,e,t,r,s,i),!0;case"dragenter":return qt=hs(qt,e,t,r,s,i),!0;case"mouseover":return Qt=hs(Qt,e,t,r,s,i),!0;case"pointerover":var o=i.pointerId;return Ms.set(o,hs(Ms.get(o)||null,e,t,r,s,i)),!0;case"gotpointercapture":return o=i.pointerId,As.set(o,hs(As.get(o)||null,e,t,r,s,i)),!0}return!1}function fh(e){var t=lr(e.target);if(t!==null){var r=yr(t);if(r!==null){if(t=r.tag,t===13){if(t=th(r),t!==null){e.blockedOn=t,dh(e.priority,function(){uh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Fo=s,r.target.dispatchEvent(s),Fo=null}else return t=ii(r),t!==null&&Va(t),e.blockedOn=r,!1;t.shift()}return!0}function tc(e,t,r){Ri(e)&&r.delete(t)}function Gp(){$o=!1,$t!==null&&Ri($t)&&($t=null),qt!==null&&Ri(qt)&&(qt=null),Qt!==null&&Ri(Qt)&&(Qt=null),Ms.forEach(tc),As.forEach(tc)}function ds(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,Gp)))}function Os(e){function t(i){return ds(i,e)}if(0<pi.length){ds(pi[0],e);for(var r=1;r<pi.length;r++){var s=pi[r];s.blockedOn===e&&(s.blockedOn=null)}}for($t!==null&&ds($t,e),qt!==null&&ds(qt,e),Qt!==null&&ds(Qt,e),Ms.forEach(t),As.forEach(t),r=0;r<Bt.length;r++)s=Bt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)fh(r),r.blockedOn===null&&Bt.shift()}var Ur=Lt.ReactCurrentBatchConfig,Ki=!0;function Xp(e,t,r,s){var i=ae,o=Ur.transition;Ur.transition=null;try{ae=1,Ga(e,t,r,s)}finally{ae=i,Ur.transition=o}}function Yp(e,t,r,s){var i=ae,o=Ur.transition;Ur.transition=null;try{ae=4,Ga(e,t,r,s)}finally{ae=i,Ur.transition=o}}function Ga(e,t,r,s){if(Ki){var i=qo(e,t,r,s);if(i===null)ao(e,t,s,Vi,r),ec(e,s);else if(Vp(i,e,t,r,s))s.stopPropagation();else if(ec(e,s),t&4&&-1<Kp.indexOf(e)){for(;i!==null;){var o=ii(i);if(o!==null&&ch(o),o=qo(e,t,r,s),o===null&&ao(e,t,s,Vi,r),o===i)break;i=o}i!==null&&s.stopPropagation()}else ao(e,t,s,null,r)}}var Vi=null;function qo(e,t,r,s){if(Vi=null,e=qa(s),e=lr(e),e!==null)if(t=yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=th(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vi=e,null}function ph(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bp()){case Qa:return 1;case nh:return 4;case qi:case Fp:return 16;case oh:return 536870912;default:return 16}default:return 16}}var Ht=null,Xa=null,Li=null;function mh(){if(Li)return Li;var e,t=Xa,r=t.length,s,i="value"in Ht?Ht.value:Ht.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var p=r-e;for(s=1;s<=p&&t[r-s]===i[o-s];s++);return Li=i.slice(e,1<s?1-s:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mi(){return!0}function rc(){return!1}function Ge(e){function t(r,s,i,o,p){this._reactName=r,this._targetInst=i,this.type=s,this.nativeEvent=o,this.target=p,this.currentTarget=null;for(var n in e)e.hasOwnProperty(n)&&(r=e[n],this[n]=r?r(o):o[n]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mi:rc,this.isPropagationStopped=rc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Ge(ts),si=ve({},ts,{view:0,detail:0}),Jp=Ge(si),Jn,Zn,fs,bn=ve({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&e.type==="mousemove"?(Jn=e.screenX-fs.screenX,Zn=e.screenY-fs.screenY):Zn=Jn=0,fs=e),Jn)},movementY:function(e){return"movementY"in e?e.movementY:Zn}}),sc=Ge(bn),Zp=ve({},bn,{dataTransfer:0}),em=Ge(Zp),tm=ve({},si,{relatedTarget:0}),eo=Ge(tm),rm=ve({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),sm=Ge(rm),im=ve({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nm=Ge(im),om=ve({},ts,{data:0}),ic=Ge(om),am={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cm[e])?!!t[e]:!1}function Ja(){return um}var hm=ve({},si,{key:function(e){if(e.key){var t=am[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dm=Ge(hm),fm=ve({},bn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=Ge(fm),pm=ve({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),mm=Ge(pm),gm=ve({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=Ge(gm),_m=ve({},bn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ym=Ge(_m),xm=[9,13,27,32],Za=kt&&"CompositionEvent"in window,ws=null;kt&&"documentMode"in document&&(ws=document.documentMode);var Sm=kt&&"TextEvent"in window&&!ws,gh=kt&&(!Za||ws&&8<ws&&11>=ws),oc=" ",ac=!1;function vh(e,t){switch(e){case"keyup":return xm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jr=!1;function bm(e,t){switch(e){case"compositionend":return _h(t);case"keypress":return t.which!==32?null:(ac=!0,oc);case"textInput":return e=t.data,e===oc&&ac?null:e;default:return null}}function wm(e,t){if(jr)return e==="compositionend"||!Za&&vh(e,t)?(e=mh(),Li=Xa=Ht=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gh&&t.locale!=="ko"?null:t.data;default:return null}}var Cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cm[e.type]:t==="textarea"}function yh(e,t,r,s){Xu(s),t=Gi(t,"onChange"),0<t.length&&(r=new Ya("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Cs=null,Is=null;function km(e){Nh(e,0)}function wn(e){var t=Nr(e);if(Wu(t))return e}function Em(e,t){if(e==="change")return t}var xh=!1;if(kt){var to;if(kt){var ro="oninput"in document;if(!ro){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),ro=typeof cc.oninput=="function"}to=ro}else to=!1;xh=to&&(!document.documentMode||9<document.documentMode)}function uc(){Cs&&(Cs.detachEvent("onpropertychange",Sh),Is=Cs=null)}function Sh(e){if(e.propertyName==="value"&&wn(Is)){var t=[];yh(t,Is,e,qa(e)),eh(km,t)}}function jm(e,t,r){e==="focusin"?(uc(),Cs=t,Is=r,Cs.attachEvent("onpropertychange",Sh)):e==="focusout"&&uc()}function Rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wn(Is)}function Lm(e,t){if(e==="click")return wn(t)}function Nm(e,t){if(e==="input"||e==="change")return wn(t)}function Dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Dm;function Bs(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var i=r[s];if(!jo.call(t,i)||!ht(e[i],t[i]))return!1}return!0}function hc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dc(e,t){var r=hc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hc(r)}}function bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(){for(var e=window,t=Ui();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ui(e.document)}return t}function el(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pm(e){var t=wh(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bh(r.ownerDocument.documentElement,r)){if(s!==null&&el(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(s.start,i);s=s.end===void 0?o:Math.min(s.end,i),!e.extend&&o>s&&(i=s,s=o,o=i),i=dc(r,o);var p=dc(r,s);i&&p&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tm=kt&&"documentMode"in document&&11>=document.documentMode,Rr=null,Qo=null,ks=null,Ko=!1;function fc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ko||Rr==null||Rr!==Ui(s)||(s=Rr,"selectionStart"in s&&el(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ks&&Bs(ks,s)||(ks=s,s=Gi(Qo,"onSelect"),0<s.length&&(t=new Ya("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Rr)))}function gi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lr={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},so={},Ch={};kt&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Cn(e){if(so[e])return so[e];if(!Lr[e])return e;var t=Lr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ch)return so[e]=t[r];return e}var kh=Cn("animationend"),Eh=Cn("animationiteration"),jh=Cn("animationstart"),Rh=Cn("transitionend"),Lh=new Map,pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){Lh.set(e,t),_r(t,[e])}for(var io=0;io<pc.length;io++){var no=pc[io],Mm=no.toLowerCase(),Am=no[0].toUpperCase()+no.slice(1);rr(Mm,"on"+Am)}rr(kh,"onAnimationEnd");rr(Eh,"onAnimationIteration");rr(jh,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Rh,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function mc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Mp(s,t,void 0,e),e.currentTarget=null}function Nh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],i=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var p=s.length-1;0<=p;p--){var n=s[p],a=n.instance,f=n.currentTarget;if(n=n.listener,a!==o&&i.isPropagationStopped())break e;mc(i,n,f),o=a}else for(p=0;p<s.length;p++){if(n=s[p],a=n.instance,f=n.currentTarget,n=n.listener,a!==o&&i.isPropagationStopped())break e;mc(i,n,f),o=a}}}if($i)throw e=Uo,$i=!1,Uo=null,e}function ce(e,t){var r=t[Jo];r===void 0&&(r=t[Jo]=new Set);var s=e+"__bubble";r.has(s)||(Dh(t,e,2,!1),r.add(s))}function oo(e,t,r){var s=0;t&&(s|=4),Dh(r,e,s,t)}var vi="_reactListening"+Math.random().toString(36).slice(2);function Fs(e){if(!e[vi]){e[vi]=!0,Bu.forEach(function(r){r!=="selectionchange"&&(Om.has(r)||oo(r,!1,e),oo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vi]||(t[vi]=!0,oo("selectionchange",!1,t))}}function Dh(e,t,r,s){switch(ph(t)){case 1:var i=Xp;break;case 4:i=Yp;break;default:i=Ga}r=i.bind(null,t,r,e),i=void 0,!zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ao(e,t,r,s,i){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var n=s.stateNode.containerInfo;if(n===i||n.nodeType===8&&n.parentNode===i)break;if(p===4)for(p=s.return;p!==null;){var a=p.tag;if((a===3||a===4)&&(a=p.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;p=p.return}for(;n!==null;){if(p=lr(n),p===null)return;if(a=p.tag,a===5||a===6){s=o=p;continue e}n=n.parentNode}}s=s.return}eh(function(){var f=o,v=qa(r),m=[];e:{var _=Lh.get(e);if(_!==void 0){var w=Ya,b=e;switch(e){case"keypress":if(Ni(r)===0)break e;case"keydown":case"keyup":w=dm;break;case"focusin":b="focus",w=eo;break;case"focusout":b="blur",w=eo;break;case"beforeblur":case"afterblur":w=eo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=mm;break;case kh:case Eh:case jh:w=sm;break;case Rh:w=vm;break;case"scroll":w=Jp;break;case"wheel":w=ym;break;case"copy":case"cut":case"paste":w=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=nc}var g=(t&4)!==0,c=!g&&e==="scroll",h=g?_!==null?_+"Capture":null:_;g=[];for(var l=f,d;l!==null;){d=l;var y=d.stateNode;if(d.tag===5&&y!==null&&(d=y,h!==null&&(y=Ts(l,h),y!=null&&g.push(Hs(l,y,d)))),c)break;l=l.return}0<g.length&&(_=new w(_,b,null,r,v),m.push({event:_,listeners:g}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",_&&r!==Fo&&(b=r.relatedTarget||r.fromElement)&&(lr(b)||b[Et]))break e;if((w||_)&&(_=v.window===v?v:(_=v.ownerDocument)?_.defaultView||_.parentWindow:window,w?(b=r.relatedTarget||r.toElement,w=f,b=b?lr(b):null,b!==null&&(c=yr(b),b!==c||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=f),w!==b)){if(g=sc,y="onMouseLeave",h="onMouseEnter",l="mouse",(e==="pointerout"||e==="pointerover")&&(g=nc,y="onPointerLeave",h="onPointerEnter",l="pointer"),c=w==null?_:Nr(w),d=b==null?_:Nr(b),_=new g(y,l+"leave",w,r,v),_.target=c,_.relatedTarget=d,y=null,lr(v)===f&&(g=new g(h,l+"enter",b,r,v),g.target=d,g.relatedTarget=c,y=g),c=y,w&&b)t:{for(g=w,h=b,l=0,d=g;d;d=Cr(d))l++;for(d=0,y=h;y;y=Cr(y))d++;for(;0<l-d;)g=Cr(g),l--;for(;0<d-l;)h=Cr(h),d--;for(;l--;){if(g===h||h!==null&&g===h.alternate)break t;g=Cr(g),h=Cr(h)}g=null}else g=null;w!==null&&gc(m,_,w,g,!1),b!==null&&c!==null&&gc(m,c,b,g,!0)}}e:{if(_=f?Nr(f):window,w=_.nodeName&&_.nodeName.toLowerCase(),w==="select"||w==="input"&&_.type==="file")var S=Em;else if(lc(_))if(xh)S=Nm;else{S=Rm;var C=jm}else(w=_.nodeName)&&w.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(S=Lm);if(S&&(S=S(e,f))){yh(m,S,r,v);break e}C&&C(e,_,f),e==="focusout"&&(C=_._wrapperState)&&C.controlled&&_.type==="number"&&Mo(_,"number",_.value)}switch(C=f?Nr(f):window,e){case"focusin":(lc(C)||C.contentEditable==="true")&&(Rr=C,Qo=f,ks=null);break;case"focusout":ks=Qo=Rr=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,fc(m,r,v);break;case"selectionchange":if(Tm)break;case"keydown":case"keyup":fc(m,r,v)}var E;if(Za)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else jr?vh(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(gh&&r.locale!=="ko"&&(jr||x!=="onCompositionStart"?x==="onCompositionEnd"&&jr&&(E=mh()):(Ht=v,Xa="value"in Ht?Ht.value:Ht.textContent,jr=!0)),C=Gi(f,x),0<C.length&&(x=new ic(x,e,null,r,v),m.push({event:x,listeners:C}),E?x.data=E:(E=_h(r),E!==null&&(x.data=E)))),(E=Sm?bm(e,r):wm(e,r))&&(f=Gi(f,"onBeforeInput"),0<f.length&&(v=new ic("onBeforeInput","beforeinput",null,r,v),m.push({event:v,listeners:f}),v.data=E))}Nh(m,t)})}function Hs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gi(e,t){for(var r=t+"Capture",s=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ts(e,r),o!=null&&s.unshift(Hs(e,o,i)),o=Ts(e,t),o!=null&&s.push(Hs(e,o,i))),e=e.return}return s}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gc(e,t,r,s,i){for(var o=t._reactName,p=[];r!==null&&r!==s;){var n=r,a=n.alternate,f=n.stateNode;if(a!==null&&a===s)break;n.tag===5&&f!==null&&(n=f,i?(a=Ts(r,o),a!=null&&p.unshift(Hs(r,a,n))):i||(a=Ts(r,o),a!=null&&p.push(Hs(r,a,n)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var Im=/\r\n?/g,Bm=/\u0000|\uFFFD/g;function vc(e){return(typeof e=="string"?e:""+e).replace(Im,`
`).replace(Bm,"")}function _i(e,t,r){if(t=vc(t),vc(e)!==t&&r)throw Error(q(425))}function Xi(){}var Vo=null,Go=null;function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yo=typeof setTimeout=="function"?setTimeout:void 0,Fm=typeof clearTimeout=="function"?clearTimeout:void 0,_c=typeof Promise=="function"?Promise:void 0,Hm=typeof queueMicrotask=="function"?queueMicrotask:typeof _c<"u"?function(e){return _c.resolve(null).then(e).catch(zm)}:Yo;function zm(e){setTimeout(function(){throw e})}function lo(e,t){var r=t,s=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(s===0){e.removeChild(i),Os(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=i}while(r);Os(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),gt="__reactFiber$"+rs,zs="__reactProps$"+rs,Et="__reactContainer$"+rs,Jo="__reactEvents$"+rs,Um="__reactListeners$"+rs,Wm="__reactHandles$"+rs;function lr(e){var t=e[gt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Et]||r[gt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yc(e);e!==null;){if(r=e[gt])return r;e=yc(e)}return t}e=r,r=e.parentNode}return null}function ii(e){return e=e[gt]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function kn(e){return e[zs]||null}var Zo=[],Dr=-1;function sr(e){return{current:e}}function he(e){0>Dr||(e.current=Zo[Dr],Zo[Dr]=null,Dr--)}function le(e,t){Dr++,Zo[Dr]=e.current,e.current=t}var er={},Te=sr(er),ze=sr(!1),fr=er;function Qr(e,t){var r=e.type.contextTypes;if(!r)return er;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ue(e){return e=e.childContextTypes,e!=null}function Yi(){he(ze),he(Te)}function xc(e,t,r){if(Te.current!==er)throw Error(q(168));le(Te,t),le(ze,r)}function Ph(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(q(108,jp(e)||"Unknown",i));return ve({},r,s)}function Ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,fr=Te.current,le(Te,e),le(ze,ze.current),!0}function Sc(e,t,r){var s=e.stateNode;if(!s)throw Error(q(169));r?(e=Ph(e,t,fr),s.__reactInternalMemoizedMergedChildContext=e,he(ze),he(Te),le(Te,e)):he(ze),le(ze,r)}var St=null,En=!1,co=!1;function Th(e){St===null?St=[e]:St.push(e)}function $m(e){En=!0,Th(e)}function ir(){if(!co&&St!==null){co=!0;var e=0,t=ae;try{var r=St;for(ae=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}St=null,En=!1}catch(i){throw St!==null&&(St=St.slice(e+1)),ih(Qa,ir),i}finally{ae=t,co=!1}}return null}var Pr=[],Tr=0,Zi=null,en=0,Je=[],Ze=0,pr=null,bt=1,wt="";function or(e,t){Pr[Tr++]=en,Pr[Tr++]=Zi,Zi=e,en=t}function Mh(e,t,r){Je[Ze++]=bt,Je[Ze++]=wt,Je[Ze++]=pr,pr=e;var s=bt;e=wt;var i=32-ct(s)-1;s&=~(1<<i),r+=1;var o=32-ct(t)+i;if(30<o){var p=i-i%5;o=(s&(1<<p)-1).toString(32),s>>=p,i-=p,bt=1<<32-ct(t)+i|r<<i|s,wt=o+e}else bt=1<<o|r<<i|s,wt=e}function tl(e){e.return!==null&&(or(e,1),Mh(e,1,0))}function rl(e){for(;e===Zi;)Zi=Pr[--Tr],Pr[Tr]=null,en=Pr[--Tr],Pr[Tr]=null;for(;e===pr;)pr=Je[--Ze],Je[Ze]=null,wt=Je[--Ze],Je[Ze]=null,bt=Je[--Ze],Je[Ze]=null}var Qe=null,qe=null,de=!1,lt=null;function Ah(e,t){var r=et(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,qe=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pr!==null?{id:bt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=et(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qe=e,qe=null,!0):!1;default:return!1}}function ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ta(e){if(de){var t=qe;if(t){var r=t;if(!bc(e,t)){if(ea(e))throw Error(q(418));t=Kt(r.nextSibling);var s=Qe;t&&bc(e,t)?Ah(s,r):(e.flags=e.flags&-4097|2,de=!1,Qe=e)}}else{if(ea(e))throw Error(q(418));e.flags=e.flags&-4097|2,de=!1,Qe=e}}}function wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function yi(e){if(e!==Qe)return!1;if(!de)return wc(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xo(e.type,e.memoizedProps)),t&&(t=qe)){if(ea(e))throw Oh(),Error(q(418));for(;t;)Ah(e,t),t=Kt(t.nextSibling)}if(wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qe=Kt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Qe?Kt(e.stateNode.nextSibling):null;return!0}function Oh(){for(var e=qe;e;)e=Kt(e.nextSibling)}function Kr(){qe=Qe=null,de=!1}function sl(e){lt===null?lt=[e]:lt.push(e)}var qm=Lt.ReactCurrentBatchConfig;function ps(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var s=r.stateNode}if(!s)throw Error(q(147,e));var i=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(p){var n=i.refs;p===null?delete n[o]:n[o]=p},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cc(e){var t=e._init;return t(e._payload)}function Ih(e){function t(h,l){if(e){var d=h.deletions;d===null?(h.deletions=[l],h.flags|=16):d.push(l)}}function r(h,l){if(!e)return null;for(;l!==null;)t(h,l),l=l.sibling;return null}function s(h,l){for(h=new Map;l!==null;)l.key!==null?h.set(l.key,l):h.set(l.index,l),l=l.sibling;return h}function i(h,l){return h=Yt(h,l),h.index=0,h.sibling=null,h}function o(h,l,d){return h.index=d,e?(d=h.alternate,d!==null?(d=d.index,d<l?(h.flags|=2,l):d):(h.flags|=2,l)):(h.flags|=1048576,l)}function p(h){return e&&h.alternate===null&&(h.flags|=2),h}function n(h,l,d,y){return l===null||l.tag!==6?(l=vo(d,h.mode,y),l.return=h,l):(l=i(l,d),l.return=h,l)}function a(h,l,d,y){var S=d.type;return S===Er?v(h,l,d.props.children,y,d.key):l!==null&&(l.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===At&&Cc(S)===l.type)?(y=i(l,d.props),y.ref=ps(h,l,d),y.return=h,y):(y=Ii(d.type,d.key,d.props,null,h.mode,y),y.ref=ps(h,l,d),y.return=h,y)}function f(h,l,d,y){return l===null||l.tag!==4||l.stateNode.containerInfo!==d.containerInfo||l.stateNode.implementation!==d.implementation?(l=_o(d,h.mode,y),l.return=h,l):(l=i(l,d.children||[]),l.return=h,l)}function v(h,l,d,y,S){return l===null||l.tag!==7?(l=dr(d,h.mode,y,S),l.return=h,l):(l=i(l,d),l.return=h,l)}function m(h,l,d){if(typeof l=="string"&&l!==""||typeof l=="number")return l=vo(""+l,h.mode,d),l.return=h,l;if(typeof l=="object"&&l!==null){switch(l.$$typeof){case ci:return d=Ii(l.type,l.key,l.props,null,h.mode,d),d.ref=ps(h,null,l),d.return=h,d;case kr:return l=_o(l,h.mode,d),l.return=h,l;case At:var y=l._init;return m(h,y(l._payload),d)}if(_s(l)||cs(l))return l=dr(l,h.mode,d,null),l.return=h,l;xi(h,l)}return null}function _(h,l,d,y){var S=l!==null?l.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return S!==null?null:n(h,l,""+d,y);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ci:return d.key===S?a(h,l,d,y):null;case kr:return d.key===S?f(h,l,d,y):null;case At:return S=d._init,_(h,l,S(d._payload),y)}if(_s(d)||cs(d))return S!==null?null:v(h,l,d,y,null);xi(h,d)}return null}function w(h,l,d,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(d)||null,n(l,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ci:return h=h.get(y.key===null?d:y.key)||null,a(l,h,y,S);case kr:return h=h.get(y.key===null?d:y.key)||null,f(l,h,y,S);case At:var C=y._init;return w(h,l,d,C(y._payload),S)}if(_s(y)||cs(y))return h=h.get(d)||null,v(l,h,y,S,null);xi(l,y)}return null}function b(h,l,d,y){for(var S=null,C=null,E=l,x=l=0,k=null;E!==null&&x<d.length;x++){E.index>x?(k=E,E=null):k=E.sibling;var L=_(h,E,d[x],y);if(L===null){E===null&&(E=k);break}e&&E&&L.alternate===null&&t(h,E),l=o(L,l,x),C===null?S=L:C.sibling=L,C=L,E=k}if(x===d.length)return r(h,E),de&&or(h,x),S;if(E===null){for(;x<d.length;x++)E=m(h,d[x],y),E!==null&&(l=o(E,l,x),C===null?S=E:C.sibling=E,C=E);return de&&or(h,x),S}for(E=s(h,E);x<d.length;x++)k=w(E,h,x,d[x],y),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?x:k.key),l=o(k,l,x),C===null?S=k:C.sibling=k,C=k);return e&&E.forEach(function(N){return t(h,N)}),de&&or(h,x),S}function g(h,l,d,y){var S=cs(d);if(typeof S!="function")throw Error(q(150));if(d=S.call(d),d==null)throw Error(q(151));for(var C=S=null,E=l,x=l=0,k=null,L=d.next();E!==null&&!L.done;x++,L=d.next()){E.index>x?(k=E,E=null):k=E.sibling;var N=_(h,E,L.value,y);if(N===null){E===null&&(E=k);break}e&&E&&N.alternate===null&&t(h,E),l=o(N,l,x),C===null?S=N:C.sibling=N,C=N,E=k}if(L.done)return r(h,E),de&&or(h,x),S;if(E===null){for(;!L.done;x++,L=d.next())L=m(h,L.value,y),L!==null&&(l=o(L,l,x),C===null?S=L:C.sibling=L,C=L);return de&&or(h,x),S}for(E=s(h,E);!L.done;x++,L=d.next())L=w(E,h,x,L.value,y),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?x:L.key),l=o(L,l,x),C===null?S=L:C.sibling=L,C=L);return e&&E.forEach(function(D){return t(h,D)}),de&&or(h,x),S}function c(h,l,d,y){if(typeof d=="object"&&d!==null&&d.type===Er&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case ci:e:{for(var S=d.key,C=l;C!==null;){if(C.key===S){if(S=d.type,S===Er){if(C.tag===7){r(h,C.sibling),l=i(C,d.props.children),l.return=h,h=l;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===At&&Cc(S)===C.type){r(h,C.sibling),l=i(C,d.props),l.ref=ps(h,C,d),l.return=h,h=l;break e}r(h,C);break}else t(h,C);C=C.sibling}d.type===Er?(l=dr(d.props.children,h.mode,y,d.key),l.return=h,h=l):(y=Ii(d.type,d.key,d.props,null,h.mode,y),y.ref=ps(h,l,d),y.return=h,h=y)}return p(h);case kr:e:{for(C=d.key;l!==null;){if(l.key===C)if(l.tag===4&&l.stateNode.containerInfo===d.containerInfo&&l.stateNode.implementation===d.implementation){r(h,l.sibling),l=i(l,d.children||[]),l.return=h,h=l;break e}else{r(h,l);break}else t(h,l);l=l.sibling}l=_o(d,h.mode,y),l.return=h,h=l}return p(h);case At:return C=d._init,c(h,l,C(d._payload),y)}if(_s(d))return b(h,l,d,y);if(cs(d))return g(h,l,d,y);xi(h,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,l!==null&&l.tag===6?(r(h,l.sibling),l=i(l,d),l.return=h,h=l):(r(h,l),l=vo(d,h.mode,y),l.return=h,h=l),p(h)):r(h,l)}return c}var Vr=Ih(!0),Bh=Ih(!1),tn=sr(null),rn=null,Mr=null,il=null;function nl(){il=Mr=rn=null}function ol(e){var t=tn.current;he(tn),e._currentValue=t}function ra(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Wr(e,t){rn=e,il=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(il!==e)if(e={context:e,memoizedValue:t,next:null},Mr===null){if(rn===null)throw Error(q(308));Mr=e,rn.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var cr=null;function al(e){cr===null?cr=[e]:cr.push(e)}function Fh(e,t,r,s){var i=t.interleaved;return i===null?(r.next=r,al(t)):(r.next=i.next,i.next=r),t.interleaved=r,jt(e,s)}function jt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ot=!1;function ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,se&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,jt(e,r)}return i=s.interleaved,i===null?(t.next=t,al(s)):(t.next=i.next,i.next=t),s.interleaved=t,jt(e,r)}function Di(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ka(e,r)}}function kc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=p:o=o.next=p,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sn(e,t,r,s){var i=e.updateQueue;Ot=!1;var o=i.firstBaseUpdate,p=i.lastBaseUpdate,n=i.shared.pending;if(n!==null){i.shared.pending=null;var a=n,f=a.next;a.next=null,p===null?o=f:p.next=f,p=a;var v=e.alternate;v!==null&&(v=v.updateQueue,n=v.lastBaseUpdate,n!==p&&(n===null?v.firstBaseUpdate=f:n.next=f,v.lastBaseUpdate=a))}if(o!==null){var m=i.baseState;p=0,v=f=a=null,n=o;do{var _=n.lane,w=n.eventTime;if((s&_)===_){v!==null&&(v=v.next={eventTime:w,lane:0,tag:n.tag,payload:n.payload,callback:n.callback,next:null});e:{var b=e,g=n;switch(_=t,w=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){m=b.call(w,m,_);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,_=typeof b=="function"?b.call(w,m,_):b,_==null)break e;m=ve({},m,_);break e;case 2:Ot=!0}}n.callback!==null&&n.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[n]:_.push(n))}else w={eventTime:w,lane:_,tag:n.tag,payload:n.payload,callback:n.callback,next:null},v===null?(f=v=w,a=m):v=v.next=w,p|=_;if(n=n.next,n===null){if(n=i.shared.pending,n===null)break;_=n,n=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(v===null&&(a=m),i.baseState=a,i.firstBaseUpdate=f,i.lastBaseUpdate=v,t=i.shared.interleaved,t!==null){i=t;do p|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);gr|=p,e.lanes=p,e.memoizedState=m}}function Ec(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=r,typeof i!="function")throw Error(q(191,i));i.call(s)}}}var ni={},yt=sr(ni),Us=sr(ni),Ws=sr(ni);function ur(e){if(e===ni)throw Error(q(174));return e}function cl(e,t){switch(le(Ws,t),le(Us,e),le(yt,ni),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oo(t,e)}he(yt),le(yt,t)}function Gr(){he(yt),he(Us),he(Ws)}function zh(e){ur(Ws.current);var t=ur(yt.current),r=Oo(t,e.type);t!==r&&(le(Us,e),le(yt,r))}function ul(e){Us.current===e&&(he(yt),he(Us))}var me=sr(0);function nn(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function hl(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var Pi=Lt.ReactCurrentDispatcher,ho=Lt.ReactCurrentBatchConfig,mr=0,ge=null,be=null,Ce=null,on=!1,Es=!1,$s=0,Qm=0;function Ne(){throw Error(q(321))}function dl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ht(e[r],t[r]))return!1;return!0}function fl(e,t,r,s,i,o){if(mr=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pi.current=e===null||e.memoizedState===null?Xm:Ym,e=r(s,i),Es){o=0;do{if(Es=!1,$s=0,25<=o)throw Error(q(301));o+=1,Ce=be=null,t.updateQueue=null,Pi.current=Jm,e=r(s,i)}while(Es)}if(Pi.current=an,t=be!==null&&be.next!==null,mr=0,Ce=be=ge=null,on=!1,t)throw Error(q(300));return e}function pl(){var e=$s!==0;return $s=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ge.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function st(){if(be===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ce===null?ge.memoizedState:Ce.next;if(t!==null)Ce=t,be=e;else{if(e===null)throw Error(q(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ce===null?ge.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function qs(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=st(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var s=be,i=s.baseQueue,o=r.pending;if(o!==null){if(i!==null){var p=i.next;i.next=o.next,o.next=p}s.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,s=s.baseState;var n=p=null,a=null,f=o;do{var v=f.lane;if((mr&v)===v)a!==null&&(a=a.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),s=f.hasEagerState?f.eagerState:e(s,f.action);else{var m={lane:v,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};a===null?(n=a=m,p=s):a=a.next=m,ge.lanes|=v,gr|=v}f=f.next}while(f!==null&&f!==o);a===null?p=s:a.next=n,ht(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=a,r.lastRenderedState=s}if(e=r.interleaved,e!==null){i=e;do o=i.lane,ge.lanes|=o,gr|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function po(e){var t=st(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var s=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var p=i=i.next;do o=e(o,p.action),p=p.next;while(p!==i);ht(o,t.memoizedState)||(He=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function Uh(){}function Wh(e,t){var r=ge,s=st(),i=t(),o=!ht(s.memoizedState,i);if(o&&(s.memoizedState=i,He=!0),s=s.queue,ml(Qh.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||Ce!==null&&Ce.memoizedState.tag&1){if(r.flags|=2048,Qs(9,qh.bind(null,r,s,i,t),void 0,null),ke===null)throw Error(q(349));mr&30||$h(r,t,i)}return i}function $h(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qh(e,t,r,s){t.value=r,t.getSnapshot=s,Kh(t)&&Vh(e)}function Qh(e,t,r){return r(function(){Kh(t)&&Vh(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ht(e,r)}catch{return!0}}function Vh(e){var t=jt(e,1);t!==null&&ut(t,e,1,-1)}function jc(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Gm.bind(null,ge,e),[t.memoizedState,e]}function Qs(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Gh(){return st().memoizedState}function Ti(e,t,r,s){var i=mt();ge.flags|=e,i.memoizedState=Qs(1|t,r,void 0,s===void 0?null:s)}function jn(e,t,r,s){var i=st();s=s===void 0?null:s;var o=void 0;if(be!==null){var p=be.memoizedState;if(o=p.destroy,s!==null&&dl(s,p.deps)){i.memoizedState=Qs(t,r,o,s);return}}ge.flags|=e,i.memoizedState=Qs(1|t,r,o,s)}function Rc(e,t){return Ti(8390656,8,e,t)}function ml(e,t){return jn(2048,8,e,t)}function Xh(e,t){return jn(4,2,e,t)}function Yh(e,t){return jn(4,4,e,t)}function Jh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zh(e,t,r){return r=r!=null?r.concat([e]):null,jn(4,4,Jh.bind(null,t,e),r)}function gl(){}function ed(e,t){var r=st();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&dl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function td(e,t){var r=st();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&dl(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function rd(e,t,r){return mr&21?(ht(r,t)||(r=ah(),ge.lanes|=r,gr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=r)}function Km(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var s=ho.transition;ho.transition={};try{e(!1),t()}finally{ae=r,ho.transition=s}}function sd(){return st().memoizedState}function Vm(e,t,r){var s=Xt(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},id(e))nd(t,r);else if(r=Fh(e,t,r,s),r!==null){var i=Ae();ut(r,e,s,i),od(r,t,s)}}function Gm(e,t,r){var s=Xt(e),i={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(id(e))nd(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var p=t.lastRenderedState,n=o(p,r);if(i.hasEagerState=!0,i.eagerState=n,ht(n,p)){var a=t.interleaved;a===null?(i.next=i,al(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}r=Fh(e,t,i,s),r!==null&&(i=Ae(),ut(r,e,s,i),od(r,t,s))}}function id(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function nd(e,t){Es=on=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function od(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ka(e,r)}}var an={readContext:rt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},Xm={readContext:rt,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Rc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ti(4194308,4,Jh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var r=mt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=mt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Vm.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:jc,useDebugValue:gl,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=jc(!1),t=e[0];return e=Km.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ge,i=mt();if(de){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),ke===null)throw Error(q(349));mr&30||$h(s,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Rc(Qh.bind(null,s,o,e),[e]),s.flags|=2048,Qs(9,qh.bind(null,s,o,r,t),void 0,null),r},useId:function(){var e=mt(),t=ke.identifierPrefix;if(de){var r=wt,s=bt;r=(s&~(1<<32-ct(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=$s++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Qm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ym={readContext:rt,useCallback:ed,useContext:rt,useEffect:ml,useImperativeHandle:Zh,useInsertionEffect:Xh,useLayoutEffect:Yh,useMemo:td,useReducer:fo,useRef:Gh,useState:function(){return fo(qs)},useDebugValue:gl,useDeferredValue:function(e){var t=st();return rd(t,be.memoizedState,e)},useTransition:function(){var e=fo(qs)[0],t=st().memoizedState;return[e,t]},useMutableSource:Uh,useSyncExternalStore:Wh,useId:sd,unstable_isNewReconciler:!1},Jm={readContext:rt,useCallback:ed,useContext:rt,useEffect:ml,useImperativeHandle:Zh,useInsertionEffect:Xh,useLayoutEffect:Yh,useMemo:td,useReducer:po,useRef:Gh,useState:function(){return po(qs)},useDebugValue:gl,useDeferredValue:function(e){var t=st();return be===null?t.memoizedState=e:rd(t,be.memoizedState,e)},useTransition:function(){var e=po(qs)[0],t=st().memoizedState;return[e,t]},useMutableSource:Uh,useSyncExternalStore:Wh,useId:sd,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sa(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rn={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ae(),i=Xt(e),o=Ct(s,i);o.payload=t,r!=null&&(o.callback=r),t=Vt(e,o,i),t!==null&&(ut(t,e,i,s),Di(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ae(),i=Xt(e),o=Ct(s,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Vt(e,o,i),t!==null&&(ut(t,e,i,s),Di(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ae(),s=Xt(e),i=Ct(r,s);i.tag=2,t!=null&&(i.callback=t),t=Vt(e,i,s),t!==null&&(ut(t,e,s,r),Di(t,e,s))}};function Lc(e,t,r,s,i,o,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,p):t.prototype&&t.prototype.isPureReactComponent?!Bs(r,s)||!Bs(i,o):!0}function ad(e,t,r){var s=!1,i=er,o=t.contextType;return typeof o=="object"&&o!==null?o=rt(o):(i=Ue(t)?fr:Te.current,s=t.contextTypes,o=(s=s!=null)?Qr(e,i):er),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rn,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Nc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Rn.enqueueReplaceState(t,t.state,null)}function ia(e,t,r,s){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},ll(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=rt(o):(o=Ue(t)?fr:Te.current,i.context=Qr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(sa(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rn.enqueueReplaceState(i,i.state,null),sn(e,r,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",s=t;do r+=Ep(s),s=s.return;while(s);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function mo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function na(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Zm=typeof WeakMap=="function"?WeakMap:Map;function ld(e,t,r){r=Ct(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){cn||(cn=!0,ma=s),na(e,t)},r}function cd(e,t,r){r=Ct(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;r.payload=function(){return s(i)},r.callback=function(){na(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){na(e,t),typeof s!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function Dc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Zm;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(r)||(i.add(r),e=fg.bind(null,e,t,r),t.then(e,e))}function Pc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tc(e,t,r,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ct(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var eg=Lt.ReactCurrentOwner,He=!1;function Me(e,t,r,s){t.child=e===null?Bh(t,null,r,s):Vr(t,e.child,r,s)}function Mc(e,t,r,s,i){r=r.render;var o=t.ref;return Wr(t,i),s=fl(e,t,r,s,o,i),r=pl(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rt(e,t,i)):(de&&r&&tl(t),t.flags|=1,Me(e,t,s,i),t.child)}function Ac(e,t,r,s,i){if(e===null){var o=r.type;return typeof o=="function"&&!Cl(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,ud(e,t,o,s,i)):(e=Ii(r.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var p=o.memoizedProps;if(r=r.compare,r=r!==null?r:Bs,r(p,s)&&e.ref===t.ref)return Rt(e,t,i)}return t.flags|=1,e=Yt(o,s),e.ref=t.ref,e.return=t,t.child=e}function ud(e,t,r,s,i){if(e!==null){var o=e.memoizedProps;if(Bs(o,s)&&e.ref===t.ref)if(He=!1,t.pendingProps=s=o,(e.lanes&i)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Rt(e,t,i)}return oa(e,t,r,s,i)}function hd(e,t,r){var s=t.pendingProps,i=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Or,$e),$e|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Or,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:r,le(Or,$e),$e|=s}else o!==null?(s=o.baseLanes|r,t.memoizedState=null):s=r,le(Or,$e),$e|=s;return Me(e,t,i,r),t.child}function dd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function oa(e,t,r,s,i){var o=Ue(r)?fr:Te.current;return o=Qr(t,o),Wr(t,i),r=fl(e,t,r,s,o,i),s=pl(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rt(e,t,i)):(de&&s&&tl(t),t.flags|=1,Me(e,t,r,i),t.child)}function Oc(e,t,r,s,i){if(Ue(r)){var o=!0;Ji(t)}else o=!1;if(Wr(t,i),t.stateNode===null)Mi(e,t),ad(t,r,s),ia(t,r,s,i),s=!0;else if(e===null){var p=t.stateNode,n=t.memoizedProps;p.props=n;var a=p.context,f=r.contextType;typeof f=="object"&&f!==null?f=rt(f):(f=Ue(r)?fr:Te.current,f=Qr(t,f));var v=r.getDerivedStateFromProps,m=typeof v=="function"||typeof p.getSnapshotBeforeUpdate=="function";m||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(n!==s||a!==f)&&Nc(t,p,s,f),Ot=!1;var _=t.memoizedState;p.state=_,sn(t,s,p,i),a=t.memoizedState,n!==s||_!==a||ze.current||Ot?(typeof v=="function"&&(sa(t,r,v,s),a=t.memoizedState),(n=Ot||Lc(t,r,n,s,_,a,f))?(m||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=a),p.props=s,p.state=a,p.context=f,s=n):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,Hh(e,t),n=t.memoizedProps,f=t.type===t.elementType?n:ot(t.type,n),p.props=f,m=t.pendingProps,_=p.context,a=r.contextType,typeof a=="object"&&a!==null?a=rt(a):(a=Ue(r)?fr:Te.current,a=Qr(t,a));var w=r.getDerivedStateFromProps;(v=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(n!==m||_!==a)&&Nc(t,p,s,a),Ot=!1,_=t.memoizedState,p.state=_,sn(t,s,p,i);var b=t.memoizedState;n!==m||_!==b||ze.current||Ot?(typeof w=="function"&&(sa(t,r,w,s),b=t.memoizedState),(f=Ot||Lc(t,r,f,s,_,b,a)||!1)?(v||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,b,a),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,b,a)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||n===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||n===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),p.props=s,p.state=b,p.context=a,s=f):(typeof p.componentDidUpdate!="function"||n===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||n===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),s=!1)}return aa(e,t,r,s,o,i)}function aa(e,t,r,s,i,o){dd(e,t);var p=(t.flags&128)!==0;if(!s&&!p)return i&&Sc(t,r,!1),Rt(e,t,o);s=t.stateNode,eg.current=t;var n=p&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&p?(t.child=Vr(t,e.child,null,o),t.child=Vr(t,null,n,o)):Me(e,t,n,o),t.memoizedState=s.state,i&&Sc(t,r,!0),t.child}function fd(e){var t=e.stateNode;t.pendingContext?xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xc(e,t.context,!1),cl(e,t.containerInfo)}function Ic(e,t,r,s,i){return Kr(),sl(i),t.flags|=256,Me(e,t,r,s),t.child}var la={dehydrated:null,treeContext:null,retryLane:0};function ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function pd(e,t,r){var s=t.pendingProps,i=me.current,o=!1,p=(t.flags&128)!==0,n;if((n=p)||(n=e!==null&&e.memoizedState===null?!1:(i&2)!==0),n?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),le(me,i&1),e===null)return ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=s.children,e=s.fallback,o?(s=t.mode,o=t.child,p={mode:"hidden",children:p},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=p):o=Dn(p,s,0,null),e=dr(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ca(r),t.memoizedState=la,e):vl(t,p));if(i=e.memoizedState,i!==null&&(n=i.dehydrated,n!==null))return tg(e,t,p,s,n,i,r);if(o){o=s.fallback,p=t.mode,i=e.child,n=i.sibling;var a={mode:"hidden",children:s.children};return!(p&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=a,t.deletions=null):(s=Yt(i,a),s.subtreeFlags=i.subtreeFlags&14680064),n!==null?o=Yt(n,o):(o=dr(o,p,r,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,p=e.child.memoizedState,p=p===null?ca(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},o.memoizedState=p,o.childLanes=e.childLanes&~r,t.memoizedState=la,s}return o=e.child,e=o.sibling,s=Yt(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function vl(e,t){return t=Dn({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Si(e,t,r,s){return s!==null&&sl(s),Vr(t,e.child,null,r),e=vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tg(e,t,r,s,i,o,p){if(r)return t.flags&256?(t.flags&=-257,s=mo(Error(q(422))),Si(e,t,p,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,i=t.mode,s=Dn({mode:"visible",children:s.children},i,0,null),o=dr(o,i,p,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&Vr(t,e.child,null,p),t.child.memoizedState=ca(p),t.memoizedState=la,o);if(!(t.mode&1))return Si(e,t,p,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var n=s.dgst;return s=n,o=Error(q(419)),s=mo(o,s,void 0),Si(e,t,p,s)}if(n=(p&e.childLanes)!==0,He||n){if(s=ke,s!==null){switch(p&-p){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|p)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jt(e,i),ut(s,e,i,-1))}return wl(),s=mo(Error(q(421))),Si(e,t,p,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pg.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,qe=Kt(i.nextSibling),Qe=t,de=!0,lt=null,e!==null&&(Je[Ze++]=bt,Je[Ze++]=wt,Je[Ze++]=pr,bt=e.id,wt=e.overflow,pr=t),t=vl(t,s.children),t.flags|=4096,t)}function Bc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ra(e.return,t,r)}function go(e,t,r,s,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=i)}function md(e,t,r){var s=t.pendingProps,i=s.revealOrder,o=s.tail;if(Me(e,t,s.children,r),s=me.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,r,t);else if(e.tag===19)Bc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(le(me,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&nn(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),go(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&nn(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}go(t,!0,r,null,o);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=Yt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rg(e,t,r){switch(t.tag){case 3:fd(t),Kr();break;case 5:zh(t);break;case 1:Ue(t.type)&&Ji(t);break;case 4:cl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;le(tn,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(le(me,me.current&1),t.flags|=128,null):r&t.child.childLanes?pd(e,t,r):(le(me,me.current&1),e=Rt(e,t,r),e!==null?e.sibling:null);le(me,me.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return md(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(me,me.current),s)break;return null;case 22:case 23:return t.lanes=0,hd(e,t,r)}return Rt(e,t,r)}var gd,ua,vd,_d;gd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ua=function(){};vd=function(e,t,r,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,ur(yt.current);var o=null;switch(r){case"input":i=Po(e,i),s=Po(e,s),o=[];break;case"select":i=ve({},i,{value:void 0}),s=ve({},s,{value:void 0}),o=[];break;case"textarea":i=Ao(e,i),s=Ao(e,s),o=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Xi)}Io(r,s);var p;r=null;for(f in i)if(!s.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var n=i[f];for(p in n)n.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ds.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in s){var a=s[f];if(n=i!=null?i[f]:void 0,s.hasOwnProperty(f)&&a!==n&&(a!=null||n!=null))if(f==="style")if(n){for(p in n)!n.hasOwnProperty(p)||a&&a.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in a)a.hasOwnProperty(p)&&n[p]!==a[p]&&(r||(r={}),r[p]=a[p])}else r||(o||(o=[]),o.push(f,r)),r=a;else f==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,n=n?n.__html:void 0,a!=null&&n!==a&&(o=o||[]).push(f,a)):f==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(f,""+a):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(f)?(a!=null&&f==="onScroll"&&ce("scroll",e),o||n===a||(o=[])):(o=o||[]).push(f,a))}r&&(o=o||[]).push("style",r);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};_d=function(e,t,r,s){r!==s&&(t.flags|=4)};function ms(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function sg(e,t,r){var s=t.pendingProps;switch(rl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Ue(t.type)&&Yi(),De(t),null;case 3:return s=t.stateNode,Gr(),he(ze),he(Te),hl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lt!==null&&(_a(lt),lt=null))),ua(e,t),De(t),null;case 5:ul(t);var i=ur(Ws.current);if(r=t.type,e!==null&&t.stateNode!=null)vd(e,t,r,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(q(166));return De(t),null}if(e=ur(yt.current),yi(t)){s=t.stateNode,r=t.type;var o=t.memoizedProps;switch(s[gt]=t,s[zs]=o,e=(t.mode&1)!==0,r){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(i=0;i<xs.length;i++)ce(xs[i],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":Kl(s,o),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},ce("invalid",s);break;case"textarea":Gl(s,o),ce("invalid",s)}Io(r,o),i=null;for(var p in o)if(o.hasOwnProperty(p)){var n=o[p];p==="children"?typeof n=="string"?s.textContent!==n&&(o.suppressHydrationWarning!==!0&&_i(s.textContent,n,e),i=["children",n]):typeof n=="number"&&s.textContent!==""+n&&(o.suppressHydrationWarning!==!0&&_i(s.textContent,n,e),i=["children",""+n]):Ds.hasOwnProperty(p)&&n!=null&&p==="onScroll"&&ce("scroll",s)}switch(r){case"input":ui(s),Vl(s,o,!0);break;case"textarea":ui(s),Xl(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Xi)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(r,{is:s.is}):(e=p.createElement(r),r==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,r),e[gt]=t,e[zs]=s,gd(e,t,!1,!1),t.stateNode=e;e:{switch(p=Bo(r,s),r){case"dialog":ce("cancel",e),ce("close",e),i=s;break;case"iframe":case"object":case"embed":ce("load",e),i=s;break;case"video":case"audio":for(i=0;i<xs.length;i++)ce(xs[i],e);i=s;break;case"source":ce("error",e),i=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),i=s;break;case"details":ce("toggle",e),i=s;break;case"input":Kl(e,s),i=Po(e,s),ce("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=ve({},s,{value:void 0}),ce("invalid",e);break;case"textarea":Gl(e,s),i=Ao(e,s),ce("invalid",e);break;default:i=s}Io(r,i),n=i;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];o==="style"?Gu(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ku(e,a)):o==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Ps(e,a):typeof a=="number"&&Ps(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ds.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ce("scroll",e):a!=null&&za(e,o,a,p))}switch(r){case"input":ui(e),Vl(e,s,!1);break;case"textarea":ui(e),Xl(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Zt(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?Fr(e,!!s.multiple,o,!1):s.defaultValue!=null&&Fr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Xi)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)_d(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(q(166));if(r=ur(Ws.current),ur(yt.current),yi(t)){if(s=t.stateNode,r=t.memoizedProps,s[gt]=t,(o=s.nodeValue!==r)&&(e=Qe,e!==null))switch(e.tag){case 3:_i(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_i(s.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[gt]=t,t.stateNode=s}return De(t),null;case 13:if(he(me),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&qe!==null&&t.mode&1&&!(t.flags&128))Oh(),Kr(),t.flags|=98560,o=!1;else if(o=yi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[gt]=t}else Kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),o=!1}else lt!==null&&(_a(lt),lt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?we===0&&(we=3):wl())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Gr(),ua(e,t),e===null&&Fs(t.stateNode.containerInfo),De(t),null;case 10:return ol(t.type._context),De(t),null;case 17:return Ue(t.type)&&Yi(),De(t),null;case 19:if(he(me),o=t.memoizedState,o===null)return De(t),null;if(s=(t.flags&128)!==0,p=o.rendering,p===null)if(s)ms(o,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=nn(e),p!==null){for(t.flags|=128,ms(o,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)o=r,e=s,o.flags&=14680066,p=o.alternate,p===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,e=p.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(me,me.current&1|2),t.child}e=e.sibling}o.tail!==null&&ye()>Yr&&(t.flags|=128,s=!0,ms(o,!1),t.lanes=4194304)}else{if(!s)if(e=nn(p),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ms(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!de)return De(t),null}else 2*ye()-o.renderingStartTime>Yr&&r!==1073741824&&(t.flags|=128,s=!0,ms(o,!1),t.lanes=4194304);o.isBackwards?(p.sibling=t.child,t.child=p):(r=o.last,r!==null?r.sibling=p:t.child=p,o.last=p)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ye(),t.sibling=null,r=me.current,le(me,s?r&1|2:r&1),t):(De(t),null);case 22:case 23:return bl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?$e&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function ig(e,t){switch(rl(t),t.tag){case 1:return Ue(t.type)&&Yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),he(ze),he(Te),hl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ul(t),null;case 13:if(he(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(me),null;case 4:return Gr(),null;case 10:return ol(t.type._context),null;case 22:case 23:return bl(),null;case 24:return null;default:return null}}var bi=!1,Pe=!1,ng=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ar(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){_e(e,t,s)}else r.current=null}function ha(e,t,r){try{r()}catch(s){_e(e,t,s)}}var Fc=!1;function og(e,t){if(Vo=Ki,e=wh(),el(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var i=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var p=0,n=-1,a=-1,f=0,v=0,m=e,_=null;t:for(;;){for(var w;m!==r||i!==0&&m.nodeType!==3||(n=p+i),m!==o||s!==0&&m.nodeType!==3||(a=p+s),m.nodeType===3&&(p+=m.nodeValue.length),(w=m.firstChild)!==null;)_=m,m=w;for(;;){if(m===e)break t;if(_===r&&++f===i&&(n=p),_===o&&++v===s&&(a=p),(w=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=w}r=n===-1||a===-1?null:{start:n,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Go={focusedElem:e,selectionRange:r},Ki=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,c=b.memoizedState,h=t.stateNode,l=h.getSnapshotBeforeUpdate(t.elementType===t.type?g:ot(t.type,g),c);h.__reactInternalSnapshotBeforeUpdate=l}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(y){_e(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return b=Fc,Fc=!1,b}function js(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ha(t,r,o)}i=i.next}while(i!==s)}}function Ln(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function da(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yd(e){var t=e.alternate;t!==null&&(e.alternate=null,yd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[zs],delete t[Jo],delete t[Um],delete t[Wm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xd(e){return e.tag===5||e.tag===3||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fa(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xi));else if(s!==4&&(e=e.child,e!==null))for(fa(e,t,r),e=e.sibling;e!==null;)fa(e,t,r),e=e.sibling}function pa(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(pa(e,t,r),e=e.sibling;e!==null;)pa(e,t,r),e=e.sibling}var je=null,at=!1;function Tt(e,t,r){for(r=r.child;r!==null;)Sd(e,t,r),r=r.sibling}function Sd(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Sn,r)}catch{}switch(r.tag){case 5:Pe||Ar(r,t);case 6:var s=je,i=at;je=null,Tt(e,t,r),je=s,at=i,je!==null&&(at?(e=je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(at?(e=je,r=r.stateNode,e.nodeType===8?lo(e.parentNode,r):e.nodeType===1&&lo(e,r),Os(e)):lo(je,r.stateNode));break;case 4:s=je,i=at,je=r.stateNode.containerInfo,at=!0,Tt(e,t,r),je=s,at=i;break;case 0:case 11:case 14:case 15:if(!Pe&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var o=i,p=o.destroy;o=o.tag,p!==void 0&&(o&2||o&4)&&ha(r,t,p),i=i.next}while(i!==s)}Tt(e,t,r);break;case 1:if(!Pe&&(Ar(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(n){_e(r,t,n)}Tt(e,t,r);break;case 21:Tt(e,t,r);break;case 22:r.mode&1?(Pe=(s=Pe)||r.memoizedState!==null,Tt(e,t,r),Pe=s):Tt(e,t,r);break;default:Tt(e,t,r)}}function zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ng),t.forEach(function(s){var i=mg.bind(null,e,s);r.has(s)||(r.add(s),s.then(i,i))})}}function nt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];try{var o=e,p=t,n=p;e:for(;n!==null;){switch(n.tag){case 5:je=n.stateNode,at=!1;break e;case 3:je=n.stateNode.containerInfo,at=!0;break e;case 4:je=n.stateNode.containerInfo,at=!0;break e}n=n.return}if(je===null)throw Error(q(160));Sd(o,p,i),je=null,at=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(f){_e(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bd(t,e),t=t.sibling}function bd(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),ft(e),s&4){try{js(3,e,e.return),Ln(3,e)}catch(g){_e(e,e.return,g)}try{js(5,e,e.return)}catch(g){_e(e,e.return,g)}}break;case 1:nt(t,e),ft(e),s&512&&r!==null&&Ar(r,r.return);break;case 5:if(nt(t,e),ft(e),s&512&&r!==null&&Ar(r,r.return),e.flags&32){var i=e.stateNode;try{Ps(i,"")}catch(g){_e(e,e.return,g)}}if(s&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,p=r!==null?r.memoizedProps:o,n=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{n==="input"&&o.type==="radio"&&o.name!=null&&$u(i,o),Bo(n,p);var f=Bo(n,o);for(p=0;p<a.length;p+=2){var v=a[p],m=a[p+1];v==="style"?Gu(i,m):v==="dangerouslySetInnerHTML"?Ku(i,m):v==="children"?Ps(i,m):za(i,v,m,f)}switch(n){case"input":To(i,o);break;case"textarea":qu(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Fr(i,!!o.multiple,w,!1):_!==!!o.multiple&&(o.defaultValue!=null?Fr(i,!!o.multiple,o.defaultValue,!0):Fr(i,!!o.multiple,o.multiple?[]:"",!1))}i[zs]=o}catch(g){_e(e,e.return,g)}}break;case 6:if(nt(t,e),ft(e),s&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){_e(e,e.return,g)}}break;case 3:if(nt(t,e),ft(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Os(t.containerInfo)}catch(g){_e(e,e.return,g)}break;case 4:nt(t,e),ft(e);break;case 13:nt(t,e),ft(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xl=ye())),s&4&&zc(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(Pe=(f=Pe)||v,nt(t,e),Pe=f):nt(t,e),ft(e),s&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!v&&e.mode&1)for(V=e,v=e.child;v!==null;){for(m=V=v;V!==null;){switch(_=V,w=_.child,_.tag){case 0:case 11:case 14:case 15:js(4,_,_.return);break;case 1:Ar(_,_.return);var b=_.stateNode;if(typeof b.componentWillUnmount=="function"){s=_,r=_.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){_e(s,r,g)}}break;case 5:Ar(_,_.return);break;case 22:if(_.memoizedState!==null){Wc(m);continue}}w!==null?(w.return=_,V=w):Wc(m)}v=v.sibling}e:for(v=null,m=e;;){if(m.tag===5){if(v===null){v=m;try{i=m.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(n=m.stateNode,a=m.memoizedProps.style,p=a!=null&&a.hasOwnProperty("display")?a.display:null,n.style.display=Vu("display",p))}catch(g){_e(e,e.return,g)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(g){_e(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:nt(t,e),ft(e),s&4&&zc(e);break;case 21:break;default:nt(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xd(r)){var s=r;break e}r=r.return}throw Error(q(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ps(i,""),s.flags&=-33);var o=Hc(e);pa(e,o,i);break;case 3:case 4:var p=s.stateNode.containerInfo,n=Hc(e);fa(e,n,p);break;default:throw Error(q(161))}}catch(a){_e(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ag(e,t,r){V=e,wd(e)}function wd(e,t,r){for(var s=(e.mode&1)!==0;V!==null;){var i=V,o=i.child;if(i.tag===22&&s){var p=i.memoizedState!==null||bi;if(!p){var n=i.alternate,a=n!==null&&n.memoizedState!==null||Pe;n=bi;var f=Pe;if(bi=p,(Pe=a)&&!f)for(V=i;V!==null;)p=V,a=p.child,p.tag===22&&p.memoizedState!==null?$c(i):a!==null?(a.return=p,V=a):$c(i);for(;o!==null;)V=o,wd(o),o=o.sibling;V=i,bi=n,Pe=f}Uc(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,V=o):Uc(e)}}function Uc(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Ln(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Pe)if(r===null)s.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ot(t.type,r.memoizedProps);s.componentDidUpdate(i,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ec(t,o,s);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ec(t,p,r)}break;case 5:var n=t.stateNode;if(r===null&&t.flags&4){r=n;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var v=f.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&Os(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Pe||t.flags&512&&da(t)}catch(_){_e(t,t.return,_)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function Wc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function $c(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ln(4,t)}catch(a){_e(t,r,a)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(a){_e(t,i,a)}}var o=t.return;try{da(t)}catch(a){_e(t,o,a)}break;case 5:var p=t.return;try{da(t)}catch(a){_e(t,p,a)}}}catch(a){_e(t,t.return,a)}if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}var lg=Math.ceil,ln=Lt.ReactCurrentDispatcher,_l=Lt.ReactCurrentOwner,tt=Lt.ReactCurrentBatchConfig,se=0,ke=null,Se=null,Re=0,$e=0,Or=sr(0),we=0,Ks=null,gr=0,Nn=0,yl=0,Rs=null,Fe=null,xl=0,Yr=1/0,xt=null,cn=!1,ma=null,Gt=null,wi=!1,zt=null,un=0,Ls=0,ga=null,Ai=-1,Oi=0;function Ae(){return se&6?ye():Ai!==-1?Ai:Ai=ye()}function Xt(e){return e.mode&1?se&2&&Re!==0?Re&-Re:qm.transition!==null?(Oi===0&&(Oi=ah()),Oi):(e=ae,e!==0||(e=window.event,e=e===void 0?16:ph(e.type)),e):1}function ut(e,t,r,s){if(50<Ls)throw Ls=0,ga=null,Error(q(185));ri(e,r,s),(!(se&2)||e!==ke)&&(e===ke&&(!(se&2)&&(Nn|=r),we===4&&Ft(e,Re)),We(e,s),r===1&&se===0&&!(t.mode&1)&&(Yr=ye()+500,En&&ir()))}function We(e,t){var r=e.callbackNode;qp(e,t);var s=Qi(e,e===ke?Re:0);if(s===0)r!==null&&Zl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Zl(r),t===1)e.tag===0?$m(qc.bind(null,e)):Th(qc.bind(null,e)),Hm(function(){!(se&6)&&ir()}),r=null;else{switch(lh(s)){case 1:r=Qa;break;case 4:r=nh;break;case 16:r=qi;break;case 536870912:r=oh;break;default:r=qi}r=Dd(r,Cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Cd(e,t){if(Ai=-1,Oi=0,se&6)throw Error(q(327));var r=e.callbackNode;if($r()&&e.callbackNode!==r)return null;var s=Qi(e,e===ke?Re:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=hn(e,s);else{t=s;var i=se;se|=2;var o=Ed();(ke!==e||Re!==t)&&(xt=null,Yr=ye()+500,hr(e,t));do try{hg();break}catch(n){kd(e,n)}while(!0);nl(),ln.current=o,se=i,Se!==null?t=0:(ke=null,Re=0,t=we)}if(t!==0){if(t===2&&(i=Wo(e),i!==0&&(s=i,t=va(e,i))),t===1)throw r=Ks,hr(e,0),Ft(e,s),We(e,ye()),r;if(t===6)Ft(e,s);else{if(i=e.current.alternate,!(s&30)&&!cg(i)&&(t=hn(e,s),t===2&&(o=Wo(e),o!==0&&(s=o,t=va(e,o))),t===1))throw r=Ks,hr(e,0),Ft(e,s),We(e,ye()),r;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(q(345));case 2:ar(e,Fe,xt);break;case 3:if(Ft(e,s),(s&130023424)===s&&(t=xl+500-ye(),10<t)){if(Qi(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Ae(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yo(ar.bind(null,e,Fe,xt),t);break}ar(e,Fe,xt);break;case 4:if(Ft(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var p=31-ct(s);o=1<<p,p=t[p],p>i&&(i=p),s&=~o}if(s=i,s=ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*lg(s/1960))-s,10<s){e.timeoutHandle=Yo(ar.bind(null,e,Fe,xt),s);break}ar(e,Fe,xt);break;case 5:ar(e,Fe,xt);break;default:throw Error(q(329))}}}return We(e,ye()),e.callbackNode===r?Cd.bind(null,e):null}function va(e,t){var r=Rs;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=hn(e,t),e!==2&&(t=Fe,Fe=r,t!==null&&_a(t)),e}function _a(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function cg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var i=r[s],o=i.getSnapshot;i=i.value;try{if(!ht(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~yl,t&=~Nn,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ct(t),s=1<<r;e[r]=-1,t&=~s}}function qc(e){if(se&6)throw Error(q(327));$r();var t=Qi(e,0);if(!(t&1))return We(e,ye()),null;var r=hn(e,t);if(e.tag!==0&&r===2){var s=Wo(e);s!==0&&(t=s,r=va(e,s))}if(r===1)throw r=Ks,hr(e,0),Ft(e,t),We(e,ye()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,Fe,xt),We(e,ye()),null}function Sl(e,t){var r=se;se|=1;try{return e(t)}finally{se=r,se===0&&(Yr=ye()+500,En&&ir())}}function vr(e){zt!==null&&zt.tag===0&&!(se&6)&&$r();var t=se;se|=1;var r=tt.transition,s=ae;try{if(tt.transition=null,ae=1,e)return e()}finally{ae=s,tt.transition=r,se=t,!(se&6)&&ir()}}function bl(){$e=Or.current,he(Or)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fm(r)),Se!==null)for(r=Se.return;r!==null;){var s=r;switch(rl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Yi();break;case 3:Gr(),he(ze),he(Te),hl();break;case 5:ul(s);break;case 4:Gr();break;case 13:he(me);break;case 19:he(me);break;case 10:ol(s.type._context);break;case 22:case 23:bl()}r=r.return}if(ke=e,Se=e=Yt(e.current,null),Re=$e=t,we=0,Ks=null,yl=Nn=gr=0,Fe=Rs=null,cr!==null){for(t=0;t<cr.length;t++)if(r=cr[t],s=r.interleaved,s!==null){r.interleaved=null;var i=s.next,o=r.pending;if(o!==null){var p=o.next;o.next=i,s.next=p}r.pending=s}cr=null}return e}function kd(e,t){do{var r=Se;try{if(nl(),Pi.current=an,on){for(var s=ge.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}on=!1}if(mr=0,Ce=be=ge=null,Es=!1,$s=0,_l.current=null,r===null||r.return===null){we=1,Ks=t,Se=null;break}e:{var o=e,p=r.return,n=r,a=t;if(t=Re,n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var f=a,v=n,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var _=v.alternate;_?(v.updateQueue=_.updateQueue,v.memoizedState=_.memoizedState,v.lanes=_.lanes):(v.updateQueue=null,v.memoizedState=null)}var w=Pc(p);if(w!==null){w.flags&=-257,Tc(w,p,n,o,t),w.mode&1&&Dc(o,f,t),t=w,a=f;var b=t.updateQueue;if(b===null){var g=new Set;g.add(a),t.updateQueue=g}else b.add(a);break e}else{if(!(t&1)){Dc(o,f,t),wl();break e}a=Error(q(426))}}else if(de&&n.mode&1){var c=Pc(p);if(c!==null){!(c.flags&65536)&&(c.flags|=256),Tc(c,p,n,o,t),sl(Xr(a,n));break e}}o=a=Xr(a,n),we!==4&&(we=2),Rs===null?Rs=[o]:Rs.push(o),o=p;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=ld(o,a,t);kc(o,h);break e;case 1:n=a;var l=o.type,d=o.stateNode;if(!(o.flags&128)&&(typeof l.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gt===null||!Gt.has(d)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=cd(o,n,t);kc(o,y);break e}}o=o.return}while(o!==null)}Rd(r)}catch(S){t=S,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(!0)}function Ed(){var e=ln.current;return ln.current=an,e===null?an:e}function wl(){(we===0||we===3||we===2)&&(we=4),ke===null||!(gr&268435455)&&!(Nn&268435455)||Ft(ke,Re)}function hn(e,t){var r=se;se|=2;var s=Ed();(ke!==e||Re!==t)&&(xt=null,hr(e,t));do try{ug();break}catch(i){kd(e,i)}while(!0);if(nl(),se=r,ln.current=s,Se!==null)throw Error(q(261));return ke=null,Re=0,we}function ug(){for(;Se!==null;)jd(Se)}function hg(){for(;Se!==null&&!Op();)jd(Se)}function jd(e){var t=Nd(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?Rd(e):Se=t,_l.current=null}function Rd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ig(r,t),r!==null){r.flags&=32767,Se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,Se=null;return}}else if(r=sg(r,t,$e),r!==null){Se=r;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);we===0&&(we=5)}function ar(e,t,r){var s=ae,i=tt.transition;try{tt.transition=null,ae=1,dg(e,t,r,s)}finally{tt.transition=i,ae=s}return null}function dg(e,t,r,s){do $r();while(zt!==null);if(se&6)throw Error(q(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Qp(e,o),e===ke&&(Se=ke=null,Re=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wi||(wi=!0,Dd(qi,function(){return $r(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=tt.transition,tt.transition=null;var p=ae;ae=1;var n=se;se|=4,_l.current=null,og(e,r),bd(r,e),Pm(Go),Ki=!!Vo,Go=Vo=null,e.current=r,ag(r),Ip(),se=n,ae=p,tt.transition=o}else e.current=r;if(wi&&(wi=!1,zt=e,un=i),o=e.pendingLanes,o===0&&(Gt=null),Hp(r.stateNode),We(e,ye()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],s(i.value,{componentStack:i.stack,digest:i.digest});if(cn)throw cn=!1,e=ma,ma=null,e;return un&1&&e.tag!==0&&$r(),o=e.pendingLanes,o&1?e===ga?Ls++:(Ls=0,ga=e):Ls=0,ir(),null}function $r(){if(zt!==null){var e=lh(un),t=tt.transition,r=ae;try{if(tt.transition=null,ae=16>e?16:e,zt===null)var s=!1;else{if(e=zt,zt=null,un=0,se&6)throw Error(q(331));var i=se;for(se|=4,V=e.current;V!==null;){var o=V,p=o.child;if(V.flags&16){var n=o.deletions;if(n!==null){for(var a=0;a<n.length;a++){var f=n[a];for(V=f;V!==null;){var v=V;switch(v.tag){case 0:case 11:case 15:js(8,v,o)}var m=v.child;if(m!==null)m.return=v,V=m;else for(;V!==null;){v=V;var _=v.sibling,w=v.return;if(yd(v),v===f){V=null;break}if(_!==null){_.return=w,V=_;break}V=w}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var c=g.sibling;g.sibling=null,g=c}while(g!==null)}}V=o}}if(o.subtreeFlags&2064&&p!==null)p.return=o,V=p;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:js(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,V=h;break e}V=o.return}}var l=e.current;for(V=l;V!==null;){p=V;var d=p.child;if(p.subtreeFlags&2064&&d!==null)d.return=p,V=d;else e:for(p=l;V!==null;){if(n=V,n.flags&2048)try{switch(n.tag){case 0:case 11:case 15:Ln(9,n)}}catch(S){_e(n,n.return,S)}if(n===p){V=null;break e}var y=n.sibling;if(y!==null){y.return=n.return,V=y;break e}V=n.return}}if(se=i,ir(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Sn,e)}catch{}s=!0}return s}finally{ae=r,tt.transition=t}}return!1}function Qc(e,t,r){t=Xr(r,t),t=ld(e,t,1),e=Vt(e,t,1),t=Ae(),e!==null&&(ri(e,1,t),We(e,t))}function _e(e,t,r){if(e.tag===3)Qc(e,e,r);else for(;t!==null;){if(t.tag===3){Qc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Gt===null||!Gt.has(s))){e=Xr(r,e),e=cd(t,e,1),t=Vt(t,e,1),e=Ae(),t!==null&&(ri(t,1,e),We(t,e));break}}t=t.return}}function fg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&r,ke===e&&(Re&r)===r&&(we===4||we===3&&(Re&130023424)===Re&&500>ye()-xl?hr(e,0):yl|=r),We(e,t)}function Ld(e,t){t===0&&(e.mode&1?(t=fi,fi<<=1,!(fi&130023424)&&(fi=4194304)):t=1);var r=Ae();e=jt(e,t),e!==null&&(ri(e,t,r),We(e,r))}function pg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ld(e,r)}function mg(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(q(314))}s!==null&&s.delete(t),Ld(e,r)}var Nd;Nd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)He=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return He=!1,rg(e,t,r);He=!!(e.flags&131072)}else He=!1,de&&t.flags&1048576&&Mh(t,en,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Mi(e,t),e=t.pendingProps;var i=Qr(t,Te.current);Wr(t,r),i=fl(null,t,s,e,i,r);var o=pl();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(s)?(o=!0,Ji(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ll(t),i.updater=Rn,t.stateNode=i,i._reactInternals=t,ia(t,s,e,r),t=aa(null,t,s,!0,o,r)):(t.tag=0,de&&o&&tl(t),Me(null,t,i,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=vg(s),e=ot(s,e),i){case 0:t=oa(null,t,s,e,r);break e;case 1:t=Oc(null,t,s,e,r);break e;case 11:t=Mc(null,t,s,e,r);break e;case 14:t=Ac(null,t,s,ot(s.type,e),r);break e}throw Error(q(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ot(s,i),oa(e,t,s,i,r);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ot(s,i),Oc(e,t,s,i,r);case 3:e:{if(fd(t),e===null)throw Error(q(387));s=t.pendingProps,o=t.memoizedState,i=o.element,Hh(e,t),sn(t,s,null,r);var p=t.memoizedState;if(s=p.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Xr(Error(q(423)),t),t=Ic(e,t,s,r,i);break e}else if(s!==i){i=Xr(Error(q(424)),t),t=Ic(e,t,s,r,i);break e}else for(qe=Kt(t.stateNode.containerInfo.firstChild),Qe=t,de=!0,lt=null,r=Bh(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),s===i){t=Rt(e,t,r);break e}Me(e,t,s,r)}t=t.child}return t;case 5:return zh(t),e===null&&ta(t),s=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,p=i.children,Xo(s,i)?p=null:o!==null&&Xo(s,o)&&(t.flags|=32),dd(e,t),Me(e,t,p,r),t.child;case 6:return e===null&&ta(t),null;case 13:return pd(e,t,r);case 4:return cl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Vr(t,null,s,r):Me(e,t,s,r),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ot(s,i),Mc(e,t,s,i,r);case 7:return Me(e,t,t.pendingProps,r),t.child;case 8:return Me(e,t,t.pendingProps.children,r),t.child;case 12:return Me(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,o=t.memoizedProps,p=i.value,le(tn,s._currentValue),s._currentValue=p,o!==null)if(ht(o.value,p)){if(o.children===i.children&&!ze.current){t=Rt(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var n=o.dependencies;if(n!==null){p=o.child;for(var a=n.firstContext;a!==null;){if(a.context===s){if(o.tag===1){a=Ct(-1,r&-r),a.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var v=f.pending;v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a}}o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ra(o.return,r,t),n.lanes|=r;break}a=a.next}}else if(o.tag===10)p=o.type===t.type?null:o.child;else if(o.tag===18){if(p=o.return,p===null)throw Error(q(341));p.lanes|=r,n=p.alternate,n!==null&&(n.lanes|=r),ra(p,r,t),p=o.sibling}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===t){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}Me(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Wr(t,r),i=rt(i),s=s(i),t.flags|=1,Me(e,t,s,r),t.child;case 14:return s=t.type,i=ot(s,t.pendingProps),i=ot(s.type,i),Ac(e,t,s,i,r);case 15:return ud(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:ot(s,i),Mi(e,t),t.tag=1,Ue(s)?(e=!0,Ji(t)):e=!1,Wr(t,r),ad(t,s,i),ia(t,s,i,r),aa(null,t,s,!0,e,r);case 19:return md(e,t,r);case 22:return hd(e,t,r)}throw Error(q(156,t.tag))};function Dd(e,t){return ih(e,t)}function gg(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(e,t,r,s){return new gg(e,t,r,s)}function Cl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vg(e){if(typeof e=="function")return Cl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wa)return 11;if(e===$a)return 14}return 2}function Yt(e,t){var r=e.alternate;return r===null?(r=et(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ii(e,t,r,s,i,o){var p=2;if(s=e,typeof e=="function")Cl(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Er:return dr(r.children,i,o,t);case Ua:p=8,i|=8;break;case Ro:return e=et(12,r,t,i|2),e.elementType=Ro,e.lanes=o,e;case Lo:return e=et(13,r,t,i),e.elementType=Lo,e.lanes=o,e;case No:return e=et(19,r,t,i),e.elementType=No,e.lanes=o,e;case zu:return Dn(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fu:p=10;break e;case Hu:p=9;break e;case Wa:p=11;break e;case $a:p=14;break e;case At:p=16,s=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=et(p,r,t,i),t.elementType=e,t.type=s,t.lanes=o,t}function dr(e,t,r,s){return e=et(7,e,s,t),e.lanes=r,e}function Dn(e,t,r,s){return e=et(22,e,s,t),e.elementType=zu,e.lanes=r,e.stateNode={isHidden:!1},e}function vo(e,t,r){return e=et(6,e,null,t),e.lanes=r,e}function _o(e,t,r){return t=et(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _g(e,t,r,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yn(0),this.expirationTimes=Yn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kl(e,t,r,s,i,o,p,n,a){return e=new _g(e,t,r,n,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=et(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ll(o),e}function yg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Pd(e){if(!e)return er;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(Ue(r))return Ph(e,r,t)}return t}function Td(e,t,r,s,i,o,p,n,a){return e=kl(r,s,!0,e,i,o,p,n,a),e.context=Pd(null),r=e.current,s=Ae(),i=Xt(r),o=Ct(s,i),o.callback=t??null,Vt(r,o,i),e.current.lanes=i,ri(e,i,s),We(e,s),e}function Pn(e,t,r,s){var i=t.current,o=Ae(),p=Xt(i);return r=Pd(r),t.context===null?t.context=r:t.pendingContext=r,t=Ct(o,p),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Vt(i,t,p),e!==null&&(ut(e,i,p,o),Di(e,i,p)),p}function dn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function El(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}function xg(){return null}var Md=typeof reportError=="function"?reportError:function(e){console.error(e)};function jl(e){this._internalRoot=e}Tn.prototype.render=jl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Pn(e,t,null,null)};Tn.prototype.unmount=jl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vr(function(){Pn(null,e,null,null)}),t[Et]=null}};function Tn(e){this._internalRoot=e}Tn.prototype.unstable_scheduleHydration=function(e){if(e){var t=hh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&fh(e)}};function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mn(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vc(){}function Sg(e,t,r,s,i){if(i){if(typeof s=="function"){var o=s;s=function(){var f=dn(p);o.call(f)}}var p=Td(t,s,e,0,null,!1,!1,"",Vc);return e._reactRootContainer=p,e[Et]=p.current,Fs(e.nodeType===8?e.parentNode:e),vr(),p}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var n=s;s=function(){var f=dn(a);n.call(f)}}var a=kl(e,0,!1,null,null,!1,!1,"",Vc);return e._reactRootContainer=a,e[Et]=a.current,Fs(e.nodeType===8?e.parentNode:e),vr(function(){Pn(t,a,r,s)}),a}function An(e,t,r,s,i){var o=r._reactRootContainer;if(o){var p=o;if(typeof i=="function"){var n=i;i=function(){var a=dn(p);n.call(a)}}Pn(t,p,e,i)}else p=Sg(r,t,e,i,s);return dn(p)}ch=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ys(t.pendingLanes);r!==0&&(Ka(t,r|1),We(t,ye()),!(se&6)&&(Yr=ye()+500,ir()))}break;case 13:vr(function(){var s=jt(e,1);if(s!==null){var i=Ae();ut(s,e,1,i)}}),El(e,1)}};Va=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var r=Ae();ut(t,e,134217728,r)}El(e,134217728)}};uh=function(e){if(e.tag===13){var t=Xt(e),r=jt(e,t);if(r!==null){var s=Ae();ut(r,e,t,s)}El(e,t)}};hh=function(){return ae};dh=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};Ho=function(e,t,r){switch(t){case"input":if(To(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var i=kn(s);if(!i)throw Error(q(90));Wu(s),To(s,i)}}}break;case"textarea":qu(e,r);break;case"select":t=r.value,t!=null&&Fr(e,!!r.multiple,t,!1)}};Ju=Sl;Zu=vr;var bg={usingClientEntryPoint:!1,Events:[ii,Nr,kn,Xu,Yu,Sl]},gs={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wg={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rh(e),e===null?null:e.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||xg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{Sn=Ci.inject(wg),_t=Ci}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bg;Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rl(t))throw Error(q(200));return yg(e,t,null,r)};Ve.createRoot=function(e,t){if(!Rl(e))throw Error(q(299));var r=!1,s="",i=Md;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=kl(e,1,!1,null,null,r,!1,s,i),e[Et]=t.current,Fs(e.nodeType===8?e.parentNode:e),new jl(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=rh(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return vr(e)};Ve.hydrate=function(e,t,r){if(!Mn(t))throw Error(q(200));return An(null,e,t,!0,r)};Ve.hydrateRoot=function(e,t,r){if(!Rl(e))throw Error(q(405));var s=r!=null&&r.hydratedSources||null,i=!1,o="",p=Md;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=Td(t,null,e,1,r??null,i,!1,o,p),e[Et]=t.current,Fs(e),s)for(e=0;e<s.length;e++)r=s[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Tn(t)};Ve.render=function(e,t,r){if(!Mn(t))throw Error(q(200));return An(null,e,t,!1,r)};Ve.unmountComponentAtNode=function(e){if(!Mn(e))throw Error(q(40));return e._reactRootContainer?(vr(function(){An(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};Ve.unstable_batchedUpdates=Sl;Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Mn(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return An(e,t,r,!1,s)};Ve.version="18.3.1-next-f1338f8080-20240426";function Ad(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ad)}catch(e){console.error(e)}}Ad(),Au.exports=Ve;var Cg=Au.exports,Gc=Cg;Eo.createRoot=Gc.createRoot,Eo.hydrateRoot=Gc.hydrateRoot;class xr{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const r={listener:t};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Vs=typeof window>"u"||"Deno"in window;function Ye(){}function kg(e,t){return typeof e=="function"?e(t):e}function ya(e){return typeof e=="number"&&e>=0&&e!==1/0}function Xc(e,t){return e.filter(r=>!t.includes(r))}function Eg(e,t,r){const s=e.slice(0);return s[t]=r,s}function Od(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ir(e,t,r){return oi(e)?typeof t=="function"?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function jg(e,t,r){return oi(e)?{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function It(e,t,r){return oi(e)?[{...t,queryKey:e},r]:[e||{},t]}function Yc(e,t){const{type:r="all",exact:s,fetchStatus:i,predicate:o,queryKey:p,stale:n}=e;if(oi(p)){if(s){if(t.queryHash!==Ll(p,t.options))return!1}else if(!fn(t.queryKey,p))return!1}if(r!=="all"){const a=t.isActive();if(r==="active"&&!a||r==="inactive"&&a)return!1}return!(typeof n=="boolean"&&t.isStale()!==n||typeof i<"u"&&i!==t.state.fetchStatus||o&&!o(t))}function Jc(e,t){const{exact:r,fetching:s,predicate:i,mutationKey:o}=e;if(oi(o)){if(!t.options.mutationKey)return!1;if(r){if(Ut(t.options.mutationKey)!==Ut(o))return!1}else if(!fn(t.options.mutationKey,o))return!1}return!(typeof s=="boolean"&&t.state.status==="loading"!==s||i&&!i(t))}function Ll(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ut)(e)}function Ut(e){return JSON.stringify(e,(t,r)=>xa(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function fn(e,t){return Id(e,t)}function Id(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Id(e[r],t[r])):!1}function Bd(e,t){if(e===t)return e;const r=Zc(e)&&Zc(t);if(r||xa(e)&&xa(t)){const s=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),o=i.length,p=r?[]:{};let n=0;for(let a=0;a<o;a++){const f=r?a:i[a];p[f]=Bd(e[f],t[f]),p[f]===e[f]&&n++}return s===o&&n===s?e:p}return t}function pn(e,t){if(e&&!t||t&&!e)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Zc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xa(e){if(!eu(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!eu(r)||!r.hasOwnProperty("isPrototypeOf"))}function eu(e){return Object.prototype.toString.call(e)==="[object Object]"}function oi(e){return Array.isArray(e)}function Fd(e){return new Promise(t=>{setTimeout(t,e)})}function tu(e){Fd(0).then(e)}function Rg(){if(typeof AbortController=="function")return new AbortController}function Sa(e,t,r){return r.isDataEqual!=null&&r.isDataEqual(e,t)?e:typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Bd(e,t):t}class Lg extends xr{constructor(){super(),this.setup=t=>{if(!Vs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const mn=new Lg,ru=["online","offline"];class Ng extends xr{constructor(){super(),this.setup=t=>{if(!Vs&&window.addEventListener){const r=()=>t();return ru.forEach(s=>{window.addEventListener(s,r,!1)}),()=>{ru.forEach(s=>{window.removeEventListener(s,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(s=>{typeof s=="boolean"?this.setOnline(s):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const gn=new Ng;function Dg(e){return Math.min(1e3*2**e,3e4)}function On(e){return(e??"online")==="online"?gn.isOnline():!0}class Hd{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function Bi(e){return e instanceof Hd}function zd(e){let t=!1,r=0,s=!1,i,o,p;const n=new Promise((c,h)=>{o=c,p=h}),a=c=>{s||(w(new Hd(c)),e.abort==null||e.abort())},f=()=>{t=!0},v=()=>{t=!1},m=()=>!mn.isFocused()||e.networkMode!=="always"&&!gn.isOnline(),_=c=>{s||(s=!0,e.onSuccess==null||e.onSuccess(c),i==null||i(),o(c))},w=c=>{s||(s=!0,e.onError==null||e.onError(c),i==null||i(),p(c))},b=()=>new Promise(c=>{i=h=>{const l=s||!m();return l&&c(h),l},e.onPause==null||e.onPause()}).then(()=>{i=void 0,s||e.onContinue==null||e.onContinue()}),g=()=>{if(s)return;let c;try{c=e.fn()}catch(h){c=Promise.reject(h)}Promise.resolve(c).then(_).catch(h=>{var l,d;if(s)return;const y=(l=e.retry)!=null?l:3,S=(d=e.retryDelay)!=null?d:Dg,C=typeof S=="function"?S(r,h):S,E=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,h);if(t||!E){w(h);return}r++,e.onFail==null||e.onFail(r,h),Fd(C).then(()=>{if(m())return b()}).then(()=>{t?w(h):g()})})};return On(e.networkMode)?g():b().then(g),{promise:n,cancel:a,continue:()=>(i==null?void 0:i())?n:Promise.resolve(),cancelRetry:f,continueRetry:v}}const Nl=console;function Pg(){let e=[],t=0,r=v=>{v()},s=v=>{v()};const i=v=>{let m;t++;try{m=v()}finally{t--,t||n()}return m},o=v=>{t?e.push(v):tu(()=>{r(v)})},p=v=>(...m)=>{o(()=>{v(...m)})},n=()=>{const v=e;e=[],v.length&&tu(()=>{s(()=>{v.forEach(m=>{r(m)})})})};return{batch:i,batchCalls:p,schedule:o,setNotifyFunction:v=>{r=v},setBatchNotifyFunction:v=>{s=v}}}const ue=Pg();class Ud{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ya(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(Vs?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Tg extends Ud{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Nl,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||Mg(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,r){const s=Sa(this.state.data,t,this.options);return this.dispatch({data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){this.dispatch({type:"setState",state:t,setStateOptions:r})}cancel(t){var r;const s=this.promise;return(r=this.retryer)==null||r.cancel(t),s?s.then(Ye).catch(Ye):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Od(this.state.dataUpdatedAt,t)}onFocus(){var t;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,r){var s,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return(o=this.retryer)==null||o.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(b=>b.options.queryFn);w&&this.setOptions(w.options)}const p=Rg(),n={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},a=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>{if(p)return this.abortSignalConsumed=!0,p.signal}})};a(n);const f=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(n)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),v={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f};if(a(v),(s=this.options.behavior)==null||s.onFetch(v),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=v.fetchOptions)==null?void 0:i.meta)){var m;this.dispatch({type:"fetch",meta:(m=v.fetchOptions)==null?void 0:m.meta})}const _=w=>{if(Bi(w)&&w.silent||this.dispatch({type:"error",error:w}),!Bi(w)){var b,g,c,h;(b=(g=this.cache.config).onError)==null||b.call(g,w,this),(c=(h=this.cache.config).onSettled)==null||c.call(h,this.state.data,w,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=zd({fn:v.fetchFn,abort:p==null?void 0:p.abort.bind(p),onSuccess:w=>{var b,g,c,h;if(typeof w>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(w),(b=(g=this.cache.config).onSuccess)==null||b.call(g,w,this),(c=(h=this.cache.config).onSettled)==null||c.call(h,w,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(w,b)=>{this.dispatch({type:"failed",failureCount:w,error:b})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay,networkMode:v.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const r=s=>{var i,o;switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:On(this.options.networkMode)?"fetching":"paused",...!s.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(o=t.dataUpdatedAt)!=null?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const p=t.error;return Bi(p)&&p.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...s,error:p,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:p,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),ue.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function Mg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=typeof t<"u",s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class Ag extends xr{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,r,s){var i;const o=r.queryKey,p=(i=r.queryHash)!=null?i:Ll(o,r);let n=this.get(p);return n||(n=new Tg({cache:this,logger:t.getLogger(),queryKey:o,queryHash:p,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(n)),n}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const r=this.queriesMap[t.queryHash];r&&(t.destroy(),this.queries=this.queries.filter(s=>s!==t),r===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){ue.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,r){const[s]=It(t,r);return typeof s.exact>"u"&&(s.exact=!0),this.queries.find(i=>Yc(s,i))}findAll(t,r){const[s]=It(t,r);return Object.keys(s).length>0?this.queries.filter(i=>Yc(s,i)):this.queries}notify(t){ue.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}onFocus(){ue.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){ue.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class Og extends Ud{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Nl,this.observers=[],this.state=t.state||Wd(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(r=>r!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,r;return(t=(r=this.retryer)==null?void 0:r.continue())!=null?t:this.execute()}async execute(){const t=()=>{var E;return this.retryer=zd({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(x,k)=>{this.dispatch({type:"failed",failureCount:x,error:k})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(E=this.options.retry)!=null?E:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var s,i,o,p,n,a,f,v;if(!r){var m,_,w,b;this.dispatch({type:"loading",variables:this.options.variables}),await((m=(_=this.mutationCache.config).onMutate)==null?void 0:m.call(_,this.state.variables,this));const x=await((w=(b=this.options).onMutate)==null?void 0:w.call(b,this.state.variables));x!==this.state.context&&this.dispatch({type:"loading",context:x,variables:this.state.variables})}const E=await t();return await((s=(i=this.mutationCache.config).onSuccess)==null?void 0:s.call(i,E,this.state.variables,this.state.context,this)),await((o=(p=this.options).onSuccess)==null?void 0:o.call(p,E,this.state.variables,this.state.context)),await((n=(a=this.mutationCache.config).onSettled)==null?void 0:n.call(a,E,null,this.state.variables,this.state.context,this)),await((f=(v=this.options).onSettled)==null?void 0:f.call(v,E,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:E}),E}catch(E){try{var g,c,h,l,d,y,S,C;throw await((g=(c=this.mutationCache.config).onError)==null?void 0:g.call(c,E,this.state.variables,this.state.context,this)),await((h=(l=this.options).onError)==null?void 0:h.call(l,E,this.state.variables,this.state.context)),await((d=(y=this.mutationCache.config).onSettled)==null?void 0:d.call(y,void 0,E,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,E,this.state.variables,this.state.context)),E}finally{this.dispatch({type:"error",error:E})}}}dispatch(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"loading":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!On(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...s,...t.state}}};this.state=r(this.state),ue.batch(()=>{this.observers.forEach(s=>{s.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function Wd(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Ig extends xr{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,r,s){const i=new Og({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(r),state:s,defaultOptions:r.mutationKey?t.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(r=>r!==t),this.notify({type:"removed",mutation:t})}clear(){ue.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(r=>Jc(t,r))}findAll(t){return this.mutations.filter(r=>Jc(t,r))}notify(t){ue.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const r=this.mutations.filter(s=>s.state.isPaused);return ue.batch(()=>r.reduce((s,i)=>s.then(()=>i.continue().catch(Ye)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function ba(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,s,i,o,p;const n=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,a=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,f=a==null?void 0:a.pageParam,v=(a==null?void 0:a.direction)==="forward",m=(a==null?void 0:a.direction)==="backward",_=((o=e.state.data)==null?void 0:o.pages)||[],w=((p=e.state.data)==null?void 0:p.pageParams)||[];let b=w,g=!1;const c=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>{var E;if((E=e.signal)!=null&&E.aborted)g=!0;else{var x;(x=e.signal)==null||x.addEventListener("abort",()=>{g=!0})}return e.signal}})},h=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),l=(C,E,x,k)=>(b=k?[E,...b]:[...b,E],k?[x,...C]:[...C,x]),d=(C,E,x,k)=>{if(g)return Promise.reject("Cancelled");if(typeof x>"u"&&!E&&C.length)return Promise.resolve(C);const L={queryKey:e.queryKey,pageParam:x,meta:e.options.meta};c(L);const N=h(L);return Promise.resolve(N).then(M=>l(C,x,M,k))};let y;if(!_.length)y=d([]);else if(v){const C=typeof f<"u",E=C?f:wa(e.options,_);y=d(_,C,E)}else if(m){const C=typeof f<"u",E=C?f:$d(e.options,_);y=d(_,C,E,!0)}else{b=[];const C=typeof e.options.getNextPageParam>"u";y=(n&&_[0]?n(_[0],0,_):!0)?d([],C,w[0]):Promise.resolve(l([],w[0],_[0]));for(let x=1;x<_.length;x++)y=y.then(k=>{if(n&&_[x]?n(_[x],x,_):!0){const N=C?w[x]:wa(e.options,k);return d(k,C,N)}return Promise.resolve(l(k,w[x],_[x]))})}return y.then(C=>({pages:C,pageParams:b}))}}}}function wa(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function $d(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function Bg(e,t){if(e.getNextPageParam&&Array.isArray(t)){const r=wa(e,t);return typeof r<"u"&&r!==null&&r!==!1}}function Fg(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const r=$d(e,t);return typeof r<"u"&&r!==null&&r!==!1}}class Hg{constructor(t={}){this.queryCache=t.queryCache||new Ag,this.mutationCache=t.mutationCache||new Ig,this.logger=t.logger||Nl,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=mn.subscribe(()=>{mn.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=gn.subscribe(()=>{gn.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,r;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(t,r){const[s]=It(t,r);return s.fetchStatus="fetching",this.queryCache.findAll(s).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,r){var s;return(s=this.queryCache.find(t,r))==null?void 0:s.state.data}ensureQueryData(t,r,s){const i=Ir(t,r,s),o=this.getQueryData(i.queryKey);return o?Promise.resolve(o):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:r,state:s})=>{const i=s.data;return[r,i]})}setQueryData(t,r,s){const i=this.queryCache.find(t),o=i==null?void 0:i.state.data,p=kg(r,o);if(typeof p>"u")return;const n=Ir(t),a=this.defaultQueryOptions(n);return this.queryCache.build(this,a).setData(p,{...s,manual:!0})}setQueriesData(t,r,s){return ue.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,r,s)]))}getQueryState(t,r){var s;return(s=this.queryCache.find(t,r))==null?void 0:s.state}removeQueries(t,r){const[s]=It(t,r),i=this.queryCache;ue.batch(()=>{i.findAll(s).forEach(o=>{i.remove(o)})})}resetQueries(t,r,s){const[i,o]=It(t,r,s),p=this.queryCache,n={type:"active",...i};return ue.batch(()=>(p.findAll(i).forEach(a=>{a.reset()}),this.refetchQueries(n,o)))}cancelQueries(t,r,s){const[i,o={}]=It(t,r,s);typeof o.revert>"u"&&(o.revert=!0);const p=ue.batch(()=>this.queryCache.findAll(i).map(n=>n.cancel(o)));return Promise.all(p).then(Ye).catch(Ye)}invalidateQueries(t,r,s){const[i,o]=It(t,r,s);return ue.batch(()=>{var p,n;if(this.queryCache.findAll(i).forEach(f=>{f.invalidate()}),i.refetchType==="none")return Promise.resolve();const a={...i,type:(p=(n=i.refetchType)!=null?n:i.type)!=null?p:"active"};return this.refetchQueries(a,o)})}refetchQueries(t,r,s){const[i,o]=It(t,r,s),p=ue.batch(()=>this.queryCache.findAll(i).filter(a=>!a.isDisabled()).map(a=>{var f;return a.fetch(void 0,{...o,cancelRefetch:(f=o==null?void 0:o.cancelRefetch)!=null?f:!0,meta:{refetchPage:i.refetchPage}})}));let n=Promise.all(p).then(Ye);return o!=null&&o.throwOnError||(n=n.catch(Ye)),n}fetchQuery(t,r,s){const i=Ir(t,r,s),o=this.defaultQueryOptions(i);typeof o.retry>"u"&&(o.retry=!1);const p=this.queryCache.build(this,o);return p.isStaleByTime(o.staleTime)?p.fetch(o):Promise.resolve(p.state.data)}prefetchQuery(t,r,s){return this.fetchQuery(t,r,s).then(Ye).catch(Ye)}fetchInfiniteQuery(t,r,s){const i=Ir(t,r,s);return i.behavior=ba(),this.fetchQuery(i)}prefetchInfiniteQuery(t,r,s){return this.fetchInfiniteQuery(t,r,s).then(Ye).catch(Ye)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,r){const s=this.queryDefaults.find(i=>Ut(t)===Ut(i.queryKey));s?s.defaultOptions=r:this.queryDefaults.push({queryKey:t,defaultOptions:r})}getQueryDefaults(t){if(!t)return;const r=this.queryDefaults.find(s=>fn(t,s.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(t,r){const s=this.mutationDefaults.find(i=>Ut(t)===Ut(i.mutationKey));s?s.defaultOptions=r:this.mutationDefaults.push({mutationKey:t,defaultOptions:r})}getMutationDefaults(t){if(!t)return;const r=this.mutationDefaults.find(s=>fn(t,s.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const r={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=Ll(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Dl extends xr{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),su(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ca(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ca(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){const s=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),pn(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const o=this.hasListeners();o&&iu(this.currentQuery,i,this.options,s)&&this.executeFetch(),this.updateResult(r),o&&(this.currentQuery!==i||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const p=this.computeRefetchInterval();o&&(this.currentQuery!==i||this.options.enabled!==s.enabled||p!==this.currentRefetchInterval)&&this.updateRefetchInterval(p)}getOptimisticResult(t){const r=this.client.getQueryCache().build(this.client,t),s=this.createResult(r,t);return Ug(this,s,t)&&(this.currentResult=s,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),s}getCurrentResult(){return this.currentResult}trackResult(t){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),t[s])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){const r=this.client.defaultQueryOptions(t),s=this.client.getQueryCache().build(this.client,r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:(r=t.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ye)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Vs||this.currentResult.isStale||!ya(this.options.staleTime))return;const r=Od(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(Vs||this.options.enabled===!1||!ya(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||mn.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){const s=this.currentQuery,i=this.options,o=this.currentResult,p=this.currentResultState,n=this.currentResultOptions,a=t!==s,f=a?t.state:this.currentQueryInitialState,v=a?this.currentResult:this.previousQueryResult,{state:m}=t;let{dataUpdatedAt:_,error:w,errorUpdatedAt:b,fetchStatus:g,status:c}=m,h=!1,l=!1,d;if(r._optimisticResults){const x=this.hasListeners(),k=!x&&su(t,r),L=x&&iu(t,s,r,i);(k||L)&&(g=On(t.options.networkMode)?"fetching":"paused",_||(c="loading")),r._optimisticResults==="isRestoring"&&(g="idle")}if(r.keepPreviousData&&!m.dataUpdatedAt&&v!=null&&v.isSuccess&&c!=="error")d=v.data,_=v.dataUpdatedAt,c=v.status,h=!0;else if(r.select&&typeof m.data<"u")if(o&&m.data===(p==null?void 0:p.data)&&r.select===this.selectFn)d=this.selectResult;else try{this.selectFn=r.select,d=r.select(m.data),d=Sa(o==null?void 0:o.data,d,r),this.selectResult=d,this.selectError=null}catch(x){this.selectError=x}else d=m.data;if(typeof r.placeholderData<"u"&&typeof d>"u"&&c==="loading"){let x;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(n==null?void 0:n.placeholderData))x=o.data;else if(x=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof x<"u")try{x=r.select(x),this.selectError=null}catch(k){this.selectError=k}typeof x<"u"&&(c="success",d=Sa(o==null?void 0:o.data,x,r),l=!0)}this.selectError&&(w=this.selectError,d=this.selectResult,b=Date.now(),c="error");const y=g==="fetching",S=c==="loading",C=c==="error";return{status:c,fetchStatus:g,isLoading:S,isSuccess:c==="success",isError:C,isInitialLoading:S&&y,data:d,dataUpdatedAt:_,error:w,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:y,isRefetching:y&&!S,isLoadingError:C&&m.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:l,isPreviousData:h,isRefetchError:C&&m.dataUpdatedAt!==0,isStale:Pl(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){const r=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,pn(s,r))return;this.currentResult=s;const i={cache:!0},o=()=>{if(!r)return!0;const{notifyOnChangeProps:p}=this.options,n=typeof p=="function"?p():p;if(n==="all"||!n&&!this.trackedProps.size)return!0;const a=new Set(n??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(f=>{const v=f;return this.currentResult[v]!==r[v]&&a.has(v)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const r={};t.type==="success"?r.onSuccess=!t.manual:t.type==="error"&&!Bi(t.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){ue.batch(()=>{if(t.onSuccess){var r,s,i,o;(r=(s=this.options).onSuccess)==null||r.call(s,this.currentResult.data),(i=(o=this.options).onSettled)==null||i.call(o,this.currentResult.data,null)}else if(t.onError){var p,n,a,f;(p=(n=this.options).onError)==null||p.call(n,this.currentResult.error),(a=(f=this.options).onSettled)==null||a.call(f,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:v})=>{v(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function zg(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function su(e,t){return zg(e,t)||e.state.dataUpdatedAt>0&&Ca(e,t,t.refetchOnMount)}function Ca(e,t,r){if(t.enabled!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Pl(e,t)}return!1}function iu(e,t,r,s){return r.enabled!==!1&&(e!==t||s.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&Pl(e,r)}function Pl(e,t){return e.isStaleByTime(t.staleTime)}function Ug(e,t,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?t.isPlaceholderData:!pn(e.getCurrentResult(),t)}class Wg extends xr{constructor(t,r){super(),this.client=t,this.queries=[],this.result=[],this.observers=[],this.observersMap={},r&&this.setQueries(r)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(t=>{t.subscribe(r=>{this.onUpdate(t,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(t=>{t.destroy()})}setQueries(t,r){this.queries=t,ue.batch(()=>{const s=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions,r));const o=i.map(f=>f.observer),p=Object.fromEntries(o.map(f=>[f.options.queryHash,f])),n=o.map(f=>f.getCurrentResult()),a=o.some((f,v)=>f!==s[v]);s.length===o.length&&!a||(this.observers=o,this.observersMap=p,this.result=n,this.hasListeners()&&(Xc(s,o).forEach(f=>{f.destroy()}),Xc(o,s).forEach(f=>{f.subscribe(v=>{this.onUpdate(f,v)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(t=>t.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(t){return this.findMatchingObservers(t).map(r=>r.observer.getOptimisticResult(r.defaultedQueryOptions))}findMatchingObservers(t){const r=this.observers,s=new Map(r.map(w=>[w.options.queryHash,w])),i=t.map(w=>this.client.defaultQueryOptions(w)),o=i.flatMap(w=>{const b=s.get(w.queryHash);return b!=null?[{defaultedQueryOptions:w,observer:b}]:[]}),p=new Set(o.map(w=>w.defaultedQueryOptions.queryHash)),n=i.filter(w=>!p.has(w.queryHash)),a=new Set(o.map(w=>w.observer)),f=r.filter(w=>!a.has(w)),v=w=>{const b=this.client.defaultQueryOptions(w),g=this.observersMap[b.queryHash];return g??new Dl(this.client,b)},m=n.map((w,b)=>{if(w.keepPreviousData){const g=f[b];if(g!==void 0)return{defaultedQueryOptions:w,observer:g}}return{defaultedQueryOptions:w,observer:v(w)}}),_=(w,b)=>i.indexOf(w.defaultedQueryOptions)-i.indexOf(b.defaultedQueryOptions);return o.concat(m).sort(_)}onUpdate(t,r){const s=this.observers.indexOf(t);s!==-1&&(this.result=Eg(this.result,s,r),this.notify())}notify(){ue.batch(()=>{this.listeners.forEach(({listener:t})=>{t(this.result)})})}}class $g extends Dl{constructor(t,r){super(t,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,r){super.setOptions({...t,behavior:ba()},r)}getOptimisticResult(t){return t.behavior=ba(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,r){var s,i,o,p,n,a;const{state:f}=t,v=super.createResult(t,r),{isFetching:m,isRefetching:_}=v,w=m&&((s=f.fetchMeta)==null||(i=s.fetchMore)==null?void 0:i.direction)==="forward",b=m&&((o=f.fetchMeta)==null||(p=o.fetchMore)==null?void 0:p.direction)==="backward";return{...v,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Bg(r,(n=f.data)==null?void 0:n.pages),hasPreviousPage:Fg(r,(a=f.data)==null?void 0:a.pages),isFetchingNextPage:w,isFetchingPreviousPage:b,isRefetching:_&&!w&&!b}}}let qg=class extends xr{constructor(t,r){super(),this.client=t,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const s=this.options;this.options=this.client.defaultMutationOptions(t),pn(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const r={listeners:!0};t.type==="success"?r.onSuccess=!0:t.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:Wd(),r=t.status==="loading",s={...t,isLoading:r,isPending:r,isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=s}notify(t){ue.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var r,s,i,o;(r=(s=this.mutateOptions).onSuccess)==null||r.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(o=this.mutateOptions).onSettled)==null||i.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var p,n,a,f;(p=(n=this.mutateOptions).onError)==null||p.call(n,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(a=(f=this.mutateOptions).onSettled)==null||a.call(f,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:v})=>{v(this.currentResult)})})}};var qd={exports:{}},Qd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=O;function Qg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kg=typeof Object.is=="function"?Object.is:Qg,Vg=Jr.useState,Gg=Jr.useEffect,Xg=Jr.useLayoutEffect,Yg=Jr.useDebugValue;function Jg(e,t){var r=t(),s=Vg({inst:{value:r,getSnapshot:t}}),i=s[0].inst,o=s[1];return Xg(function(){i.value=r,i.getSnapshot=t,yo(i)&&o({inst:i})},[e,r,t]),Gg(function(){return yo(i)&&o({inst:i}),e(function(){yo(i)&&o({inst:i})})},[e]),Yg(r),r}function yo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kg(e,r)}catch{return!0}}function Zg(e,t){return t()}var e0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zg:Jg;Qd.useSyncExternalStore=Jr.useSyncExternalStore!==void 0?Jr.useSyncExternalStore:e0;qd.exports=Qd;var t0=qd.exports;const Tl=t0.useSyncExternalStore,nu=O.createContext(void 0),Kd=O.createContext(!1);function Vd(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=nu),window.ReactQueryClientContext):nu)}const In=({context:e}={})=>{const t=O.useContext(Vd(e,O.useContext(Kd)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},r0=({client:e,children:t,context:r,contextSharing:s=!1})=>{O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=Vd(r,s);return O.createElement(Kd.Provider,{value:!r&&s},O.createElement(i.Provider,{value:e},t))},Gd=O.createContext(!1),Xd=()=>O.useContext(Gd);Gd.Provider;function s0(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const i0=O.createContext(s0()),Yd=()=>O.useContext(i0);function Jd(e,t){return typeof e=="function"?e(...t):!!e}const Zd=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},ef=e=>{O.useEffect(()=>{e.clearReset()},[e])},tf=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&Jd(r,[e.error,s]),rf=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.cacheTime=="number"&&(e.cacheTime=Math.max(e.cacheTime,1e3)))},sf=(e,t)=>e.isLoading&&e.isFetching&&!t,ka=(e,t,r)=>(e==null?void 0:e.suspense)&&sf(t,r),Ea=(e,t,r)=>t.fetchOptimistic(e).then(({data:s})=>{e.onSuccess==null||e.onSuccess(s),e.onSettled==null||e.onSettled(s,null)}).catch(s=>{r.clearReset(),e.onError==null||e.onError(s),e.onSettled==null||e.onSettled(void 0,s)});function n0({queries:e,context:t}){const r=In({context:t}),s=Xd(),i=Yd(),o=O.useMemo(()=>e.map(_=>{const w=r.defaultQueryOptions(_);return w._optimisticResults=s?"isRestoring":"optimistic",w}),[e,r,s]);o.forEach(_=>{rf(_),Zd(_,i)}),ef(i);const[p]=O.useState(()=>new Wg(r,o)),n=p.getOptimisticResult(o);Tl(O.useCallback(_=>s?()=>{}:p.subscribe(ue.batchCalls(_)),[p,s]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),O.useEffect(()=>{p.setQueries(o,{listeners:!1})},[o,p]);const f=n.some((_,w)=>ka(o[w],_,s))?n.flatMap((_,w)=>{const b=o[w],g=p.getObservers()[w];if(b&&g){if(ka(b,_,s))return Ea(b,g,i);sf(_,s)&&Ea(b,g,i)}return[]}):[];if(f.length>0)throw Promise.all(f);const v=p.getQueries(),m=n.find((_,w)=>{var b,g;return tf({result:_,errorResetBoundary:i,useErrorBoundary:(b=(g=o[w])==null?void 0:g.useErrorBoundary)!=null?b:!1,query:v[w]})});if(m!=null&&m.error)throw m.error;return n}function nf(e,t){const r=In({context:e.context}),s=Xd(),i=Yd(),o=r.defaultQueryOptions(e);o._optimisticResults=s?"isRestoring":"optimistic",o.onError&&(o.onError=ue.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=ue.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=ue.batchCalls(o.onSettled)),rf(o),Zd(o,i),ef(i);const[p]=O.useState(()=>new t(r,o)),n=p.getOptimisticResult(o);if(Tl(O.useCallback(a=>{const f=s?()=>{}:p.subscribe(ue.batchCalls(a));return p.updateResult(),f},[p,s]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),O.useEffect(()=>{p.setOptions(o,{listeners:!1})},[o,p]),ka(o,n,s))throw Ea(o,p,i);if(tf({result:n,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:p.getCurrentQuery()}))throw n.error;return o.notifyOnChangeProps?n:p.trackResult(n)}function o0(e,t,r){const s=Ir(e,t,r);return nf(s,Dl)}function a0(e,t,r){const s=jg(e,t),i=In({context:s.context}),[o]=O.useState(()=>new qg(i,s));O.useEffect(()=>{o.setOptions(s)},[o,s]);const p=Tl(O.useCallback(a=>o.subscribe(ue.batchCalls(a)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),n=O.useCallback((a,f)=>{o.mutate(a,f).catch(l0)},[o]);if(p.error&&Jd(o.options.useErrorBoundary,[p.error]))throw p.error;return{...p,mutate:n,mutateAsync:p.mutate}}function l0(){}function c0(e,t,r){const s=Ir(e,t,r);return nf(s,$g)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gs.apply(this,arguments)}var Wt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wt||(Wt={}));const ou="popstate";function u0(e){e===void 0&&(e={});function t(s,i){let{pathname:o,search:p,hash:n}=s.location;return ja("",{pathname:o,search:p,hash:n},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:vn(i)}return d0(t,r,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function of(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h0(){return Math.random().toString(36).substr(2,8)}function au(e,t){return{usr:e.state,key:e.key,idx:t}}function ja(e,t,r,s){return r===void 0&&(r=null),Gs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ss(t):t,{state:r,key:t&&t.key||s||h0()})}function vn(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ss(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function d0(e,t,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:o=!1}=s,p=i.history,n=Wt.Pop,a=null,f=v();f==null&&(f=0,p.replaceState(Gs({},p.state,{idx:f}),""));function v(){return(p.state||{idx:null}).idx}function m(){n=Wt.Pop;let c=v(),h=c==null?null:c-f;f=c,a&&a({action:n,location:g.location,delta:h})}function _(c,h){n=Wt.Push;let l=ja(g.location,c,h);f=v()+1;let d=au(l,f),y=g.createHref(l);try{p.pushState(d,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(y)}o&&a&&a({action:n,location:g.location,delta:1})}function w(c,h){n=Wt.Replace;let l=ja(g.location,c,h);f=v();let d=au(l,f),y=g.createHref(l);p.replaceState(d,"",y),o&&a&&a({action:n,location:g.location,delta:0})}function b(c){let h=i.location.origin!=="null"?i.location.origin:i.location.href,l=typeof c=="string"?c:vn(c);return l=l.replace(/ $/,"%20"),xe(h,"No window.location.(origin|href) available to create URL for href: "+l),new URL(l,h)}let g={get action(){return n},get location(){return e(i,p)},listen(c){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(ou,m),a=c,()=>{i.removeEventListener(ou,m),a=null}},createHref(c){return t(i,c)},createURL:b,encodeLocation(c){let h=b(c);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:_,replace:w,go(c){return p.go(c)}};return g}var lu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lu||(lu={}));function f0(e,t,r){return r===void 0&&(r="/"),p0(e,t,r)}function p0(e,t,r,s){let i=typeof t=="string"?ss(t):t,o=Ml(i.pathname||"/",r);if(o==null)return null;let p=af(e);m0(p);let n=null;for(let a=0;n==null&&a<p.length;++a){let f=j0(o);n=C0(p[a],f)}return n}function af(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(o,p,n)=>{let a={relativePath:n===void 0?o.path||"":n,caseSensitive:o.caseSensitive===!0,childrenIndex:p,route:o};a.relativePath.startsWith("/")&&(xe(a.relativePath.startsWith(s),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(s.length));let f=Jt([s,a.relativePath]),v=r.concat(a);o.children&&o.children.length>0&&(xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),af(o.children,t,v,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:b0(f,o.index),routesMeta:v})};return e.forEach((o,p)=>{var n;if(o.path===""||!((n=o.path)!=null&&n.includes("?")))i(o,p);else for(let a of lf(o.path))i(o,p,a)}),t}function lf(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(s.length===0)return i?[o,""]:[o];let p=lf(s.join("/")),n=[];return n.push(...p.map(a=>a===""?o:[o,a].join("/"))),i&&n.push(...p),n.map(a=>e.startsWith("/")&&a===""?"/":a)}function m0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:w0(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const g0=/^:[\w-]+$/,v0=3,_0=2,y0=1,x0=10,S0=-2,cu=e=>e==="*";function b0(e,t){let r=e.split("/"),s=r.length;return r.some(cu)&&(s+=S0),t&&(s+=_0),r.filter(i=>!cu(i)).reduce((i,o)=>i+(g0.test(o)?v0:o===""?y0:x0),s)}function w0(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function C0(e,t,r){let{routesMeta:s}=e,i={},o="/",p=[];for(let n=0;n<s.length;++n){let a=s[n],f=n===s.length-1,v=o==="/"?t:t.slice(o.length)||"/",m=k0({path:a.relativePath,caseSensitive:a.caseSensitive,end:f},v),_=a.route;if(!m)return null;Object.assign(i,m.params),p.push({params:i,pathname:Jt([o,m.pathname]),pathnameBase:D0(Jt([o,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(o=Jt([o,m.pathnameBase]))}return p}function k0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=E0(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],p=o.replace(/(.)\/+$/,"$1"),n=i.slice(1);return{params:s.reduce((f,v,m)=>{let{paramName:_,isOptional:w}=v;if(_==="*"){let g=n[m]||"";p=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=n[m];return w&&!b?f[_]=void 0:f[_]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:p,pattern:e}}function E0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),of(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,n,a)=>(s.push({paramName:n,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function j0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return of(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ml(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function R0(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:i=""}=typeof e=="string"?ss(e):e;return{pathname:r?r.startsWith("/")?r:L0(r,t):t,search:P0(s),hash:T0(i)}}function L0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xo(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Al(e,t){let r=N0(e);return t?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Ol(e,t,r,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=ss(e):(i=Gs({},e),xe(!i.pathname||!i.pathname.includes("?"),xo("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),xo("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),xo("#","search","hash",i)));let o=e===""||i.pathname==="",p=o?"/":i.pathname,n;if(p==null)n=r;else{let m=t.length-1;if(!s&&p.startsWith("..")){let _=p.split("/");for(;_[0]==="..";)_.shift(),m-=1;i.pathname=_.join("/")}n=m>=0?t[m]:"/"}let a=R0(i,n),f=p&&p!=="/"&&p.endsWith("/"),v=(o||p===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(f||v)&&(a.pathname+="/"),a}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),D0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cf=["post","put","patch","delete"];new Set(cf);const A0=["get",...cf];new Set(A0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xs.apply(this,arguments)}const Il=O.createContext(null),O0=O.createContext(null),nr=O.createContext(null),Bn=O.createContext(null),Nt=O.createContext({outlet:null,matches:[],isDataRoute:!1}),uf=O.createContext(null);function I0(e,t){let{relative:r}=t===void 0?{}:t;is()||xe(!1);let{basename:s,navigator:i}=O.useContext(nr),{hash:o,pathname:p,search:n}=df(e,{relative:r}),a=p;return s!=="/"&&(a=p==="/"?s:Jt([s,p])),i.createHref({pathname:a,search:n,hash:o})}function is(){return O.useContext(Bn)!=null}function Sr(){return is()||xe(!1),O.useContext(Bn).location}function hf(e){O.useContext(nr).static||O.useLayoutEffect(e)}function Bl(){let{isDataRoute:e}=O.useContext(Nt);return e?J0():B0()}function B0(){is()||xe(!1);let e=O.useContext(Il),{basename:t,future:r,navigator:s}=O.useContext(nr),{matches:i}=O.useContext(Nt),{pathname:o}=Sr(),p=JSON.stringify(Al(i,r.v7_relativeSplatPath)),n=O.useRef(!1);return hf(()=>{n.current=!0}),O.useCallback(function(f,v){if(v===void 0&&(v={}),!n.current)return;if(typeof f=="number"){s.go(f);return}let m=Ol(f,JSON.parse(p),o,v.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Jt([t,m.pathname])),(v.replace?s.replace:s.push)(m,v.state,v)},[t,s,p,o,e])}const F0=O.createContext(null);function H0(e){let t=O.useContext(Nt).outlet;return t&&O.createElement(F0.Provider,{value:e},t)}function df(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=O.useContext(nr),{matches:i}=O.useContext(Nt),{pathname:o}=Sr(),p=JSON.stringify(Al(i,s.v7_relativeSplatPath));return O.useMemo(()=>Ol(e,JSON.parse(p),o,r==="path"),[e,p,o,r])}function z0(e,t){return U0(e,t)}function U0(e,t,r,s){is()||xe(!1);let{navigator:i}=O.useContext(nr),{matches:o}=O.useContext(Nt),p=o[o.length-1],n=p?p.params:{};p&&p.pathname;let a=p?p.pathnameBase:"/";p&&p.route;let f=Sr(),v;if(t){var m;let c=typeof t=="string"?ss(t):t;a==="/"||(m=c.pathname)!=null&&m.startsWith(a)||xe(!1),v=c}else v=f;let _=v.pathname||"/",w=_;if(a!=="/"){let c=a.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(c.length).join("/")}let b=f0(e,{pathname:w}),g=K0(b&&b.map(c=>Object.assign({},c,{params:Object.assign({},n,c.params),pathname:Jt([a,i.encodeLocation?i.encodeLocation(c.pathname).pathname:c.pathname]),pathnameBase:c.pathnameBase==="/"?a:Jt([a,i.encodeLocation?i.encodeLocation(c.pathnameBase).pathname:c.pathnameBase])})),o,r,s);return t&&g?O.createElement(Bn.Provider,{value:{location:Xs({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Wt.Pop}},g):g}function W0(){let e=Y0(),t=M0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:i},r):null,null)}const $0=O.createElement(W0,null);class q0 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Nt.Provider,{value:this.props.routeContext},O.createElement(uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q0(e){let{routeContext:t,match:r,children:s}=e,i=O.useContext(Il);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Nt.Provider,{value:t},s)}function K0(e,t,r,s){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let p=e,n=(i=r)==null?void 0:i.errors;if(n!=null){let v=p.findIndex(m=>m.route.id&&(n==null?void 0:n[m.route.id])!==void 0);v>=0||xe(!1),p=p.slice(0,Math.min(p.length,v+1))}let a=!1,f=-1;if(r&&s&&s.v7_partialHydration)for(let v=0;v<p.length;v++){let m=p[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=v),m.route.id){let{loaderData:_,errors:w}=r,b=m.route.loader&&_[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||b){a=!0,f>=0?p=p.slice(0,f+1):p=[p[0]];break}}}return p.reduceRight((v,m,_)=>{let w,b=!1,g=null,c=null;r&&(w=n&&m.route.id?n[m.route.id]:void 0,g=m.route.errorElement||$0,a&&(f<0&&_===0?(Z0("route-fallback"),b=!0,c=null):f===_&&(b=!0,c=m.route.hydrateFallbackElement||null)));let h=t.concat(p.slice(0,_+1)),l=()=>{let d;return w?d=g:b?d=c:m.route.Component?d=O.createElement(m.route.Component,null):m.route.element?d=m.route.element:d=v,O.createElement(Q0,{match:m,routeContext:{outlet:v,matches:h,isDataRoute:r!=null},children:d})};return r&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?O.createElement(q0,{location:r.location,revalidation:r.revalidation,component:g,error:w,children:l(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):l()},null)}var ff=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ff||{}),pf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pf||{});function V0(e){let t=O.useContext(Il);return t||xe(!1),t}function G0(e){let t=O.useContext(O0);return t||xe(!1),t}function X0(e){let t=O.useContext(Nt);return t||xe(!1),t}function mf(e){let t=X0(),r=t.matches[t.matches.length-1];return r.route.id||xe(!1),r.route.id}function Y0(){var e;let t=O.useContext(uf),r=G0(),s=mf();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function J0(){let{router:e}=V0(ff.UseNavigateStable),t=mf(pf.UseNavigateStable),r=O.useRef(!1);return hf(()=>{r.current=!0}),O.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xs({fromRouteId:t},o)))},[e,t])}const uu={};function Z0(e,t,r){uu[e]||(uu[e]=!0)}function ev(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hu(e){let{to:t,replace:r,state:s,relative:i}=e;is()||xe(!1);let{future:o,static:p}=O.useContext(nr),{matches:n}=O.useContext(Nt),{pathname:a}=Sr(),f=Bl(),v=Ol(t,Al(n,o.v7_relativeSplatPath),a,i==="path"),m=JSON.stringify(v);return O.useEffect(()=>f(JSON.parse(m),{replace:r,state:s,relative:i}),[f,m,i,r,s]),null}function tv(e){return H0(e.context)}function ne(e){xe(!1)}function rv(e){let{basename:t="/",children:r=null,location:s,navigationType:i=Wt.Pop,navigator:o,static:p=!1,future:n}=e;is()&&xe(!1);let a=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:a,navigator:o,static:p,future:Xs({v7_relativeSplatPath:!1},n)}),[a,n,o,p]);typeof s=="string"&&(s=ss(s));let{pathname:v="/",search:m="",hash:_="",state:w=null,key:b="default"}=s,g=O.useMemo(()=>{let c=Ml(v,a);return c==null?null:{location:{pathname:c,search:m,hash:_,state:w,key:b},navigationType:i}},[a,v,m,_,w,b,i]);return g==null?null:O.createElement(nr.Provider,{value:f},O.createElement(Bn.Provider,{children:r,value:g}))}function sv(e){let{children:t,location:r}=e;return z0(Ra(t),r)}new Promise(()=>{});function Ra(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(s,i)=>{if(!O.isValidElement(s))return;let o=[...t,i];if(s.type===O.Fragment){r.push.apply(r,Ra(s.props.children,o));return}s.type!==ne&&xe(!1),!s.props.index||!s.props.children||xe(!1);let p={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=Ra(s.props.children,o)),r.push(p)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},La.apply(this,arguments)}function iv(e,t){if(e==null)return{};var r={},s=Object.keys(e),i,o;for(o=0;o<s.length;o++)i=s[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function nv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ov(e,t){return e.button===0&&(!t||t==="_self")&&!nv(e)}const av=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lv="6";try{window.__reactRouterVersion=lv}catch{}const cv="startTransition",du=fp[cv];function uv(e){let{basename:t,children:r,future:s,window:i}=e,o=O.useRef();o.current==null&&(o.current=u0({window:i,v5Compat:!0}));let p=o.current,[n,a]=O.useState({action:p.action,location:p.location}),{v7_startTransition:f}=s||{},v=O.useCallback(m=>{f&&du?du(()=>a(m)):a(m)},[a,f]);return O.useLayoutEffect(()=>p.listen(v),[p,v]),O.useEffect(()=>ev(s),[s]),O.createElement(rv,{basename:t,children:r,location:n.location,navigationType:n.action,navigator:p,future:s})}const hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fi=O.forwardRef(function(t,r){let{onClick:s,relative:i,reloadDocument:o,replace:p,state:n,target:a,to:f,preventScrollReset:v,viewTransition:m}=t,_=iv(t,av),{basename:w}=O.useContext(nr),b,g=!1;if(typeof f=="string"&&dv.test(f)&&(b=f,hv))try{let d=new URL(window.location.href),y=f.startsWith("//")?new URL(d.protocol+f):new URL(f),S=Ml(y.pathname,w);y.origin===d.origin&&S!=null?f=S+y.search+y.hash:g=!0}catch{}let c=I0(f,{relative:i}),h=fv(f,{replace:p,state:n,target:a,preventScrollReset:v,relative:i,viewTransition:m});function l(d){s&&s(d),d.defaultPrevented||h(d)}return O.createElement("a",La({},_,{href:b||c,onClick:g||o?s:l,ref:r,target:a}))});var fu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fu||(fu={}));var pu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pu||(pu={}));function fv(e,t){let{target:r,replace:s,state:i,preventScrollReset:o,relative:p,viewTransition:n}=t===void 0?{}:t,a=Bl(),f=Sr(),v=df(e,{relative:p});return O.useCallback(m=>{if(ov(m,r)){m.preventDefault();let _=s!==void 0?s:vn(f)===vn(v);a(e,{replace:_,state:i,preventScrollReset:o,relative:p,viewTransition:n})}},[f,a,v,s,i,r,e,o,p,n])}function pv(e){return e}function mv(e){return e.length===0?pv:e.length===1?e[0]:function(r){return e.reduce((s,i)=>i(s),r)}}function gf(e){const t={subscribe(r){let s=null,i=!1,o=!1,p=!1;function n(){if(s===null){p=!0;return}o||(o=!0,typeof s=="function"?s():s&&s.unsubscribe())}return s=e({next(a){var f;i||(f=r.next)==null||f.call(r,a)},error(a){var f;i||(i=!0,(f=r.error)==null||f.call(r,a),n())},complete(){var a;i||(i=!0,(a=r.complete)==null||a.call(r),n())}}),p&&n(),{unsubscribe:n}},pipe(...r){return mv(r)(t)}};return t}function gv(e){return t=>{let r=0,s=null;const i=[];function o(){s||(s=t.subscribe({next(n){var a;for(const f of i)(a=f.next)==null||a.call(f,n)},error(n){var a;for(const f of i)(a=f.error)==null||a.call(f,n)},complete(){var n;for(const a of i)(n=a.complete)==null||n.call(a)}}))}function p(){if(r===0&&s){const n=s;s=null,n.unsubscribe()}}return{subscribe(n){return r++,i.push(n),o(),{unsubscribe(){r--,p();const a=i.findIndex(f=>f===n);a>-1&&i.splice(a,1)}}}}}}class Fl extends Error{constructor(t){super(t),this.name="ObservableAbortError",Object.setPrototypeOf(this,Fl.prototype)}}function vv(e){let t;return{promise:new Promise((s,i)=>{let o=!1;function p(){o||(o=!0,i(new Fl("This operation was aborted.")),n.unsubscribe())}const n=e.subscribe({next(a){o=!0,s(a),p()},error(a){o=!0,i(a),p()},complete(){o=!0,p()}});t=p}),abort:t}}function _v(e){return gf(t=>{function r(i=0,o=e.op){const p=e.links[i];if(!p)throw new Error("No more links to execute - did you forget to add an ending link?");return p({op:o,next(a){return r(i+1,a)}})}return r().subscribe(t)})}function vf(e){const t=Object.create(null);for(const r in e){const s=e[r];t[s]=r}return t}const _f={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};vf(_f);vf(_f);const yf=()=>{};function xf(e,t){return new Proxy(yf,{get(s,i){if(!(typeof i!="string"||i==="then"))return xf(e,[...t,i])},apply(s,i,o){const p=t[t.length-1]==="apply";return e({args:p?o.length>=2?o[1]:[]:o,path:p?t.slice(0,-1):t})}})}const Fn=e=>xf(e,[]),Hl=e=>new Proxy(yf,{get(t,r){if(!(typeof r!="string"||r==="then"))return e(r)}});function yv(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}class xv extends Error{}function Sv(e){if(e instanceof Error)return e;const t=typeof e;if(!(t==="undefined"||t==="function"||e===null)){if(t!=="object")return new Error(String(e));if(yv(e)){const r=new xv;for(const s in e)r[s]=e[s];return r}}}function _n(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function bv(e,t){if("error"in e){const s=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:s}}}return{ok:!0,result:{...e.result,...(!e.result.type||e.result.type==="data")&&{type:"data",data:t.transformer.deserialize(e.result.data)}}}}class So extends Error{constructor(){super("Unable to transform response from server")}}function wv(e,t){let r;try{r=bv(e,t)}catch{throw new So}if(!r.ok&&(!_n(r.error.error)||typeof r.error.error.code!="number"))throw new So;if(r.ok&&!_n(r.result))throw new So;return r}function Cv(e){return e instanceof vt||e instanceof Error&&e.name==="TRPCClientError"}function kv(e){return _n(e)&&_n(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}class vt extends Error{static from(t,r={}){const s=t;return Cv(s)?(r.meta&&(s.meta={...s.meta,...r.meta}),s):kv(s)?new vt(s.error.message,{...r,result:s}):s instanceof Error?new vt(s.message,{...r,cause:Sv(s)}):new vt("Unknown error",{...r,cause:s})}constructor(t,r){var i,o;const s=r==null?void 0:r.cause;super(t,{cause:s}),this.meta=r==null?void 0:r.meta,this.cause=s,this.shape=(i=r==null?void 0:r.result)==null?void 0:i.error,this.data=(o=r==null?void 0:r.result)==null?void 0:o.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,vt.prototype)}}const mu=e=>typeof e=="function";function Ev(e){if(e)return e;if(typeof window<"u"&&mu(window.fetch))return window.fetch;if(typeof globalThis<"u"&&mu(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function jv(e){return e||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function Rv(e){return{url:e.url.toString().replace(/\/$/,""),fetch:e.fetch,AbortController:jv(e.AbortController)}}function Lv(e){const t={};for(let r=0;r<e.length;r++){const s=e[r];t[r]=s}return t}const Nv={query:"GET",mutation:"POST"};function Sf(e){return"input"in e?e.runtime.transformer.serialize(e.input):Lv(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}const bf=e=>{let t=e.url+"/"+e.path;const r=[];if("inputs"in e&&r.push("batch=1"),e.type==="query"){const s=Sf(e);s!==void 0&&r.push(`input=${encodeURIComponent(JSON.stringify(s))}`)}return r.length&&(t+="?"+r.join("&")),t},Dv=e=>{if(e.type==="query")return;const t=Sf(e);return t!==void 0?JSON.stringify(t):void 0},Pv=e=>Mv({...e,contentTypeHeader:"application/json",getUrl:bf,getBody:Dv});async function Tv(e,t){const r=e.getUrl(e),s=e.getBody(e),{type:i}=e,o=await e.headers();/* istanbul ignore if -- @preserve */if(i==="subscription")throw new Error("Subscriptions should use wsLink");const p={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...o};return Ev(e.fetch)(r,{method:Nv[i],signal:t==null?void 0:t.signal,body:s,headers:p})}function Mv(e){const t=e.AbortController?new e.AbortController:null,r={};let s=!1;return{promise:new Promise((p,n)=>{Tv(e,t).then(a=>(r.response=a,s=!0,a.json())).then(a=>{r.responseJSON=a,p({json:a,meta:r})}).catch(a=>{s=!0,n(vt.from(a,{meta:r}))})}),cancel:()=>{s||t==null||t.abort()}}}const bo=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function wo(e){let t=null,r=null;const s=()=>{clearTimeout(r),r=null,t=null};function i(n){var v,m;const a=[[]];let f=0;for(;;){const _=n[f];if(!_)break;const w=a[a.length-1];if(_.aborted){(v=_.reject)==null||v.call(_,new Error("Aborted")),f++;continue}if(e.validate(w.concat(_).map(g=>g.key))){w.push(_),f++;continue}if(w.length===0){(m=_.reject)==null||m.call(_,new Error("Input is too big for a single dispatch")),f++;continue}a.push([])}return a}function o(){const n=i(t);s();for(const a of n){if(!a.length)continue;const f={items:a,cancel:bo};for(const w of a)w.batch=f;const v=(w,b)=>{var c;const g=f.items[w];(c=g.resolve)==null||c.call(g,b),g.batch=null,g.reject=null,g.resolve=null},{promise:m,cancel:_}=e.fetch(f.items.map(w=>w.key),v);f.cancel=_,m.then(w=>{var b;for(let g=0;g<w.length;g++){const c=w[g];v(g,c)}for(const g of f.items)(b=g.reject)==null||b.call(g,new Error("Missing result")),g.batch=null}).catch(w=>{var b;for(const g of f.items)(b=g.reject)==null||b.call(g,w),g.batch=null})}}function p(n){const a={aborted:!1,key:n,batch:null,resolve:bo,reject:bo},f=new Promise((m,_)=>{a.reject=_,a.resolve=m,t||(t=[]),t.push(a)});return r||(r=setTimeout(o)),{promise:f,cancel:()=>{var m;a.aborted=!0,(m=a.batch)!=null&&m.items.every(_=>_.aborted)&&(a.batch.cancel(),a.batch=null)}}}return{load:p}}function Av(e){return function(r){const s=Rv(r),i=r.maxURLLength??1/0;return o=>{const p=m=>{const _=b=>{if(i===1/0)return!0;const g=b.map(l=>l.path).join(","),c=b.map(l=>l.input);return bf({...s,runtime:o,type:m,path:g,inputs:c}).length<=i},w=e({...s,runtime:o,type:m,opts:r});return{validate:_,fetch:w}},n=wo(p("query")),a=wo(p("mutation")),f=wo(p("subscription")),v={query:n,subscription:f,mutation:a};return({op:m})=>gf(_=>{const w=v[m.type],{promise:b,cancel:g}=w.load(m);let c;return b.then(h=>{c=h;const l=wv(h.json,o);if(!l.ok){_.error(vt.from(l.error,{meta:h.meta}));return}_.next({context:h.meta,result:l.result}),_.complete()}).catch(h=>{_.error(vt.from(h,{meta:c==null?void 0:c.meta}))}),()=>{g()}})}}}const Ov=e=>t=>{const r=t.map(p=>p.path).join(","),s=t.map(p=>p.input),{promise:i,cancel:o}=Pv({...e,path:r,inputs:s,headers(){return e.opts.headers?typeof e.opts.headers=="function"?e.opts.headers({opList:t}):e.opts.headers:{}}});return{promise:i.then(p=>(Array.isArray(p.json)?p.json:t.map(()=>p.json)).map(f=>({meta:p.meta,json:f}))),cancel:o}},Iv=Av(Ov);class Bv{$request({type:t,input:r,path:s,context:i={}}){return _v({links:this.links,op:{id:++this.requestId,type:t,path:s,input:r,context:i}}).pipe(gv())}requestAsPromise(t){const r=this.$request(t),{promise:s,abort:i}=vv(r);return new Promise((p,n)=>{var a;(a=t.signal)==null||a.addEventListener("abort",i),s.then(f=>{p(f.result.data)}).catch(f=>{n(vt.from(f))})})}query(t,r,s){return this.requestAsPromise({type:"query",path:t,input:r,context:s==null?void 0:s.context,signal:s==null?void 0:s.signal})}mutation(t,r,s){return this.requestAsPromise({type:"mutation",path:t,input:r,context:s==null?void 0:s.context,signal:s==null?void 0:s.signal})}subscription(t,r,s){return this.$request({type:"subscription",path:t,input:r,context:s==null?void 0:s.context}).subscribe({next(o){var p,n,a;o.result.type==="started"?(p=s.onStarted)==null||p.call(s):o.result.type==="stopped"?(n=s.onStopped)==null||n.call(s):(a=s.onData)==null||a.call(s,o.result.data)},error(o){var p;(p=s.onError)==null||p.call(s,o)},complete(){var o;(o=s.onComplete)==null||o.call(s)}})}constructor(t){this.requestId=0;const r=(()=>{const s=t.transformer;return s?"input"in s?t.transformer:{input:s,output:s}:{input:{serialize:i=>i,deserialize:i=>i},output:{serialize:i=>i,deserialize:i=>i}}})();this.runtime={transformer:{serialize:s=>r.input.serialize(s),deserialize:s=>r.output.deserialize(s)},combinedTransformer:r},this.links=t.links.map(s=>s(this.runtime))}}function Fv(e){return new Bv(e)}const Hv={query:"query",mutate:"mutation",subscribe:"subscription"},zv=e=>Hv[e];function Uv(e){return Hl(t=>e.hasOwnProperty(t)?e[t]:t==="__untypedClient"?e:Fn(({path:r,args:s})=>{const i=[t,...r],o=zv(i.pop()),p=i.join(".");return e[o](p,...s)}))}function pe(e,t){const r=Array.isArray(e)?e:[e],[s,i]=r,o=typeof s!="string"||s===""?[]:s.split(".");return!i&&(!t||t==="any")?o.length?[o]:[]:[o,{...typeof i<"u"&&{input:i},...t&&t!=="any"&&{type:t}}]}function yn(e,t){return e.length?t===void 0?[e]:[e,t]:[]}function Wv(e,t){return Fn(r=>{const s=r.args,i=[e,...r.path],o=i.pop(),p=i.join(".");if(o==="useMutation")return t[o](p,...s);const[n,...a]=s,f=yn(p,n);if(o==="getQueryKey")return pe(f,a[0]??"any");if(o==="_def")return{path:i};if(o.startsWith("useSuspense")){const v=a[0]||{},_=t[o==="useSuspenseQuery"?"useQuery":"useInfiniteQuery"](f,{...v,suspense:!0,enabled:!0});return[_.data,_]}return t[o](f,...a)})}const $v=["client","ssrContext","ssrState","abortOnUnmount"],qv=O.createContext(null);function Qv(e){return Hl(t=>{const r=t;return r==="client"?Uv(e.client):$v.includes(r)?e[r]:Fn(({path:s,args:i})=>{const o=[t,...s],p=o.pop(),n=o.join("."),a=w=>{if(["setData","setInfiniteData"].includes(w)){const[h,l,...d]=i;return{queryKey:yn(n,h),updater:l,rest:d}}const[b,...g]=i;return{queryKey:yn(n,b),rest:g}},{queryKey:f,rest:v,updater:m}=a(p);return{fetch:()=>e.fetchQuery(f,...v),fetchInfinite:()=>e.fetchInfiniteQuery(f,...v),prefetch:()=>e.prefetchQuery(f,...v),prefetchInfinite:()=>e.prefetchInfiniteQuery(f,...v),ensureData:()=>e.ensureQueryData(f,...v),invalidate:()=>e.invalidateQueries(f,...v),reset:()=>e.resetQueries(f,...v),refetch:()=>e.refetchQueries(f,...v),cancel:()=>e.cancelQuery(f,...v),setData:()=>{e.setQueryData(f,m,...v)},setInfiniteData:()=>{e.setInfiniteQueryData(f,m,...v)},getData:()=>e.getQueryData(f),getInfiniteData:()=>e.getInfiniteQueryData(f)}[p]()})})}function Kv(e){return Fn(t=>{const r=t.path.join("."),[s,i]=t.args;return{queryKey:yn(r,s),queryFn:()=>e.query(r,s,i==null?void 0:i.trpc),...i}})}function Mt(e,t){const[r,s]=e;return[r,s,t==null?void 0:t.trpc]}function Co(e){const{path:t}=e;return O.useMemo(()=>({path:t}),[t])}function Vv(e){const t=b=>b.originalFn(),r=qv,s=e==null?void 0:e.reactQueryContext,i=b=>Fv(b),o=b=>{const{abortOnUnmount:g=!1,client:c,queryClient:h,ssrContext:l}=b,[d,y]=O.useState(b.ssrState??!1);return O.useEffect(()=>{y(S=>S?"mounted":!1)},[]),zi.createElement(r.Provider,{value:{abortOnUnmount:g,queryClient:h,client:c,ssrContext:l??null,ssrState:d,fetchQuery:O.useCallback((S,C)=>h.fetchQuery({...C,queryKey:pe(S,"query"),queryFn:()=>c.query(...Mt(S,C))}),[c,h]),fetchInfiniteQuery:O.useCallback((S,C)=>h.fetchInfiniteQuery({...C,queryKey:pe(S,"infinite"),queryFn:({pageParam:E})=>{const[x,k]=S,L={...k,cursor:E};return c.query(...Mt([x,L],C))}}),[c,h]),prefetchQuery:O.useCallback((S,C)=>h.prefetchQuery({...C,queryKey:pe(S,"query"),queryFn:()=>c.query(...Mt(S,C))}),[c,h]),prefetchInfiniteQuery:O.useCallback((S,C)=>h.prefetchInfiniteQuery({...C,queryKey:pe(S,"infinite"),queryFn:({pageParam:E})=>{const[x,k]=S,L={...k,cursor:E};return c.query(...Mt([x,L],C))}}),[c,h]),ensureQueryData:O.useCallback((S,C)=>h.ensureQueryData({...C,queryKey:pe(S,"query"),queryFn:()=>c.query(...Mt(S,C))}),[c,h]),invalidateQueries:O.useCallback((S,C,E)=>h.invalidateQueries({...C,queryKey:pe(S,"any")},E),[h]),resetQueries:O.useCallback((...S)=>{const[C,E,x]=S;return h.resetQueries({...E,queryKey:pe(C,"any")},x)},[h]),refetchQueries:O.useCallback((...S)=>{const[C,E,x]=S;return h.refetchQueries({...E,queryKey:pe(C,"any")},x)},[h]),cancelQuery:O.useCallback(S=>h.cancelQueries({queryKey:pe(S,"any")}),[h]),setQueryData:O.useCallback((...S)=>{const[C,...E]=S;return h.setQueryData(pe(C,"query"),...E)},[h]),getQueryData:O.useCallback((...S)=>{const[C,...E]=S;return h.getQueryData(pe(C,"query"),...E)},[h]),setInfiniteQueryData:O.useCallback((...S)=>{const[C,...E]=S;return h.setQueryData(pe(C,"infinite"),...E)},[h]),getInfiniteQueryData:O.useCallback((...S)=>{const[C,...E]=S;return h.getQueryData(pe(C,"infinite"),...E)},[h])}},b.children)};function p(){return zi.useContext(r)}function n(b,g,c){var d;const{queryClient:h,ssrState:l}=p();return l&&l!=="mounted"&&((d=h.getQueryCache().find(pe(b,g)))==null?void 0:d.state.status)==="error"?{retryOnMount:!1,...c}:c}function a(b,g){var L,N;const c=p();if(!c)throw new Error("Unable to retrieve application context. Did you forget to wrap your App inside `withTRPC` HoC?");const{abortOnUnmount:h,client:l,ssrState:d,queryClient:y,prefetchQuery:S}=c,C=y.getQueryDefaults(pe(b,"query"));typeof window>"u"&&d==="prepass"&&((L=g==null?void 0:g.trpc)==null?void 0:L.ssr)!==!1&&((g==null?void 0:g.enabled)??(C==null?void 0:C.enabled))!==!1&&!y.getQueryCache().find(pe(b,"query"))&&S(b,g);const E=n(b,"query",{...C,...g}),x=((N=g==null?void 0:g.trpc)==null?void 0:N.abortOnUnmount)??(e==null?void 0:e.abortOnUnmount)??h,k=o0({...E,queryKey:pe(b,"query"),queryFn:D=>{const M={...E,trpc:{...E==null?void 0:E.trpc,...x?{signal:D.signal}:{}}};return l.query(...Mt(b,M))},context:s});return k.trpc=Co({path:b[0]}),k}function f(b,g){const{client:c}=p(),h=In({context:s}),l=Array.isArray(b)?b[0]:b,d=h.getMutationDefaults([l.split(".")]),y=a0({...g,mutationKey:[l.split(".")],mutationFn:S=>c.mutation(...Mt([l,S],g)),context:s,onSuccess(...S){return t({originalFn:()=>{var E,x;return((E=g==null?void 0:g.onSuccess)==null?void 0:E.call(g,...S))??((x=d==null?void 0:d.onSuccess)==null?void 0:x.call(d,...S))},queryClient:h,meta:(g==null?void 0:g.meta)??(d==null?void 0:d.meta)??{}})}});return y.trpc=Co({path:l}),y}/* istanbul ignore next -- @preserve */function v(b,g){const c=(g==null?void 0:g.enabled)??!0,h=Ut(b),{client:l}=p(),d=O.useRef(g);d.current=g,O.useEffect(()=>{if(!c)return;const[y,S]=b;let C=!1;const E=l.subscription(y,S??void 0,{onStarted:()=>{var x,k;C||(k=(x=d.current).onStarted)==null||k.call(x)},onData:x=>{C||d.current.onData(x)},onError:x=>{var k,L;C||(L=(k=d.current).onError)==null||L.call(k,x)}});return()=>{C=!0,E.unsubscribe()}},[h,c])}function m(b,g){var N,D;const[c,h]=b,{client:l,ssrState:d,prefetchInfiniteQuery:y,queryClient:S,abortOnUnmount:C}=p(),E=S.getQueryDefaults(pe(b,"infinite"));typeof window>"u"&&d==="prepass"&&((N=g==null?void 0:g.trpc)==null?void 0:N.ssr)!==!1&&((g==null?void 0:g.enabled)??(E==null?void 0:E.enabled))!==!1&&!S.getQueryCache().find(pe(b,"infinite"))&&y(b,{...E,...g});const x=n(b,"infinite",{...E,...g}),k=((D=g==null?void 0:g.trpc)==null?void 0:D.abortOnUnmount)??C,L=c0({...x,queryKey:pe(b,"infinite"),queryFn:M=>{const B={...x,trpc:{...x==null?void 0:x.trpc,...k?{signal:M.signal}:{}}},F={...h??{},cursor:M.pageParam??(g==null?void 0:g.initialCursor)};return l.query(...Mt([c,F],B))},context:s});return L.trpc=Co({path:c}),L}return{Provider:o,createClient:i,useContext:p,useUtils:p,useQuery:a,useQueries:(b,g)=>{var C;const{ssrState:c,queryClient:h,prefetchQuery:l,client:d}=p(),y=Kv(d),S=b(y);if(typeof window>"u"&&c==="prepass")for(const E of S){const x=E;((C=x.trpc)==null?void 0:C.ssr)!==!1&&!h.getQueryCache().find(pe(x.queryKey,"query"))&&l(x.queryKey,x)}return n0({queries:S.map(E=>({...E,queryKey:pe(E.queryKey,"query")})),context:g})},useMutation:f,useSubscription:v,useDehydratedState:(b,g)=>O.useMemo(()=>g&&b.runtime.transformer.deserialize(g),[g,b]),useInfiniteQuery:m}}function Gv(e){return Vv(e)}function Xv(e){return Hl(t=>t==="useContext"||t==="useUtils"?()=>{const r=e.useUtils();return O.useMemo(()=>Qv(r),[r])}:e.hasOwnProperty(t)?e[t]:Wv(t,e))}function Yv(e){const t=Gv(e);return Xv(t)}class Jv{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,r){this.keyToValue.set(t,r),this.valueToKey.set(r,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class wf{constructor(t){this.generateIdentifier=t,this.kv=new Jv}register(t,r){this.kv.getByValue(t)||(r||(r=this.generateIdentifier(t)),this.kv.set(r,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class Zv extends wf{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(t,r.allowProps),super.register(t,r.identifier)):super.register(t,r)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function e_(e){if("values"in Object)return Object.values(e);const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function t_(e,t){const r=e_(e);if("find"in r)return r.find(t);const s=r;for(let i=0;i<s.length;i++){const o=s[i];if(t(o))return o}}function Zr(e,t){Object.entries(e).forEach(([r,s])=>t(s,r))}function Hi(e,t){return e.indexOf(t)!==-1}function gu(e,t){for(let r=0;r<e.length;r++){const s=e[r];if(t(s))return s}}class r_{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return t_(this.transfomers,r=>r.isApplicable(t))}findByName(t){return this.transfomers[t]}}const s_=e=>Object.prototype.toString.call(e).slice(8,-1),Cf=e=>typeof e>"u",i_=e=>e===null,Ys=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Na=e=>Ys(e)&&Object.keys(e).length===0,tr=e=>Array.isArray(e),n_=e=>typeof e=="string",o_=e=>typeof e=="number"&&!isNaN(e),a_=e=>typeof e=="boolean",l_=e=>e instanceof RegExp,Js=e=>e instanceof Map,Zs=e=>e instanceof Set,kf=e=>s_(e)==="Symbol",c_=e=>e instanceof Date&&!isNaN(e.valueOf()),Ef=e=>e instanceof Error,vu=e=>typeof e=="number"&&isNaN(e),u_=e=>a_(e)||i_(e)||Cf(e)||o_(e)||n_(e)||kf(e),h_=e=>typeof e=="bigint",d_=e=>e===1/0||e===-1/0,f_=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),p_=e=>e instanceof URL,Da=e=>e.replace(/\\/g,"\\\\").replace(/\./g,"\\."),ko=e=>e.map(String).map(Da).join("."),Ns=(e,t)=>{const r=[];let s="";for(let o=0;o<e.length;o++){let p=e.charAt(o);if(!t&&p==="\\"){const f=e.charAt(o+1);if(f==="\\"){s+="\\",o++;continue}else if(f!==".")throw Error("invalid path")}if(p==="\\"&&e.charAt(o+1)==="."){s+=".",o++;continue}if(p==="."){r.push(s),s="";continue}s+=p}const i=s;return r.push(i),r};function pt(e,t,r,s){return{isApplicable:e,annotation:t,transform:r,untransform:s}}const jf=[pt(Cf,"undefined",()=>null,()=>{}),pt(h_,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),pt(c_,"Date",e=>e.toISOString(),e=>new Date(e)),pt(Ef,"Error",(e,t)=>{const r={name:e.name,message:e.message};return"cause"in e&&(r.cause=e.cause),t.allowedErrorProps.forEach(s=>{r[s]=e[s]}),r},(e,t)=>{const r=new Error(e.message,{cause:e.cause});return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(s=>{r[s]=e[s]}),r}),pt(l_,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}),pt(Zs,"set",e=>[...e.values()],e=>new Set(e)),pt(Js,"map",e=>[...e.entries()],e=>new Map(e)),pt(e=>vu(e)||d_(e),"number",e=>vu(e)?"NaN":e>0?"Infinity":"-Infinity",Number),pt(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),pt(p_,"URL",e=>e.toString(),e=>new URL(e))];function Hn(e,t,r,s){return{isApplicable:e,annotation:t,transform:r,untransform:s}}const Rf=Hn((e,t)=>kf(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{const s=r.symbolRegistry.getValue(t[1]);if(!s)throw new Error("Trying to deserialize unknown symbol");return s}),m_=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),Lf=Hn(f_,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const r=m_[t[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(e)});function Nf(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const Df=Hn(Nf,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};const s={};return r.forEach(i=>{s[i]=e[i]}),s},(e,t,r)=>{const s=r.classRegistry.getValue(t[1]);if(!s)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(s.prototype),e)}),Pf=Hn((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{const s=r.customTransformerRegistry.findByName(t[1]);if(!s)throw new Error("Trying to deserialize unknown custom value");return s.deserialize(e)}),g_=[Df,Rf,Pf,Lf],_u=(e,t)=>{const r=gu(g_,i=>i.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};const s=gu(jf,i=>i.isApplicable(e,t));if(s)return{value:s.transform(e,t),type:s.annotation}},Tf={};jf.forEach(e=>{Tf[e.annotation]=e});const v_=(e,t,r)=>{if(tr(t))switch(t[0]){case"symbol":return Rf.untransform(e,t,r);case"class":return Df.untransform(e,t,r);case"custom":return Pf.untransform(e,t,r);case"typed-array":return Lf.untransform(e,t,r);default:throw new Error("Unknown transformation: "+t)}else{const s=Tf[t];if(!s)throw new Error("Unknown transformation: "+t);return s.untransform(e,r)}},Br=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function Mf(e){if(Hi(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Hi(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Hi(e,"constructor"))throw new Error("constructor is not allowed as a property")}const __=(e,t)=>{Mf(t);for(let r=0;r<t.length;r++){const s=t[r];if(Zs(e))e=Br(e,+s);else if(Js(e)){const i=+s,o=+t[++r]==0?"key":"value",p=Br(e,i);switch(o){case"key":e=p;break;case"value":e=e.get(p);break}}else e=e[s]}return e},Pa=(e,t,r)=>{if(Mf(t),t.length===0)return r(e);let s=e;for(let o=0;o<t.length-1;o++){const p=t[o];if(tr(s)){const n=+p;s=s[n]}else if(Ys(s))s=s[p];else if(Zs(s)){const n=+p;s=Br(s,n)}else if(Js(s)){if(o===t.length-2)break;const a=+p,f=+t[++o]==0?"key":"value",v=Br(s,a);switch(f){case"key":s=v;break;case"value":s=s.get(v);break}}}const i=t[t.length-1];if(tr(s)?s[+i]=r(s[+i]):Ys(s)&&(s[i]=r(s[i])),Zs(s)){const o=Br(s,+i),p=r(o);o!==p&&(s.delete(o),s.add(p))}if(Js(s)){const o=+t[t.length-2],p=Br(s,o);switch(+i==0?"key":"value"){case"key":{const a=r(p);s.set(a,s.get(p)),a!==p&&s.delete(p);break}case"value":{s.set(p,r(s.get(p)));break}}}return e},Af=e=>e<1;function Ta(e,t,r,s=[]){if(!e)return;const i=Af(r);if(!tr(e)){Zr(e,(n,a)=>Ta(n,t,r,[...s,...Ns(a,i)]));return}const[o,p]=e;p&&Zr(p,(n,a)=>{Ta(n,t,r,[...s,...Ns(a,i)])}),t(o,s)}function y_(e,t,r,s){return Ta(t,(i,o)=>{e=Pa(e,o,p=>v_(p,i,s))},r),e}function x_(e,t,r){const s=Af(r);function i(o,p){const n=__(e,Ns(p,s));o.map(a=>Ns(a,s)).forEach(a=>{e=Pa(e,a,()=>n)})}if(tr(t)){const[o,p]=t;o.forEach(n=>{e=Pa(e,Ns(n,s),()=>e)}),p&&Zr(p,i)}else Zr(t,i);return e}const S_=(e,t)=>Ys(e)||tr(e)||Js(e)||Zs(e)||Ef(e)||Nf(e,t);function b_(e,t,r){const s=r.get(e);s?s.push(t):r.set(e,[t])}function w_(e,t){const r={};let s;return e.forEach(i=>{if(i.length<=1)return;t||(i=i.map(n=>n.map(String)).sort((n,a)=>n.length-a.length));const[o,...p]=i;o.length===0?s=p.map(ko):r[ko(o)]=p.map(ko)}),s?Na(r)?[s]:[s,r]:Na(r)?void 0:r}const Of=(e,t,r,s,i=[],o=[],p=new Map)=>{const n=u_(e);if(!n){b_(e,i,t);const w=p.get(e);if(w)return s?{transformedValue:null}:w}if(!S_(e,r)){const w=_u(e,r),b=w?{transformedValue:w.value,annotations:[w.type]}:{transformedValue:e};return n||p.set(e,b),b}if(Hi(o,e))return{transformedValue:null};const a=_u(e,r),f=(a==null?void 0:a.value)??e,v=tr(f)?[]:{},m={};Zr(f,(w,b)=>{if(b==="__proto__"||b==="constructor"||b==="prototype")throw new Error(`Detected property ${b}. This is a prototype pollution risk, please remove it from your object.`);const g=Of(w,t,r,s,[...i,b],[...o,e],p);v[b]=g.transformedValue,tr(g.annotations)?m[Da(b)]=g.annotations:Ys(g.annotations)&&Zr(g.annotations,(c,h)=>{m[Da(b)+"."+h]=c})});const _=Na(m)?{transformedValue:v,annotations:a?[a.type]:void 0}:{transformedValue:v,annotations:a?[a.type,m]:m};return n||p.set(e,_),_};function If(e){return Object.prototype.toString.call(e).slice(8,-1)}function yu(e){return If(e)==="Array"}function C_(e){if(If(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function k_(e,t,r,s,i){const o={}.propertyIsEnumerable.call(s,t)?"enumerable":"nonenumerable";o==="enumerable"&&(e[t]=r),i&&o==="nonenumerable"&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function Ma(e,t={}){if(yu(e))return e.map(i=>Ma(i,t));if(!C_(e))return e;const r=Object.getOwnPropertyNames(e),s=Object.getOwnPropertySymbols(e);return[...r,...s].reduce((i,o)=>{if(o==="__proto__"||yu(t.props)&&!t.props.includes(o))return i;const p=e[o],n=Ma(p,t);return k_(i,o,n,e,t.nonenumerable),i},{})}class re{constructor({dedupe:t=!1}={}){this.classRegistry=new Zv,this.symbolRegistry=new wf(r=>r.description??""),this.customTransformerRegistry=new r_,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const r=new Map,s=Of(t,r,this,this.dedupe),i={json:s.transformedValue};s.annotations&&(i.meta={...i.meta,values:s.annotations});const o=w_(r,this.dedupe);return o&&(i.meta={...i.meta,referentialEqualities:o}),i.meta&&(i.meta.v=1),i}deserialize(t,r){const{json:s,meta:i}=t;let o=r!=null&&r.inPlace?s:Ma(s);return i!=null&&i.values&&(o=y_(o,i.values,i.v??0,this)),i!=null&&i.referentialEqualities&&(o=x_(o,i.referentialEqualities,i.v??0)),o}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t),{inPlace:!0})}registerClass(t,r){this.classRegistry.register(t,r)}registerSymbol(t,r){this.symbolRegistry.register(t,r)}registerCustom(t,r){this.customTransformerRegistry.register({name:r,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}re.defaultInstance=new re;re.serialize=re.defaultInstance.serialize.bind(re.defaultInstance);re.deserialize=re.defaultInstance.deserialize.bind(re.defaultInstance);re.stringify=re.defaultInstance.stringify.bind(re.defaultInstance);re.parse=re.defaultInstance.parse.bind(re.defaultInstance);re.registerClass=re.defaultInstance.registerClass.bind(re.defaultInstance);re.registerSymbol=re.defaultInstance.registerSymbol.bind(re.defaultInstance);re.registerCustom=re.defaultInstance.registerCustom.bind(re.defaultInstance);re.allowErrorProps=re.defaultInstance.allowErrorProps.bind(re.defaultInstance);re.serialize;re.deserialize;re.stringify;re.parse;re.registerClass;re.registerCustom;re.registerSymbol;re.allowErrorProps;const Y=Yv(),E_=Y.createClient({transformer:re,links:[Iv({url:"/api/trpc",headers(){const e=localStorage.getItem("auth_token");return{authorization:e?`Bearer ${e}`:""}}})]}),Bf=O.createContext(void 0),j_={id:1,email:"admin@orquestrador.local",name:"Administrador",username:"admin",role:"admin"};function R_({children:e}){const[t]=O.useState(j_),[r]=O.useState("no-auth-token"),[s,i]=O.useState(!1);O.useEffect(()=>{i(!1)},[]);const a={user:t,token:r,isAuthenticated:!0,isLoading:!1,login:async(f,v)=>{console.log("Sistema configurado sem autenticao")},register:async(f,v,m,_)=>{console.log("Sistema configurado sem autenticao")},logout:()=>{console.log("Sistema configurado sem autenticao")}};return u.jsx(Bf.Provider,{value:a,children:e})}function br(){const e=O.useContext(Bf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Ff=O.createContext(void 0);function L_({children:e}){const[t,r]=O.useState(()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});O.useEffect(()=>{const o=window.document.documentElement;o.classList.remove("light","dark"),o.classList.add(t),localStorage.setItem("theme",t)},[t]);const i={theme:t,toggleTheme:()=>{r(o=>o==="light"?"dark":"light")},isDark:t==="dark"};return u.jsx(Ff.Provider,{value:i,children:e})}function N_(){const e=O.useContext(Ff);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const r=O.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:p,className:n="",children:a,...f},v)=>O.createElement("svg",{ref:v,...D_,width:i,height:i,stroke:s,strokeWidth:p?Number(o)*24/Number(i):o,className:["lucide",`lucide-${P_(e)}`,n].join(" "),...f},[...t.map(([m,_])=>O.createElement(m,_)),...Array.isArray(a)?a:[a]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Z("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Z("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Z("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Z("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Z("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Z("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Z("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Z("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Z("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Z("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Z("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Z("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ly=[{name:"Dashboard",path:"/",icon:""},{name:"Tasks",path:"/tasks",icon:""},{name:"Chat",path:"/chat",icon:""},{name:"Analytics",path:"/analytics",icon:""},{name:"Workflows",path:"/workflows",icon:""},{name:"Models",path:"/models",icon:""},{name:"Training",path:"/model-training",icon:""},{name:"Specialized AIs",path:"/specialized-ais",icon:""},{name:"Knowledge Base",path:"/knowledge-base",icon:""},{name:"Providers",path:"/providers",icon:""},{name:"Credentials",path:"/credentials",icon:""},{name:"Logs",path:"/execution-logs",icon:""},{name:"Settings",path:"/settings",icon:""}],cy=()=>{const[e,t]=O.useState(!1),r=Sr(),s=()=>t(!e),i=()=>t(!1);return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:s,className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 transition","aria-label":"Toggle menu",children:e?u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e&&u.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:i}),u.jsx("div",{className:`lg:hidden fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-40 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-blue-600 mb-6",children:"Orquestrador IA"}),u.jsx("nav",{className:"space-y-1",children:ly.map(o=>{const p=r.pathname===o.path;return u.jsxs(Fi,{to:o.path,onClick:i,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition ${p?"bg-blue-100 text-blue-700 font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:[u.jsx("span",{className:"text-xl",children:o.icon}),u.jsx("span",{children:o.name})]},o.path)})})]})})]})},uy=(e={})=>{const{url:t=`ws://${window.location.hostname}:3001`,reconnectInterval:r=3e3,maxReconnectAttempts:s=5}=e,[i,o]=O.useState(!1),[p,n]=O.useState(null),a=O.useRef(null),f=O.useRef(0),v=O.useRef(),m=O.useCallback(()=>{try{const b=new WebSocket(t);b.onopen=()=>{console.log("WebSocket connected"),o(!0),f.current=0},b.onmessage=g=>{try{const c=JSON.parse(g.data);n(c)}catch(c){console.error("Failed to parse WebSocket message:",c)}},b.onerror=g=>{console.error("WebSocket error:",g)},b.onclose=()=>{console.log("WebSocket disconnected"),o(!1),a.current=null,f.current<s&&(f.current++,console.log(`Attempting reconnect ${f.current}/${s}...`),v.current=setTimeout(m,r))},a.current=b}catch(b){console.error("Failed to create WebSocket connection:",b)}},[t,r,s]),_=O.useCallback(()=>{v.current&&clearTimeout(v.current),a.current&&(a.current.close(),a.current=null),o(!1)},[]),w=O.useCallback(b=>{a.current&&a.current.readyState===WebSocket.OPEN?a.current.send(JSON.stringify(b)):console.warn("WebSocket is not connected")},[]);return O.useEffect(()=>(m(),()=>{_()}),[m,_]),{connected:i,lastMessage:p,sendMessage:w,disconnect:_,reconnect:m}},hy=()=>{const[e,t]=O.useState([]),[r,s]=O.useState([]),[i,o]=O.useState(!1),{connected:p}=uy();O.useEffect(()=>{const v=[{id:1,name:"You",status:"online",currentPage:window.location.pathname,lastActivity:new Date},{id:2,name:"AI Assistant",status:"online",currentPage:"/chat",lastActivity:new Date(Date.now()-5e3)}];t(v);const m=setInterval(()=>{const _=["user_activity","task_update"],w={type:_[Math.floor(Math.random()*_.length)],userId:2,userName:"AI Assistant",timestamp:new Date,data:{message:"Processing task..."}};s(b=>[w,...b.slice(0,9)])},1e4);return()=>clearInterval(m)},[]),O.useEffect(()=>{t(v=>v.map(m=>m.id===1?{...m,currentPage:window.location.pathname,lastActivity:new Date}:m))},[window.location.pathname]);const n=v=>{switch(v){case"online":return"bg-green-500";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";default:return"bg-gray-500"}},a=v=>v?v.split("/").filter(Boolean)[0]||"Dashboard":"Unknown",f=v=>{const m=Math.floor((new Date().getTime()-v.getTime())/1e3);return m<60?"just now":m<3600?`${Math.floor(m/60)}m ago`:m<86400?`${Math.floor(m/3600)}h ago`:`${Math.floor(m/86400)}d ago`};return u.jsxs("div",{className:"fixed bottom-4 right-4 z-30",children:[!i&&u.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white rounded-full p-4 shadow-lg hover:bg-blue-700 transition flex items-center space-x-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"bg-green-500 text-xs font-bold px-2 py-1 rounded-full",children:e.length})]}),i&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-80 max-h-96 overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"bg-blue-600 text-white px-4 py-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"Active Users"}),u.jsx("p",{className:"text-xs opacity-75",children:p?"Connected":"Disconnected"})]})]}),u.jsx("button",{onClick:()=>o(!1),className:"hover:bg-blue-700 rounded p-1 transition",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 max-h-48 overflow-y-auto",children:u.jsx("div",{className:"space-y-3",children:e.map(v=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:v.name[0]}),u.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${n(v.status)}`})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:v.name}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[a(v.currentPage),"  ",f(v.lastActivity)]})]})]},v.id))})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Recent Activity"}),r.length===0?u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center py-4",children:"No recent activity"}):u.jsx("div",{className:"space-y-2",children:r.map((v,m)=>u.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-300 bg-gray-50 rounded p-2",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{className:"font-semibold",children:v.userName}),u.jsxs("span",{children:[v.type==="user_joined"&&"joined",v.type==="user_left"&&"left",v.type==="user_activity"&&"is active",v.type==="task_update"&&"updated a task",v.type==="chat_message"&&"sent a message"]})]}),u.jsx("p",{className:"text-gray-400 mt-1",children:f(v.timestamp)})]},m))})]}),u.jsx("div",{className:"border-t border-gray-200 px-4 py-2 bg-gray-50 dark:bg-gray-900",children:u.jsx("button",{className:"w-full text-xs text-blue-600 hover:text-blue-700 font-medium",children:"View All Activity "})})]})]})},dy=()=>{var f;const[e,t]=O.useState(!0),r=Sr(),{user:s,logout:i}=br(),{theme:o,toggleTheme:p,isDark:n}=N_(),a=[{path:"/",label:"Dashboard",icon:$_},{path:"/analytics",label:"Analytics",icon:iy},{path:"/teams",label:"Equipes",icon:ny},{path:"/projects",label:"Projetos",icon:z_},{path:"/tasks",label:"Tarefas",icon:Q_},{path:"/prompts",label:"Prompts",icon:X_},{path:"/providers",label:"Provedores",icon:zf},{path:"/models",label:"Modelos",icon:xu},{path:"/specialized-ais",label:"IAs Especializadas",icon:A_},{path:"/credentials",label:"Credenciais",icon:W_},{path:"/templates",label:"Templates",icon:H_},{path:"/workflows",label:"Workflows",icon:U_},{path:"/instructions",label:"Instrues",icon:M_},{path:"/knowledge-base",label:"Base de Conhecimento",icon:q_},{path:"/chat",label:"Chat",icon:V_},{path:"/services",label:"Servios Externos",icon:Y_},{path:"/external-api-accounts",label:"Contas API",icon:I_},{path:"/monitoring",label:"Monitoramento",icon:Hf},{path:"/execution-logs",label:"Logs",icon:F_},{path:"/terminal",label:"Terminal",icon:sy},{path:"/model-training",label:"Treinamento",icon:xu},{path:"/settings",label:"Configuraes",icon:ty}];return u.jsxs("div",{className:"flex h-screen bg-slate-900",children:[u.jsx(cy,{}),u.jsxs("aside",{className:`${e?"w-64":"w-20"} bg-slate-800 border-r border-slate-700 transition-all duration-300 flex-col hidden lg:flex`,children:[u.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[e&&u.jsx("h1",{className:"text-xl font-bold text-white",children:"Orquestrador V3"}),u.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-slate-700 text-gray-400",children:e?u.jsx(qf,{size:20}):u.jsx(K_,{size:20})})]}),u.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:a.map(v=>{const m=v.icon,_=r.pathname===v.path;return u.jsxs(Fi,{to:v.path,className:`flex items-center px-4 py-3 mx-2 rounded-lg transition-colors ${_?"bg-blue-600 text-white":"text-gray-400 hover:bg-slate-700 hover:text-white"}`,title:e?"":v.label,children:[u.jsx(m,{size:20,className:"flex-shrink-0"}),e&&u.jsx("span",{className:"ml-3",children:v.label})]},v.path)})}),u.jsx("div",{className:"p-4 border-t border-slate-700",children:e?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-semibold",children:((f=s==null?void 0:s.name)==null?void 0:f.charAt(0).toUpperCase())||"U"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-white truncate",children:(s==null?void 0:s.name)||"Usurio"}),u.jsx("p",{className:"text-xs text-gray-400 truncate",children:s==null?void 0:s.email})]})]}),u.jsx("div",{className:"flex space-x-2 mb-2",children:u.jsxs("button",{onClick:p,className:"flex-1 flex items-center justify-center px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm text-gray-300 transition-colors",title:n?"Modo Claro":"Modo Escuro",children:[n?u.jsx(ry,{size:16,className:"mr-2"}):u.jsx(G_,{size:16,className:"mr-2"}),n?"Claro":"Escuro"]})}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(Fi,{to:"/profile",className:"flex-1 flex items-center justify-center px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm text-gray-300 transition-colors",children:[u.jsx(bu,{size:16,className:"mr-2"}),"Perfil"]}),u.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm text-white transition-colors",children:[u.jsx(Su,{size:16,className:"mr-2"}),"Sair"]})]}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"v3.4.0 - Sistema de Orquestrao"})]}):u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx(Fi,{to:"/profile",className:"p-2 rounded-lg hover:bg-slate-700 text-gray-400",title:"Perfil",children:u.jsx(bu,{size:20})}),u.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-red-600 text-gray-400",title:"Sair",children:u.jsx(Su,{size:20})})]})})]}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"container mx-auto p-4 lg:p-6",children:u.jsx(tv,{})})}),u.jsx(hy,{})]})},ki=({title:e,value:t,icon:r,color:s,trend:i})=>u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:e}),u.jsx("p",{className:`text-3xl font-bold ${s} mt-2`,children:t}),i!==void 0&&u.jsxs("p",{className:`text-sm mt-2 ${i>=0?"text-green-600":"text-red-600"}`,children:[i>=0?"":""," ",Math.abs(i),"% este ms"]})]}),u.jsx("div",{className:`text-4xl ${s.replace("text-","opacity-20 ")}`,children:r})]})});function fy(){var l,d,y,S;const{user:e}=br(),[t,r]=O.useState(new Date),{data:s}=Y.teams.list.useQuery({limit:100,offset:0}),{data:i}=Y.projects.list.useQuery({limit:100,offset:0}),{data:o}=Y.prompts.list.useQuery({userId:e==null?void 0:e.id,limit:100,offset:0}),{data:p}=Y.monitoring.getCurrentMetrics.useQuery(),{data:n}=Y.monitoring.getServiceStatus.useQuery();O.useEffect(()=>{const C=setInterval(()=>r(new Date),1e3);return()=>clearInterval(C)},[]);const a=(s==null?void 0:s.data)||[],f=(i==null?void 0:i.data)||[],v=(o==null?void 0:o.data)||[],m=p==null?void 0:p.metrics,_=f.filter(C=>C.status==="active").length,w=f.filter(C=>C.status==="completed").length,b=a.reduce((C,E)=>C+(E.memberCount||0),0),g={planning:f.filter(C=>C.status==="planning").length,active:f.filter(C=>C.status==="active").length,on_hold:f.filter(C=>C.status==="on_hold").length,completed:f.filter(C=>C.status==="completed").length,archived:f.filter(C=>C.status==="archived").length},c=[{id:1,type:"project",message:"Novo projeto criado",timestamp:new Date(Date.now()-1e3*60*5),user:e==null?void 0:e.name},{id:2,type:"team",message:"Equipe atualizada",timestamp:new Date(Date.now()-1e3*60*15),user:e==null?void 0:e.name},{id:3,type:"prompt",message:"Novo prompt adicionado",timestamp:new Date(Date.now()-1e3*60*30),user:e==null?void 0:e.name},{id:4,type:"system",message:"Sistema iniciado",timestamp:new Date(Date.now()-1e3*60*60),user:"Sistema"}],h=C=>{const E=Math.floor((Date.now()-C.getTime())/1e3);if(E<60)return`${E}s atrs`;const x=Math.floor(E/60);if(x<60)return`${x}m atrs`;const k=Math.floor(x/60);return k<24?`${k}h atrs`:`${Math.floor(k/24)}d atrs`};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Bem-vindo, ",(e==null?void 0:e.name)||"Usurio","! "]}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:[t.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," - ",t.toLocaleTimeString("pt-BR")]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[u.jsx(ki,{title:"Equipes",value:a.length,icon:"",color:"text-blue-600",trend:12}),u.jsx(ki,{title:"Projetos Ativos",value:_,icon:"",color:"text-green-600",trend:8}),u.jsx(ki,{title:"Prompts",value:v.length,icon:"",color:"text-purple-600",trend:-3}),u.jsx(ki,{title:"Membros",value:b,icon:"",color:"text-orange-600",trend:15})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Status dos Projetos"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Planejamento"}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:g.planning})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gray-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.planning/Math.max(f.length,1)*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Ativo"}),u.jsx("span",{className:"font-semibold text-green-600",children:g.active})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.active/Math.max(f.length,1)*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Em Espera"}),u.jsx("span",{className:"font-semibold text-yellow-600",children:g.on_hold})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.on_hold/Math.max(f.length,1)*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Concludo"}),u.jsx("span",{className:"font-semibold text-blue-600",children:g.completed})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.completed/Math.max(f.length,1)*100}%`}})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Arquivado"}),u.jsx("span",{className:"font-semibold text-red-600",children:g.archived})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.archived/Math.max(f.length,1)*100}%`}})})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Mtricas do Sistema"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:m!=null&&m.cpu?`${m.cpu.toFixed(1)}%`:"0%"}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"CPU"})]}),u.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:m!=null&&m.memory?`${m.memory.toFixed(1)}%`:"0%"}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Memria"})]}),u.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[u.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:m!=null&&m.disk?`${m.disk.toFixed(1)}%`:"0%"}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Disco"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Aes Rpidas"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[u.jsx("svg",{className:"w-8 h-8 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Novo Projeto"})]}),u.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[u.jsx("svg",{className:"w-8 h-8 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Nova Equipe"})]}),u.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[u.jsx("svg",{className:"w-8 h-8 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Novo Prompt"})]}),u.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors",children:[u.jsx("svg",{className:"w-8 h-8 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Ver Anlises"})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Atividade Recente"}),u.jsx("div",{className:"space-y-4",children:c.map(C=>u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${C.type==="project"?"bg-green-500":C.type==="team"?"bg-blue-500":C.type==="prompt"?"bg-purple-500":"bg-gray-500"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:C.message}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[C.user,"  ",h(C.timestamp)]})]})]},C.id))})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Status do Sistema"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Banco de Dados"}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(l=n==null?void 0:n.status)!=null&&l.database?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(d=n==null?void 0:n.status)!=null&&d.database?"Online":"Offline"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"API tRPC"}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Online"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"LM Studio"}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(y=n==null?void 0:n.status)!=null&&y.lmstudio?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:(S=n==null?void 0:n.status)!=null&&S.lmstudio?"Online":"Offline"})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg shadow p-6 text-white",children:[u.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Taxa de Concluso"}),u.jsx("div",{className:"text-4xl font-bold mb-2",children:f.length>0?`${Math.round(w/f.length*100)}%`:"0%"}),u.jsxs("p",{className:"text-sm opacity-90",children:[w," de ",f.length," projetos concludos"]}),u.jsx("div",{className:"mt-4 bg-white dark:bg-gray-800/20 rounded-full h-2",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 h-2 rounded-full transition-all duration-300",style:{width:f.length>0?`${w/f.length*100}%`:"0%"}})})]})]})]})]})}function py(){const{user:e}=br(),[t,r]=O.useState({name:"",email:"",role:"user",avatarUrl:"",bio:"",username:""}),[s,i]=O.useState({type:"",text:""}),{data:o,isLoading:p}=Y.users.getProfile.useQuery({userId:(e==null?void 0:e.id)||1},{enabled:!!(e!=null&&e.id)}),n=Y.users.updateProfile.useMutation({onSuccess:()=>{i({type:"success",text:"Perfil atualizado com sucesso!"}),setTimeout(()=>i({type:"",text:""}),3e3)},onError:f=>{i({type:"error",text:f.message||"Erro ao atualizar perfil"}),setTimeout(()=>i({type:"",text:""}),3e3)}});O.useEffect(()=>{o!=null&&o.user&&r({name:o.user.name||"",email:o.user.email||"",role:o.user.role||"user",avatarUrl:o.user.avatarUrl||"",bio:o.user.bio||"",username:o.user.username||""})},[o]);const a=async f=>{f.preventDefault(),i({type:"",text:""});try{await n.mutateAsync({userId:(e==null?void 0:e.id)||1,name:t.name,email:t.email,avatarUrl:t.avatarUrl||void 0,bio:t.bio||void 0,username:t.username||void 0})}catch{}};return u.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Meu Perfil"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie suas informaes pessoais e preferncias"})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[u.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative",children:[t.avatarUrl?u.jsx("img",{src:t.avatarUrl,alt:"Avatar",className:"w-24 h-24 rounded-full object-cover"}):u.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-600 flex items-center justify-center text-white text-3xl font-bold",children:t.name.charAt(0).toUpperCase()}),u.jsx("button",{className:"absolute bottom-0 right-0 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg hover:bg-gray-50",children:u.jsxs("svg",{className:"h-5 w-5 text-gray-600 dark:text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.name}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.email}),u.jsx("span",{className:"inline-block mt-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t.role==="admin"?"Administrador":"Usurio"})]})]})}),u.jsxs("form",{onSubmit:a,className:"p-6",children:[s.text&&u.jsx("div",{className:`mb-6 px-4 py-3 rounded ${s.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:s.text}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Nome"}),u.jsx("input",{id:"name",type:"text",value:t.name,onChange:f=>r({...t,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Email"}),u.jsx("input",{id:"email",type:"email",value:t.email,onChange:f=>r({...t,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Bio"}),u.jsx("textarea",{id:"bio",value:t.bio,onChange:f=>r({...t,bio:f.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Conte um pouco sobre voc..."})]}),u.jsxs("div",{className:"flex gap-4 pt-4",children:[u.jsx("button",{type:"submit",disabled:n.isLoading||p,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n.isLoading?"Salvando...":"Salvar Alteraes"}),u.jsx("button",{type:"button",onClick:()=>{o!=null&&o.user&&r({name:o.user.name||"",email:o.user.email||"",role:o.user.role||"user",avatarUrl:o.user.avatarUrl||"",bio:o.user.bio||"",username:o.user.username||""})},className:"border border-gray-300 text-gray-700 dark:text-gray-200 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})]})]}),u.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Segurana"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie sua senha e configuraes de segurana"})]}),u.jsx("div",{className:"p-6",children:u.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Alterar Senha "})})]}),u.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Preferncias"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Configure suas preferncias do sistema"})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Notificaes por Email"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Receba atualizaes por email"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white dark:bg-gray-800 after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Modo Escuro"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Ativar tema escuro"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white dark:bg-gray-800 after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]})}const my={planning:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",on_hold:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",archived:"bg-red-100 text-red-800"},gy={planning:"Planejamento",active:"Ativo",on_hold:"Em Espera",completed:"Concludo",archived:"Arquivado"};function vy(){const{user:e}=br(),[t,r]=O.useState(!1),[s,i]=O.useState(null),[o,p]=O.useState({name:"",description:"",status:"planning"}),[n,a]=O.useState(""),[f,v]=O.useState("all"),{data:m,isLoading:_,refetch:w}=Y.projects.list.useQuery({limit:50,offset:0}),{data:b}=Y.teams.list.useQuery({limit:100,offset:0}),g=Y.projects.create.useMutation({onSuccess:()=>{w(),C(),alert(" Projeto criado com sucesso!")},onError:k=>{console.error("Erro ao criar projeto:",k),alert(" Erro ao criar projeto: "+k.message)}}),c=Y.projects.update.useMutation({onSuccess:()=>{w(),C(),alert(" Projeto atualizado com sucesso!")},onError:k=>{console.error("Erro ao atualizar projeto:",k),alert(" Erro ao atualizar projeto: "+k.message)}}),h=Y.projects.delete.useMutation({onSuccess:()=>{w(),alert(" Projeto excludo com sucesso!")},onError:k=>{console.error("Erro ao excluir projeto:",k),alert(" Erro ao excluir projeto: "+k.message)}}),l=(m==null?void 0:m.data)||[],d=(b==null?void 0:b.data)||[],y=l.filter(k=>{var D;const L=k.name.toLowerCase().includes(n.toLowerCase())||((D=k.description)==null?void 0:D.toLowerCase().includes(n.toLowerCase())),N=f==="all"||k.status===f;return L&&N}),S=k=>{k?(i(k),p({name:k.name,description:k.description||"",status:k.status,teamId:k.teamId})):(i(null),p({name:"",description:"",status:"planning"})),r(!0)},C=()=>{r(!1),i(null),p({name:"",description:"",status:"planning"})},E=async k=>{k.preventDefault(),s?await c.mutateAsync({id:s.id,name:o.name,description:o.description,status:o.status,teamId:o.teamId}):await g.mutateAsync({name:o.name,description:o.description,teamId:o.teamId})},x=async k=>{confirm("Tem certeza que deseja excluir este projeto?")&&await h.mutateAsync({id:k})};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Projetos"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie seus projetos e tarefas"})]}),u.jsxs("button",{onClick:()=>S(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Novo Projeto"]})]}),u.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",placeholder:"Buscar projetos...",value:n,onChange:k=>a(k.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsxs("select",{value:f,onChange:k=>v(k.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"Todos os Status"}),u.jsx("option",{value:"planning",children:"Planejamento"}),u.jsx("option",{value:"active",children:"Ativo"}),u.jsx("option",{value:"on_hold",children:"Em Espera"}),u.jsx("option",{value:"completed",children:"Concludo"}),u.jsx("option",{value:"archived",children:"Arquivado"})]})]}),_?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Carregando projetos..."})]}):y.length===0?u.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:n||f!=="all"?"Nenhum projeto encontrado":"Nenhum projeto"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n||f!=="all"?"Tente uma busca diferente.":"Comece criando um novo projeto."}),!n&&f==="all"&&u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>S(),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Criar Projeto"})})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(k=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex-1",children:k.name}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${my[k.status]}`,children:gy[k.status]})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm line-clamp-3 mb-4",children:k.description||"Sem descrio"}),u.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-4",children:[u.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(k.createdAt).toLocaleDateString("pt-BR")]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>S(k),className:"flex-1 text-blue-600 hover:text-blue-700 text-sm font-medium border border-blue-600 rounded px-3 py-1 hover:bg-blue-50 transition-colors",children:"Editar"}),u.jsx("button",{onClick:()=>x(k.id),disabled:h.isLoading,className:"flex-1 text-red-600 hover:text-red-700 text-sm font-medium border border-red-600 rounded px-3 py-1 hover:bg-red-50 transition-colors disabled:opacity-50",children:"Excluir"})]})]},k.id))}),t&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s?"Editar Projeto":"Novo Projeto"}),u.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600 dark:text-gray-300",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:E,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Nome do Projeto *"}),u.jsx("input",{id:"name",type:"text",value:o.name,onChange:k=>p({...o,name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Descrio"}),u.jsx("textarea",{id:"description",value:o.description,onChange:k=>p({...o,description:k.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descreva o objetivo do projeto..."})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Status *"}),u.jsxs("select",{id:"status",value:o.status,onChange:k=>p({...o,status:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[u.jsx("option",{value:"planning",children:"Planejamento"}),u.jsx("option",{value:"active",children:"Ativo"}),u.jsx("option",{value:"on_hold",children:"Em Espera"}),u.jsx("option",{value:"completed",children:"Concludo"}),u.jsx("option",{value:"archived",children:"Arquivado"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"teamId",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Equipe (opcional)"}),u.jsxs("select",{id:"teamId",value:o.teamId||"",onChange:k=>p({...o,teamId:k.target.value?parseInt(k.target.value):void 0}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Sem equipe"}),d.map(k=>u.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-50 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:g.isLoading||c.isLoading,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:g.isLoading||c.isLoading?"Salvando...":s?"Salvar":"Criar"})]})]})]})})]})}function _y(){const{user:e}=br(),[t,r]=O.useState(!1),[s,i]=O.useState(null),[o,p]=O.useState({name:"",description:""}),[n,a]=O.useState(""),{data:f,isLoading:v,refetch:m}=Y.teams.list.useQuery({limit:50,offset:0}),_=Y.teams.create.useMutation({onSuccess:()=>{m(),l(),alert(" Equipe criada com sucesso!")},onError:S=>{console.error("Erro ao criar equipe:",S),alert(" Erro ao criar equipe: "+S.message)}}),w=Y.teams.update.useMutation({onSuccess:()=>{m(),l(),alert(" Equipe atualizada com sucesso!")},onError:S=>{console.error("Erro ao atualizar equipe:",S),alert(" Erro ao atualizar equipe: "+S.message)}}),b=Y.teams.delete.useMutation({onSuccess:()=>{m(),alert(" Equipe excluda com sucesso!")},onError:S=>{console.error("Erro ao excluir equipe:",S),alert(" Erro ao excluir equipe: "+S.message)}}),c=((f==null?void 0:f.data)||[]).filter(S=>{var C;return S.name.toLowerCase().includes(n.toLowerCase())||((C=S.description)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))}),h=S=>{S?(i(S),p({name:S.name,description:S.description||""})):(i(null),p({name:"",description:""})),r(!0)},l=()=>{r(!1),i(null),p({name:"",description:""})},d=async S=>{S.preventDefault(),s?await w.mutateAsync({id:s.id,name:o.name,description:o.description}):await _.mutateAsync({name:o.name,description:o.description,ownerId:(e==null?void 0:e.id)||1})},y=async S=>{confirm("Tem certeza que deseja excluir esta equipe?")&&await b.mutateAsync({id:S})};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Equipes"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie equipes e membros"})]}),u.jsxs("button",{onClick:()=>h(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nova Equipe"]})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Buscar equipes...",value:n,onChange:S=>a(S.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),v?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Carregando equipes..."})]}):c.length===0?u.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:n?"Nenhuma equipe encontrada":"Nenhuma equipe"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n?"Tente uma busca diferente.":"Comece criando uma nova equipe."}),!n&&u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>h(),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Criar Equipe"})})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(S=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.name}),u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[S.memberCount||0," membros"]})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm line-clamp-2 mb-4",children:S.description||"Sem descrio"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>h(S),className:"flex-1 text-blue-600 hover:text-blue-700 text-sm font-medium border border-blue-600 rounded px-3 py-1 hover:bg-blue-50 transition-colors",children:"Editar"}),u.jsx("button",{onClick:()=>y(S.id),disabled:b.isLoading,className:"flex-1 text-red-600 hover:text-red-700 text-sm font-medium border border-red-600 rounded px-3 py-1 hover:bg-red-50 transition-colors disabled:opacity-50",children:"Excluir"})]})]},S.id))}),t&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s?"Editar Equipe":"Nova Equipe"}),u.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 dark:text-gray-300",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:d,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Nome da Equipe *"}),u.jsx("input",{id:"name",type:"text",value:o.name,onChange:S=>p({...o,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Descrio"}),u.jsx("textarea",{id:"description",value:o.description,onChange:S=>p({...o,description:S.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descreva o objetivo da equipe..."})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-50 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:_.isLoading||w.isLoading,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:_.isLoading||w.isLoading?"Salvando...":s?"Salvar":"Criar"})]})]})]})})]})}function it({columns:e,data:t,onAdd:r,onEdit:s,onDelete:i,onView:o,loading:p=!1,searchQuery:n="",onSearchChange:a,title:f}){return u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:f}),u.jsxs("div",{className:"flex items-center gap-4",children:[a&&u.jsxs("div",{className:"relative",children:[u.jsx(J_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Buscar...",value:n,onChange:v=>a(v.target.value),className:"pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-2 focus:ring-blue-500"})]}),r&&u.jsxs("button",{onClick:r,className:"btn-primary flex items-center gap-2",children:[u.jsx(ei,{size:20}),"Adicionar"]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-700",children:[e.map((v,m)=>u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:v.label},m)),(s||i||o)&&u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-700",children:p?u.jsx("tr",{children:u.jsx("td",{colSpan:e.length+1,className:"px-4 py-8 text-center",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),u.jsx("span",{className:"ml-3 text-gray-400",children:"Carregando..."})]})})}):t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:e.length+1,className:"px-4 py-8 text-center text-gray-400",children:"Nenhum registro encontrado"})}):t.map((v,m)=>u.jsxs("tr",{className:"hover:bg-slate-700/50 transition-colors",children:[e.map((_,w)=>u.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:_.render?_.render(v):String(v[_.key]||"-")},w)),(s||i||o)&&u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[o&&u.jsx("button",{onClick:()=>o(v),className:"p-1 rounded hover:bg-slate-600 text-blue-400",title:"Visualizar",children:u.jsx(B_,{size:18})}),s&&u.jsx("button",{onClick:()=>s(v),className:"p-1 rounded hover:bg-slate-600 text-yellow-400",title:"Editar",children:u.jsx(Wf,{size:18})}),i&&u.jsx("button",{onClick:()=>i(v),className:"p-1 rounded hover:bg-slate-600 text-red-400",title:"Deletar",children:u.jsx($f,{size:18})})]})})]},m))})]})})]})}const yy=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.providers.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Provedores de IA",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},xy=()=>{const[e,t]=O.useState(""),[r,s]=O.useState(null),[i,o]=O.useState(!1),{data:p,isLoading:n,refetch:a}=Y.models.list.useQuery({query:e}),{data:f}=Y.providers.list.useQuery({}),v=Y.models.delete.useMutation({onSuccess:()=>{a(),alert("Modelo excludo com sucesso!")}}),m=Y.models.update.useMutation({onSuccess:()=>{a()}}),_=g=>{confirm("Tem certeza que deseja excluir este modelo?")&&v.mutate({id:g})},w=g=>{m.mutate({id:g.id,isActive:!g.isActive})},b=r?p==null?void 0:p.items.filter(g=>g.providerId===r):p==null?void 0:p.items;return u.jsxs("div",{className:"space-y-6 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white",children:"Modelos de IA"}),u.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Gerencie os modelos disponveis para execuo"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>a(),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[u.jsx(Uf,{size:16}),"Atualizar"]}),u.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[u.jsx(ei,{size:16}),"Adicionar Modelo"]})]})]}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsx("div",{className:"flex-1 min-w-[250px]",children:u.jsx("input",{type:"text",value:e,onChange:g=>t(g.target.value),placeholder:"Buscar modelos...",className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),u.jsxs("select",{value:r||"",onChange:g=>s(g.target.value?Number(g.target.value):null),className:"px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Todos os Providers"}),f==null?void 0:f.items.map(g=>u.jsx("option",{value:g.id,children:g.name},g.id))]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Total de Modelos"}),u.jsx("p",{className:"text-3xl font-bold text-white",children:(b==null?void 0:b.length)||0})]}),u.jsx(zf,{className:"text-blue-400",size:40})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Modelos Ativos"}),u.jsx("p",{className:"text-3xl font-bold text-green-400",children:(b==null?void 0:b.filter(g=>g.isActive).length)||0})]}),u.jsx(O_,{className:"text-green-400",size:40})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Modelos Inativos"}),u.jsx("p",{className:"text-3xl font-bold text-gray-400",children:(b==null?void 0:b.filter(g=>!g.isActive).length)||0})]}),u.jsx(oy,{className:"text-gray-400",size:40})]})}),u.jsx("div",{className:"card",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Providers"}),u.jsx("p",{className:"text-3xl font-bold text-purple-400",children:(f==null?void 0:f.items.length)||0})]}),u.jsx(ey,{className:"text-purple-400",size:40})]})})]}),n?u.jsxs("div",{className:"card text-center py-12",children:[u.jsx(Hf,{className:"animate-spin mx-auto mb-4 text-blue-500",size:40}),u.jsx("p",{className:"text-gray-400",children:"Carregando modelos..."})]}):b&&b.length>0?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:b.map(g=>{var h;const c=f==null?void 0:f.items.find(l=>l.id===g.providerId);return u.jsxs("div",{className:"card hover:border-blue-500 transition-colors",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:g.name}),g.isActive?u.jsx("span",{className:"px-2 py-1 bg-green-600/20 text-green-400 text-xs rounded-full",children:"Ativo"}):u.jsx("span",{className:"px-2 py-1 bg-gray-600/20 text-gray-400 text-xs rounded-full",children:"Inativo"})]}),u.jsx("p",{className:"text-sm text-gray-400",children:(c==null?void 0:c.name)||"Provider desconhecido"})]}),u.jsx("button",{onClick:()=>w(g),className:`p-2 rounded-lg transition-colors ${g.isActive?"bg-green-600/20 hover:bg-green-600/30 text-green-400":"bg-gray-600/20 hover:bg-gray-600/30 text-gray-400"}`,title:g.isActive?"Desativar":"Ativar",children:u.jsx(ay,{size:16})})]}),u.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Model ID:"}),u.jsx("span",{className:"text-white font-mono text-xs",children:g.modelId})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Context Window:"}),u.jsx("span",{className:"text-white",children:((h=g.contextWindow)==null?void 0:h.toLocaleString())||"N/A"})]}),g.parameters&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Parmetros:"}),u.jsx("span",{className:"text-white",children:g.parameters})]}),g.quantization&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Quantizao:"}),u.jsx("span",{className:"text-white",children:g.quantization})]}),g.sizeBytes&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Tamanho:"}),u.jsxs("span",{className:"text-white",children:[(g.sizeBytes/1024/1024/1024).toFixed(2)," GB"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Prioridade:"}),u.jsxs("span",{className:"text-white",children:[g.priority||50,"/100"]})]})]}),g.capabilities&&g.capabilities.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Capacidades:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:g.capabilities.map((l,d)=>u.jsx("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-400 text-xs rounded",children:l},d))})]}),u.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-700",children:[u.jsxs("button",{onClick:()=>alert("Editar modelo em desenvolvimento"),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm",children:[u.jsx(Wf,{size:14}),"Editar"]}),u.jsxs("button",{onClick:()=>_(g.id),className:"flex-1 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm",children:[u.jsx($f,{size:14}),"Excluir"]})]})]},g.id)})}):u.jsxs("div",{className:"card text-center py-12",children:[u.jsx(T_,{className:"mx-auto mb-4 text-gray-500 dark:text-gray-400",size:48}),u.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"Nenhum modelo encontrado"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-6",children:e?"Tente ajustar sua busca ou filtros":"Comece adicionando seu primeiro modelo de IA"}),u.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[u.jsx(ei,{size:20}),"Adicionar Primeiro Modelo"]})]}),i&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"card max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Adicionar Modelo"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Formulrio de adio de modelo em desenvolvimento..."}),u.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Fechar"})]})})]})},Sy=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.specializedais.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"IAs Especializadas",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},by=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.credentials.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Credenciais",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},wy=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.tasks.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Tarefas",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},Cy=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.subtasks.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Subtarefas",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})};function ky(){const{user:e}=br(),[t,r]=O.useState("all"),[s,i]=O.useState(!1),[o,p]=O.useState(null),[n,a]=O.useState({title:"",content:"",category:"",tags:"",isPublic:!1}),[f,v]=O.useState(""),{data:m,isLoading:_,refetch:w}=Y.prompts.list.useQuery({userId:e==null?void 0:e.id,isPublic:t==="all"?void 0:t==="public",limit:50,offset:0}),b=Y.prompts.create.useMutation({onSuccess:()=>{w(),y()}}),g=Y.prompts.update.useMutation({onSuccess:()=>{w(),y()}}),c=Y.prompts.delete.useMutation({onSuccess:()=>{w()}}),l=((m==null?void 0:m.data)||[]).filter(x=>{var L,N;const k=x.title.toLowerCase().includes(f.toLowerCase())||((L=x.content)==null?void 0:L.toLowerCase().includes(f.toLowerCase()))||((N=x.category)==null?void 0:N.toLowerCase().includes(f.toLowerCase()));return t==="mine"?k&&x.userId===(e==null?void 0:e.id):t==="public"?k&&x.isPublic:k}),d=x=>{x?(p(x),a({title:x.title,content:x.content||"",category:x.category||"",tags:x.tags||"",isPublic:x.isPublic||!1})):(p(null),a({title:"",content:"",category:"",tags:"",isPublic:!1})),i(!0)},y=()=>{i(!1),p(null),a({title:"",content:"",category:"",tags:"",isPublic:!1})},S=async x=>{x.preventDefault(),o?await g.mutateAsync({id:o.id,title:n.title,content:n.content,category:n.category||void 0,tags:n.tags||void 0,isPublic:n.isPublic}):await b.mutateAsync({title:n.title,content:n.content,category:n.category||void 0,tags:n.tags||void 0,isPublic:n.isPublic,userId:(e==null?void 0:e.id)||1})},C=async x=>{confirm("Tem certeza que deseja excluir este prompt?")&&await c.mutateAsync({id:x})},E=async x=>{await b.mutateAsync({title:`${x.title} (cpia)`,content:x.content,category:x.category,tags:x.tags,isPublic:!1,userId:(e==null?void 0:e.id)||1})};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Biblioteca de Prompts"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie seus prompts para IAs"})]}),u.jsxs("button",{onClick:()=>d(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Novo Prompt"]})]}),u.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{type:"text",placeholder:"Buscar prompts...",value:f,onChange:x=>v(x.target.value),className:"w-full px-4 py-2 pl-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-400 dark:placeholder-gray-500"}),u.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Todos"}),u.jsx("button",{onClick:()=>r("mine"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="mine"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Meus Prompts"}),u.jsx("button",{onClick:()=>r("public"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="public"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Pblicos"})]})]}),_?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Carregando prompts..."})]}):l.length===0?u.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:f?"Nenhum prompt encontrado":"Nenhum prompt"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:f?"Tente uma busca diferente.":"Comece criando um novo prompt."}),!f&&u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>d(),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Criar Prompt"})})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(x=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex-1 line-clamp-1",children:x.title}),x.isPublic&&u.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full ml-2",children:"Pblico"})]}),x.category&&u.jsx("span",{className:"inline-block text-xs bg-gray-100 text-gray-700 dark:text-gray-200 px-2 py-1 rounded mb-3",children:x.category}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm line-clamp-3 mb-4",children:x.content||"Sem contedo"}),x.tags&&u.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:x.tags.split(",").slice(0,3).map((k,L)=>u.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:k.trim()},L))}),u.jsxs("div",{className:"flex gap-2",children:[x.userId===(e==null?void 0:e.id)&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>d(x),className:"flex-1 text-blue-600 hover:text-blue-700 text-sm font-medium border border-blue-600 rounded px-3 py-1 hover:bg-blue-50 transition-colors",children:"Editar"}),u.jsx("button",{onClick:()=>C(x.id),disabled:c.isLoading,className:"flex-1 text-red-600 hover:text-red-700 text-sm font-medium border border-red-600 rounded px-3 py-1 hover:bg-red-50 transition-colors disabled:opacity-50",children:"Excluir"})]}),u.jsx("button",{onClick:()=>E(x),disabled:b.isLoading,className:"flex-1 text-gray-600 hover:text-gray-700 dark:text-gray-200 text-sm font-medium border border-gray-600 rounded px-3 py-1 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Duplicar"})]})]},x.id))}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o?"Editar Prompt":"Novo Prompt"}),u.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 dark:text-gray-300",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:S,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Ttulo do Prompt *"}),u.jsx("input",{id:"title",type:"text",value:n.title,onChange:x=>a({...n,title:x.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-400 dark:placeholder-gray-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Contedo do Prompt *"}),u.jsx("textarea",{id:"content",value:n.content,onChange:x=>a({...n,content:x.target.value}),rows:8,className:"w-full px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Escreva seu prompt aqui...",required:!0}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Dica: Use variveis como ","{","nome","}"," para personalizar seu prompt"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Categoria"}),u.jsx("input",{id:"category",type:"text",value:n.category,onChange:x=>a({...n,category:x.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Ex: Marketing, Cdigo, Criativo"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tags"}),u.jsx("input",{id:"tags",type:"text",value:n.tags,onChange:x=>a({...n,tags:x.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-400 dark:placeholder-gray-500",placeholder:"tag1, tag2, tag3"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"isPublic",type:"checkbox",checked:n.isPublic,onChange:x=>a({...n,isPublic:x.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500"}),u.jsx("label",{htmlFor:"isPublic",className:"ml-2 block text-sm text-gray-700 dark:text-gray-200",children:"Tornar este prompt pblico (outros usurios podero v-lo)"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-50 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:b.isLoading||g.isLoading,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:b.isLoading||g.isLoading?"Salvando...":o?"Salvar":"Criar"})]})]})]})})]})}const Ey=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.templates.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Templates",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},jy=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.workflows.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Workflows",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},Ry=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.instructions.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Instrues",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},Ly=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.knowledgebase.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Base de Conhecimento",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},Ny=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.knowledgesources.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Fontes de Conhecimento",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},Dy=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.executionlogs.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Logs de Execuo",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})},Py=()=>{const[e,t]=O.useState([]),[r,s]=O.useState(""),[i,o]=O.useState(!1),[p,n]=O.useState(!1),[a,f]=O.useState(""),v=O.useRef(null),m=O.useRef(null),_=()=>{var g;(g=m.current)==null||g.scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{_()},[e,a]),O.useEffect(()=>{const c=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,h=new WebSocket(c);return h.onopen=()=>{console.log(" WebSocket conectado"),o(!0),h.send(JSON.stringify({type:"chat:history",data:{conversationId:1,limit:50}}))},h.onmessage=l=>{try{const d=JSON.parse(l.data);switch(d.type){case"chat:history":t(d.data);break;case"chat:message":d.data.role==="assistant"&&p&&(n(!1),f("")),t(y=>y.find(C=>C.id===d.data.id)?y:[...y,d.data]);break;case"chat:streaming":d.data.done?n(!1):(n(!0),f(y=>y+d.data.chunk));break;case"error":console.error("Erro do servidor:",d.data.message),alert(`Erro: ${d.data.message}`);break}}catch(d){console.error("Erro ao processar mensagem:",d)}},h.onerror=l=>{console.error(" Erro no WebSocket:",l),o(!1)},h.onclose=()=>{console.log(" WebSocket desconectado"),o(!1),setTimeout(()=>{console.log(" Tentando reconectar..."),window.location.reload()},3e3)},v.current=h,()=>{h.close()}},[]);const w=()=>{!r.trim()||!v.current||!i||(v.current.send(JSON.stringify({type:"chat:send",data:{message:r.trim(),conversationId:1}})),s(""))},b=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),w())};return u.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] p-4 gap-4",children:[u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Chat com IA"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Converse com o assistente do Orquestrador V3.2"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${i?"bg-green-500":"bg-red-500"}`,title:i?"Conectado":"Desconectado"}),u.jsx("span",{className:"text-sm text-gray-400",children:i?"Online":"Offline"})]})]}),u.jsxs("div",{className:"flex-1 card p-4 overflow-y-auto space-y-4",children:[e.length===0&&!p&&u.jsxs("div",{className:"text-center text-gray-400 py-12",children:[u.jsx("p",{className:"text-lg mb-2",children:" Bem-vindo!"}),u.jsx("p",{children:"Envie uma mensagem para comear a conversar."})]}),e.map((g,c)=>u.jsx("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[70%] px-4 py-3 rounded-lg ${g.role==="user"?"bg-blue-600 text-white":"bg-gray-700 text-gray-100"}`,children:[u.jsx("p",{className:"text-sm font-medium mb-1",children:g.role==="user"?"Voc":"Assistente"}),u.jsx("p",{className:"whitespace-pre-wrap",children:g.content}),u.jsx("p",{className:"text-xs opacity-70 mt-2",children:new Date(g.timestamp).toLocaleTimeString("pt-BR")})]})},g.id||c)),p&&a&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"max-w-[70%] px-4 py-3 rounded-lg bg-gray-700 text-gray-100",children:[u.jsx("p",{className:"text-sm font-medium mb-1",children:"Assistente"}),u.jsx("p",{className:"whitespace-pre-wrap",children:a}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),u.jsx("p",{className:"text-xs opacity-70",children:"Digitando..."})]})]})}),u.jsx("div",{ref:m})]}),u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("textarea",{value:r,onChange:g=>s(g.target.value),onKeyPress:b,placeholder:i?"Digite sua mensagem... (Enter para enviar)":"Aguardando conexo...",disabled:!i||p,className:"flex-1 bg-gray-700 text-white rounded-lg px-4 py-3 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",rows:3}),u.jsxs("button",{onClick:w,disabled:!i||!r.trim()||p,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[u.jsx(Z_,{size:20}),"Enviar"]})]}),!i&&u.jsx("p",{className:"text-amber-500 text-sm mt-2",children:" Desconectado do servidor. Tentando reconectar..."})]})]})},Ty=()=>{const[e,t]=O.useState(""),{data:r,isLoading:s}=Y.externalapiaccounts.list.useQuery({query:e});return u.jsx("div",{children:u.jsx(it,{title:"Contas de API Externa",columns:[{key:"id",label:"ID"},{key:"name",label:"Nome"}],data:(r==null?void 0:r.items)||[],loading:s,searchQuery:e,onSearchChange:t,onAdd:()=>console.log("Add"),onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})};function My(){const{user:e}=br(),{data:t,isLoading:r,refetch:s}=Y.services.listServices.useQuery({userId:e==null?void 0:e.id}),i={github:"",gmail:"",drive:"",sheets:"",notion:"",slack:"",discord:""},o={github:"Acesse repositrios, issues e pull requests",gmail:"Envie e receba emails automaticamente",drive:"Gerencie arquivos e pastas na nuvem",sheets:"Leia e escreva em planilhas",notion:"Sincronize pginas e bancos de dados",slack:"Envie mensagens para canais e usurios",discord:"Integre com servidores Discord"},n=["github","gmail","drive","sheets","notion","slack","discord"].map(a=>{var v;const f=(v=t==null?void 0:t.services)==null?void 0:v.find(m=>m.serviceName===a);return{name:a.charAt(0).toUpperCase()+a.slice(1),serviceName:a,status:f!=null&&f.isActive?"connected":"disconnected",icon:i[a]||"",id:f==null?void 0:f.id}});return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Servios Externos"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Conecte e gerencie integraes com servios externos"})]}),r?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Carregando servios..."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-3xl",children:a.icon}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),u.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full mt-1 ${a.status==="connected"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:a.status==="connected"?"Conectado":"Desconectado"})]})]})}),u.jsx("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300 mb-4",children:u.jsx("p",{children:o[a.serviceName]||"Servio de integrao"})}),u.jsx("div",{className:"flex gap-2",children:a.status==="connected"?u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Configurar"}),u.jsx("button",{onClick:()=>{console.log("Desconectar",a.name)},className:"flex-1 border border-red-300 text-red-600 px-4 py-2 rounded-lg hover:bg-red-50 transition-colors text-sm font-medium",children:"Desconectar"})]}):u.jsx("button",{onClick:()=>{console.log("Conectar",a.name)},className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Conectar"})})]})},a.name))}),u.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Credenciais de API"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Gerencie chaves de API para servios que no usam OAuth"})]}),u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"text-center py-8",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Nenhuma credencial configurada"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Adicione chaves de API para OpenAI, Anthropic, e outros servios"}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Adicionar Credencial"})})]})})]})]})}function Ay(){var a,f,v,m,_,w;const{data:e,isLoading:t}=Y.monitoring.getCurrentMetrics.useQuery(),{data:r,isLoading:s}=Y.monitoring.getServiceStatus.useQuery(),{data:i,isLoading:o}=Y.monitoring.getErrorLogs.useQuery({limit:10,hours:1}),p=t||s||o,n=e==null?void 0:e.metrics;return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Monitoramento do Sistema"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Acompanhe mtricas, logs e performance em tempo real"})]}),p?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-4",children:"Carregando mtricas..."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"CPU"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n!=null&&n.cpu?`${n.cpu.toFixed(1)}%`:"0%"})]}),u.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:u.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})})]}),u.jsx("div",{className:"mt-4",children:u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${(n==null?void 0:n.cpu)||0}%`}})})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Memria"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n!=null&&n.memory?`${n.memory.toFixed(1)}%`:"0%"})]}),u.jsx("div",{className:"bg-green-100 rounded-full p-3",children:u.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2 1 3 3 3h10c2 0 3-1 3-3V7c0-2-1-3-3-3H7c-2 0-3 1-3 3z"})})})]}),u.jsx("div",{className:"mt-4",children:u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${(n==null?void 0:n.memory)||0}%`}})})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Disco"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n!=null&&n.disk?`${n.disk.toFixed(1)}%`:"0%"})]}),u.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:u.jsx("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})})]}),u.jsx("div",{className:"mt-4",children:u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:`${(n==null?void 0:n.disk)||0}%`}})})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Conexes"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(n==null?void 0:n.connections)||0})]}),u.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:u.jsx("svg",{className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:"Ativas no momento"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[u.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Logs Recentes"})}),u.jsx("div",{className:"p-6",children:i!=null&&i.logs&&i.logs.length>0?u.jsx("div",{className:"space-y-3",children:i.logs.slice(0,5).map((b,g)=>{var c;return u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded ${b.level==="error"?"bg-red-100 text-red-800":b.level==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:((c=b.level)==null?void 0:c.toUpperCase())||"INFO"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:b.message||"Sem mensagem"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.timestamp?new Date(b.timestamp).toLocaleString("pt-BR"):"Sem data"})]})]},b.id||g)})}):u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum log recente"})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[u.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Status dos Servios"})}),u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"Banco de Dados"}),u.jsx("span",{className:`text-xs px-2 py-1 rounded ${(a=r==null?void 0:r.status)!=null&&a.database?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(f=r==null?void 0:r.status)!=null&&f.database?"Online":"Offline"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"LM Studio"}),u.jsx("span",{className:`text-xs px-2 py-1 rounded ${(v=r==null?void 0:r.status)!=null&&v.lmstudio?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(m=r==null?void 0:r.status)!=null&&m.lmstudio?"Online":"Offline"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"API tRPC"}),u.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Online"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:"Redis"}),u.jsx("span",{className:`text-xs px-2 py-1 rounded ${(_=r==null?void 0:r.status)!=null&&_.redis?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(w=r==null?void 0:r.status)!=null&&w.redis?"Online":"Offline"})]})]})})]})]})]})]})}const Oy=()=>u.jsx("div",{className:"card",children:u.jsx("h1",{className:"text-2xl text-white",children:"Configuraes"})});var Qf={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={4567:function(p,n,a){var f=this&&this.__decorate||function(d,y,S,C){var E,x=arguments.length,k=x<3?y:C===null?C=Object.getOwnPropertyDescriptor(y,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(d,y,S,C);else for(var L=d.length-1;L>=0;L--)(E=d[L])&&(k=(x<3?E(k):x>3?E(y,S,k):E(y,S))||k);return x>3&&k&&Object.defineProperty(y,S,k),k},v=this&&this.__param||function(d,y){return function(S,C){y(S,C,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;const m=a(9042),_=a(6114),w=a(9924),b=a(844),g=a(5596),c=a(4725),h=a(3656);let l=n.AccessibilityManager=class extends b.Disposable{constructor(d,y){super(),this._terminal=d,this._renderService=y,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new w.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(S=>this._handleResize(S.rows))),this.register(this._terminal.onRender(S=>this._refreshRows(S.start,S.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(S=>this._handleChar(S))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(S=>this._handleTab(S))),this.register(this._terminal.onKey(S=>this._handleKey(S.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new g.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,h.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,b.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(d){for(let y=0;y<d;y++)this._handleChar(" ")}_handleChar(d){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==d&&(this._charsToAnnounce+=d):this._charsToAnnounce+=d,d===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=m.tooMuchOutput)),_.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,_.isMac&&this._liveRegion.remove()}_handleKey(d){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(d)||this._charsToConsume.push(d)}_refreshRows(d,y){this._liveRegionDebouncer.refresh(d,y,this._terminal.rows)}_renderRows(d,y){const S=this._terminal.buffer,C=S.lines.length.toString();for(let E=d;E<=y;E++){const x=S.translateBufferLineToString(S.ydisp+E,!0),k=(S.ydisp+E+1).toString(),L=this._rowElements[E];L&&(x.length===0?L.innerText="":L.textContent=x,L.setAttribute("aria-posinset",k),L.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(d,y){const S=d.target,C=this._rowElements[y===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(y===0?"1":`${this._terminal.buffer.lines.length}`)||d.relatedTarget!==C)return;let E,x;if(y===0?(E=S,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(E=this._rowElements.shift(),x=S,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),y===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(y===0?-1:1),this._rowElements[y===0?1:this._rowElements.length-2].focus(),d.preventDefault(),d.stopImmediatePropagation()}_handleResize(d){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>d;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const d=document.createElement("div");return d.setAttribute("role","listitem"),d.tabIndex=-1,this._refreshRowDimensions(d),d}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let d=0;d<this._terminal.rows;d++)this._refreshRowDimensions(this._rowElements[d])}}_refreshRowDimensions(d){d.style.height=`${this._renderService.dimensions.css.cell.height}px`}};n.AccessibilityManager=l=f([v(1,c.IRenderService)],l)},3614:(p,n)=>{function a(_){return _.replace(/\r?\n/g,"\r")}function f(_,w){return w?"\x1B[200~"+_+"\x1B[201~":_}function v(_,w,b,g){_=f(_=a(_),b.decPrivateModes.bracketedPasteMode&&g.rawOptions.ignoreBracketedPasteMode!==!0),b.triggerDataEvent(_,!0),w.value=""}function m(_,w,b){const g=b.getBoundingClientRect(),c=_.clientX-g.left-10,h=_.clientY-g.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${c}px`,w.style.top=`${h}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=a,n.bracketTextForPaste=f,n.copyHandler=function(_,w){_.clipboardData&&_.clipboardData.setData("text/plain",w.selectionText),_.preventDefault()},n.handlePasteEvent=function(_,w,b,g){_.stopPropagation(),_.clipboardData&&v(_.clipboardData.getData("text/plain"),w,b,g)},n.paste=v,n.moveTextAreaUnderMouseCursor=m,n.rightClickHandler=function(_,w,b,g,c){m(_,w,b),c&&g.rightClickSelect(_),w.value=g.selectionText,w.select()}},7239:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;const f=a(1505);n.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(v,m,_){this._css.set(v,m,_)}getCss(v,m){return this._css.get(v,m)}setColor(v,m,_){this._color.set(v,m,_)}getColor(v,m){return this._color.get(v,m)}clear(){this._color.clear(),this._css.clear()}}},3656:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(a,f,v,m){a.addEventListener(f,v,m);let _=!1;return{dispose:()=>{_||(_=!0,a.removeEventListener(f,v,m))}}}},6465:function(p,n,a){var f=this&&this.__decorate||function(c,h,l,d){var y,S=arguments.length,C=S<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,l):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,h,l,d);else for(var E=c.length-1;E>=0;E--)(y=c[E])&&(C=(S<3?y(C):S>3?y(h,l,C):y(h,l))||C);return S>3&&C&&Object.defineProperty(h,l,C),C},v=this&&this.__param||function(c,h){return function(l,d){h(l,d,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;const m=a(3656),_=a(8460),w=a(844),b=a(2585);let g=n.Linkifier2=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(c){super(),this._bufferService=c,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new _.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new _.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(c){return this._linkProviders.push(c),{dispose:()=>{const h=this._linkProviders.indexOf(c);h!==-1&&this._linkProviders.splice(h,1)}}}attachToDom(c,h,l){this._element=c,this._mouseService=h,this._renderService=l,this.register((0,m.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,m.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){if(this._lastMouseEvent=c,!this._element||!this._mouseService)return;const h=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!h)return;this._isMouseOut=!1;const l=c.composedPath();for(let d=0;d<l.length;d++){const y=l[d];if(y.classList.contains("xterm"))break;if(y.classList.contains("xterm-hover"))return}this._lastBufferCell&&h.x===this._lastBufferCell.x&&h.y===this._lastBufferCell.y||(this._handleHover(h),this._lastBufferCell=h)}_handleHover(c){if(this._activeLine!==c.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(c,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,h){var l,d;this._activeProviderReplies&&h||((l=this._activeProviderReplies)===null||l===void 0||l.forEach(S=>{S==null||S.forEach(C=>{C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);let y=!1;for(const[S,C]of this._linkProviders.entries())h?!((d=this._activeProviderReplies)===null||d===void 0)&&d.get(S)&&(y=this._checkLinkProviderResult(S,c,y)):C.provideLinks(c.y,E=>{var x,k;if(this._isMouseOut)return;const L=E==null?void 0:E.map(N=>({link:N}));(x=this._activeProviderReplies)===null||x===void 0||x.set(S,L),y=this._checkLinkProviderResult(S,c,y),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)})}_removeIntersectingLinks(c,h){const l=new Set;for(let d=0;d<h.size;d++){const y=h.get(d);if(y)for(let S=0;S<y.length;S++){const C=y[S],E=C.link.range.start.y<c?0:C.link.range.start.x,x=C.link.range.end.y>c?this._bufferService.cols:C.link.range.end.x;for(let k=E;k<=x;k++){if(l.has(k)){y.splice(S--,1);break}l.add(k)}}}}_checkLinkProviderResult(c,h,l){var d;if(!this._activeProviderReplies)return l;const y=this._activeProviderReplies.get(c);let S=!1;for(let C=0;C<c;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(S=!0);if(!S&&y){const C=y.find(E=>this._linkAtPosition(E.link,h));C&&(l=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviders.length&&!l)for(let C=0;C<this._activeProviderReplies.size;C++){const E=(d=this._activeProviderReplies.get(C))===null||d===void 0?void 0:d.find(x=>this._linkAtPosition(x.link,h));if(E){l=!0,this._handleNewLink(E);break}}return l}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._element||!this._mouseService||!this._currentLink)return;const h=this._positionFromMouseEvent(c,this._element,this._mouseService);h&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,h)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,h){this._element&&this._currentLink&&this._lastMouseEvent&&(!c||!h||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=h)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const h=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);h&&this._linkAtPosition(c.link,h)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>{var l,d;return(d=(l=this._currentLink)===null||l===void 0?void 0:l.state)===null||d===void 0?void 0:d.decorations.pointerCursor},set:l=>{var d,y;!((d=this._currentLink)===null||d===void 0)&&d.state&&this._currentLink.state.decorations.pointerCursor!==l&&(this._currentLink.state.decorations.pointerCursor=l,this._currentLink.state.isHovered&&((y=this._element)===null||y===void 0||y.classList.toggle("xterm-cursor-pointer",l)))}},underline:{get:()=>{var l,d;return(d=(l=this._currentLink)===null||l===void 0?void 0:l.state)===null||d===void 0?void 0:d.decorations.underline},set:l=>{var d,y,S;!((d=this._currentLink)===null||d===void 0)&&d.state&&((S=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||S===void 0?void 0:S.decorations.underline)!==l&&(this._currentLink.state.decorations.underline=l,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,l))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(l=>{if(!this._currentLink)return;const d=l.start===0?0:l.start+1+this._bufferService.buffer.ydisp,y=this._bufferService.buffer.ydisp+1+l.end;if(this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=y&&(this._clearCurrentLink(d,y),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(c,h,l){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(h,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),h.hover&&h.hover(l,h.text)}_fireUnderlineEvent(c,h){const l=c.range,d=this._bufferService.buffer.ydisp,y=this._createLinkUnderlineEvent(l.start.x-1,l.start.y-d-1,l.end.x,l.end.y-d-1,void 0);(h?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(y)}_linkLeave(c,h,l){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(h,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),h.leave&&h.leave(l,h.text)}_linkAtPosition(c,h){const l=c.range.start.y*this._bufferService.cols+c.range.start.x,d=c.range.end.y*this._bufferService.cols+c.range.end.x,y=h.y*this._bufferService.cols+h.x;return l<=y&&y<=d}_positionFromMouseEvent(c,h,l){const d=l.getCoords(c,h,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,h,l,d,y){return{x1:c,y1:h,x2:l,y2:d,cols:this._bufferService.cols,fg:y}}};n.Linkifier2=g=f([v(0,b.IBufferService)],g)},9042:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(p,n,a){var f=this&&this.__decorate||function(g,c,h,l){var d,y=arguments.length,S=y<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,h):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(g,c,h,l);else for(var C=g.length-1;C>=0;C--)(d=g[C])&&(S=(y<3?d(S):y>3?d(c,h,S):d(c,h))||S);return y>3&&S&&Object.defineProperty(c,h,S),S},v=this&&this.__param||function(g,c){return function(h,l){c(h,l,g)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkProvider=void 0;const m=a(511),_=a(2585);let w=n.OscLinkProvider=class{constructor(g,c,h){this._bufferService=g,this._optionsService=c,this._oscLinkService=h}provideLinks(g,c){var h;const l=this._bufferService.buffer.lines.get(g-1);if(!l)return void c(void 0);const d=[],y=this._optionsService.rawOptions.linkHandler,S=new m.CellData,C=l.getTrimmedLength();let E=-1,x=-1,k=!1;for(let L=0;L<C;L++)if(x!==-1||l.hasContent(L)){if(l.loadCell(L,S),S.hasExtendedAttrs()&&S.extended.urlId){if(x===-1){x=L,E=S.extended.urlId;continue}k=S.extended.urlId!==E}else x!==-1&&(k=!0);if(k||x!==-1&&L===C-1){const N=(h=this._oscLinkService.getLinkData(E))===null||h===void 0?void 0:h.uri;if(N){const D={start:{x:x+1,y:g},end:{x:L+(k||L!==C-1?0:1),y:g}};let M=!1;if(!(y!=null&&y.allowNonHttpProtocols))try{const B=new URL(N);["http:","https:"].includes(B.protocol)||(M=!0)}catch{M=!0}M||d.push({text:N,range:D,activate:(B,F)=>y?y.activate(B,F,D):b(0,F),hover:(B,F)=>{var $;return($=y==null?void 0:y.hover)===null||$===void 0?void 0:$.call(y,B,F,D)},leave:(B,F)=>{var $;return($=y==null?void 0:y.leave)===null||$===void 0?void 0:$.call(y,B,F,D)}})}k=!1,S.hasExtendedAttrs()&&S.extended.urlId?(x=L,E=S.extended.urlId):(x=-1,E=-1)}}c(d)}};function b(g,c){if(confirm(`Do you want to navigate to ${c}?

WARNING: This link could potentially be dangerous`)){const h=window.open();if(h){try{h.opener=null}catch{}h.location.href=c}else console.warn("Opening link blocked as opener could not be cleared")}}n.OscLinkProvider=w=f([v(0,_.IBufferService),v(1,_.IOptionsService),v(2,_.IOscLinkService)],w)},6193:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0,n.RenderDebouncer=class{constructor(a,f){this._parentWindow=a,this._renderCallback=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,f,v){this._rowCount=v,a=a!==void 0?a:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;const f=a(844);class v extends f.Disposable{constructor(_){super(),this._parentWindow=_,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,f.toDisposable)(()=>{this.clearListener()}))}setListener(_){this._listener&&this.clearListener(),this._listener=_,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var _;this._outerListener&&((_=this._resolutionMediaMatchList)===null||_===void 0||_.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}n.ScreenDprMonitor=v},3236:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const f=a(3614),v=a(3656),m=a(6465),_=a(9042),w=a(3730),b=a(1680),g=a(3107),c=a(5744),h=a(2950),l=a(1296),d=a(428),y=a(4269),S=a(5114),C=a(8934),E=a(3230),x=a(9312),k=a(4725),L=a(6731),N=a(8055),D=a(8969),M=a(8460),B=a(844),F=a(6114),$=a(8437),W=a(2584),j=a(7399),P=a(5941),T=a(9074),A=a(2585),z=a(5435),Q=a(4567),X=typeof window<"u"?window.document:null;class G extends D.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(R={}){super(R),this.browser=F,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new B.MutableDisposable),this._onCursorMove=this.register(new M.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new M.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new M.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new M.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new M.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new M.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new M.EventEmitter),this._onBlur=this.register(new M.EventEmitter),this._onA11yCharEmitter=this.register(new M.EventEmitter),this._onA11yTabEmitter=this.register(new M.EventEmitter),this._onWillOpen=this.register(new M.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(m.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(A.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((I,U)=>this.refresh(I,U))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(I=>this._reportWindowsOptions(I))),this.register(this._inputHandler.onColor(I=>this._handleColorEvent(I))),this.register((0,M.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,M.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,M.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,M.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(I=>this._afterResize(I.cols,I.rows))),this.register((0,B.toDisposable)(()=>{var I,U;this._customKeyEventHandler=void 0,(U=(I=this.element)===null||I===void 0?void 0:I.parentNode)===null||U===void 0||U.removeChild(this.element)}))}_handleColorEvent(R){if(this._themeService)for(const I of R){let U,H="";switch(I.index){case 256:U="foreground",H="10";break;case 257:U="background",H="11";break;case 258:U="cursor",H="12";break;default:U="ansi",H="4;"+I.index}switch(I.type){case 0:const J=N.color.toColorRGB(U==="ansi"?this._themeService.colors.ansi[I.index]:this._themeService.colors[U]);this.coreService.triggerDataEvent(`${W.C0.ESC}]${H};${(0,P.toRgbString)(J)}${W.C1_ESCAPED.ST}`);break;case 1:if(U==="ansi")this._themeService.modifyColors(K=>K.ansi[I.index]=N.rgba.toColor(...I.color));else{const K=U;this._themeService.modifyColors(oe=>oe[K]=N.rgba.toColor(...I.color))}break;case 2:this._themeService.restoreColor(I.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(R){R?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Q.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(R){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(W.C0.ESC+"[I"),this.updateCursorStyle(R),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var R;return(R=this.textarea)===null||R===void 0?void 0:R.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(W.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const R=this.buffer.ybase+this.buffer.y,I=this.buffer.lines.get(R);if(!I)return;const U=Math.min(this.buffer.x,this.cols-1),H=this._renderService.dimensions.css.cell.height,J=I.getWidth(U),K=this._renderService.dimensions.css.cell.width*J,oe=this.buffer.y*this._renderService.dimensions.css.cell.height,Ee=U*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ee+"px",this.textarea.style.top=oe+"px",this.textarea.style.width=K+"px",this.textarea.style.height=H+"px",this.textarea.style.lineHeight=H+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",I=>{this.hasSelection()&&(0,f.copyHandler)(I,this._selectionService)}));const R=I=>(0,f.handlePasteEvent)(I,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",R)),this.register((0,v.addDisposableDomListener)(this.element,"paste",R)),F.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",I=>{I.button===2&&(0,f.rightClickHandler)(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",I=>{(0,f.rightClickHandler)(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),F.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",I=>{I.button===1&&(0,f.moveTextAreaUnderMouseCursor)(I,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",R=>this._keyUp(R),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",R=>this._keyDown(R),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",R=>this._keyPress(R),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",R=>this._compositionHelper.compositionupdate(R))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,v.addDisposableDomListener)(this.textarea,"input",R=>this._inputEvent(R),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(R){var I;if(!R)throw new Error("Terminal requires a parent element.");R.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=R.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),R.appendChild(this.element);const U=X.createDocumentFragment();this._viewportElement=X.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),U.appendChild(this._viewportElement),this._viewportScrollArea=X.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=X.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=X.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),U.appendChild(this.screenElement),this.textarea=X.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",_.promptLabel),F.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,(I=this._document.defaultView)!==null&&I!==void 0?I:window),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",H=>this._handleTextAreaFocus(H))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(d.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(L.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(H=>this._onRender.fire(H))),this.onResize(H=>this._renderService.resize(H.cols,H.rows)),this._compositionView=X.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(h.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(U);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(b.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(H=>this.scrollLines(H.amount,H.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(x.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(H=>this.scrollLines(H.amount,H.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(H=>this._renderService.handleSelectionChanged(H.start,H.end,H.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(H=>{this.textarea.value=H,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(H=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(g.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",H=>this._selectionService.handleMouseDown(H))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Q.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",H=>this._handleScreenReaderModeOptionChange(H))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",H=>{!this._overviewRulerRenderer&&H&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(l.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const R=this,I=this.element;function U(K){const oe=R._mouseService.getMouseReportCoords(K,R.screenElement);if(!oe)return!1;let Ee,Be;switch(K.overrideType||K.type){case"mousemove":Be=32,K.buttons===void 0?(Ee=3,K.button!==void 0&&(Ee=K.button<3?K.button:3)):Ee=1&K.buttons?0:4&K.buttons?1:2&K.buttons?2:3;break;case"mouseup":Be=0,Ee=K.button<3?K.button:3;break;case"mousedown":Be=1,Ee=K.button<3?K.button:3;break;case"wheel":if(R.viewport.getLinesScrolled(K)===0)return!1;Be=K.deltaY<0?0:1,Ee=4;break;default:return!1}return!(Be===void 0||Ee===void 0||Ee>4)&&R.coreMouseService.triggerMouseEvent({col:oe.col,row:oe.row,x:oe.x,y:oe.y,button:Ee,action:Be,ctrl:K.ctrlKey,alt:K.altKey,shift:K.shiftKey})}const H={mouseup:null,wheel:null,mousedrag:null,mousemove:null},J={mouseup:K=>(U(K),K.buttons||(this._document.removeEventListener("mouseup",H.mouseup),H.mousedrag&&this._document.removeEventListener("mousemove",H.mousedrag)),this.cancel(K)),wheel:K=>(U(K),this.cancel(K,!0)),mousedrag:K=>{K.buttons&&U(K)},mousemove:K=>{K.buttons||U(K)}};this.register(this.coreMouseService.onProtocolChange(K=>{K?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(K)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&K?H.mousemove||(I.addEventListener("mousemove",J.mousemove),H.mousemove=J.mousemove):(I.removeEventListener("mousemove",H.mousemove),H.mousemove=null),16&K?H.wheel||(I.addEventListener("wheel",J.wheel,{passive:!1}),H.wheel=J.wheel):(I.removeEventListener("wheel",H.wheel),H.wheel=null),2&K?H.mouseup||(I.addEventListener("mouseup",J.mouseup),H.mouseup=J.mouseup):(this._document.removeEventListener("mouseup",H.mouseup),I.removeEventListener("mouseup",H.mouseup),H.mouseup=null),4&K?H.mousedrag||(H.mousedrag=J.mousedrag):(this._document.removeEventListener("mousemove",H.mousedrag),H.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(I,"mousedown",K=>{if(K.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(K))return U(K),H.mouseup&&this._document.addEventListener("mouseup",H.mouseup),H.mousedrag&&this._document.addEventListener("mousemove",H.mousedrag),this.cancel(K)})),this.register((0,v.addDisposableDomListener)(I,"wheel",K=>{if(!H.wheel){if(!this.buffer.hasScrollback){const oe=this.viewport.getLinesScrolled(K);if(oe===0)return;const Ee=W.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(K.deltaY<0?"A":"B");let Be="";for(let wr=0;wr<Math.abs(oe);wr++)Be+=Ee;return this.coreService.triggerDataEvent(Be,!0),this.cancel(K,!0)}return this.viewport.handleWheel(K)?this.cancel(K):void 0}},{passive:!1})),this.register((0,v.addDisposableDomListener)(I,"touchstart",K=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(K),this.cancel(K)},{passive:!0})),this.register((0,v.addDisposableDomListener)(I,"touchmove",K=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(K)?void 0:this.cancel(K)},{passive:!1}))}refresh(R,I){var U;(U=this._renderService)===null||U===void 0||U.refreshRows(R,I)}updateCursorStyle(R){var I;!((I=this._selectionService)===null||I===void 0)&&I.shouldColumnSelect(R)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(R,I,U=0){var H;U===1?(super.scrollLines(R,I,U),this.refresh(0,this.rows-1)):(H=this.viewport)===null||H===void 0||H.scrollLines(R)}paste(R){(0,f.paste)(R,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(R){this._customKeyEventHandler=R}registerLinkProvider(R){return this.linkifier2.registerLinkProvider(R)}registerCharacterJoiner(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const I=this._characterJoinerService.register(R);return this.refresh(0,this.rows-1),I}deregisterCharacterJoiner(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(R)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(R){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+R)}registerDecoration(R){return this._decorationService.registerDecoration(R)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(R,I,U){this._selectionService.setSelection(R,I,U)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var R;(R=this._selectionService)===null||R===void 0||R.clearSelection()}selectAll(){var R;(R=this._selectionService)===null||R===void 0||R.selectAll()}selectLines(R,I){var U;(U=this._selectionService)===null||U===void 0||U.selectLines(R,I)}_keyDown(R){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;const I=this.browser.isMac&&this.options.macOptionIsMeta&&R.altKey;if(!I&&!this._compositionHelper.keydown(R))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;I||R.key!=="Dead"&&R.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const U=(0,j.evaluateKeyboardEvent)(R,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(R),U.type===3||U.type===2){const H=this.rows-1;return this.scrollLines(U.type===2?-H:H),this.cancel(R,!0)}return U.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,R)||(U.cancel&&this.cancel(R,!0),!U.key||!!(R.key&&!R.ctrlKey&&!R.altKey&&!R.metaKey&&R.key.length===1&&R.key.charCodeAt(0)>=65&&R.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(U.key!==W.C0.ETX&&U.key!==W.C0.CR||(this.textarea.value=""),this._onKey.fire({key:U.key,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(U.key,!0),!this.optionsService.rawOptions.screenReaderMode||R.altKey||R.ctrlKey?this.cancel(R,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(R,I){const U=R.isMac&&!this.options.macOptionIsMeta&&I.altKey&&!I.ctrlKey&&!I.metaKey||R.isWindows&&I.altKey&&I.ctrlKey&&!I.metaKey||R.isWindows&&I.getModifierState("AltGraph");return I.type==="keypress"?U:U&&(!I.keyCode||I.keyCode>47)}_keyUp(R){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1||(function(I){return I.keyCode===16||I.keyCode===17||I.keyCode===18}(R)||this.focus(),this.updateCursorStyle(R),this._keyPressHandled=!1)}_keyPress(R){let I;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(this.cancel(R),R.charCode)I=R.charCode;else if(R.which===null||R.which===void 0)I=R.keyCode;else{if(R.which===0||R.charCode===0)return!1;I=R.which}return!(!I||(R.altKey||R.ctrlKey||R.metaKey)&&!this._isThirdLevelShift(this.browser,R)||(I=String.fromCharCode(I),this._onKey.fire({key:I,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(I,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(R){if(R.data&&R.inputType==="insertText"&&(!R.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const I=R.data;return this.coreService.triggerDataEvent(I,!0),this.cancel(R),!0}return!1}resize(R,I){R!==this.cols||I!==this.rows?super.resize(R,I):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(R,I){var U,H;(U=this._charSizeService)===null||U===void 0||U.measure(),(H=this.viewport)===null||H===void 0||H.syncScrollArea(!0)}clear(){var R;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let I=1;I<this.rows;I++)this.buffer.lines.push(this.buffer.getBlankLine($.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(R=this.viewport)===null||R===void 0||R.reset(),this.refresh(0,this.rows-1)}}reset(){var R,I;this.options.rows=this.rows,this.options.cols=this.cols;const U=this._customKeyEventHandler;this._setup(),super.reset(),(R=this._selectionService)===null||R===void 0||R.reset(),this._decorationService.reset(),(I=this.viewport)===null||I===void 0||I.reset(),this._customKeyEventHandler=U,this.refresh(0,this.rows-1)}clearTextureAtlas(){var R;(R=this._renderService)===null||R===void 0||R.clearTextureAtlas()}_reportFocus(){var R;!((R=this.element)===null||R===void 0)&&R.classList.contains("focus")?this.coreService.triggerDataEvent(W.C0.ESC+"[I"):this.coreService.triggerDataEvent(W.C0.ESC+"[O")}_reportWindowsOptions(R){if(this._renderService)switch(R){case z.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const I=this._renderService.dimensions.css.canvas.width.toFixed(0),U=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${W.C0.ESC}[4;${U};${I}t`);break;case z.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const H=this._renderService.dimensions.css.cell.width.toFixed(0),J=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${W.C0.ESC}[6;${J};${H}t`)}}cancel(R,I){if(this.options.cancelEvents||I)return R.preventDefault(),R.stopPropagation(),!1}}n.Terminal=G},9924:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0,n.TimeBasedDebouncer=class{constructor(a,f=1e3){this._renderCallback=a,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,f,v){this._rowCount=v,a=a!==void 0?a:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const m=Date.now();if(m-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=m,this._innerRefresh();else if(!this._additionalRefreshRequested){const _=m-this._lastRefreshMs,w=this._debounceThresholdMS-_;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,f)}}},1680:function(p,n,a){var f=this&&this.__decorate||function(h,l,d,y){var S,C=arguments.length,E=C<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,l,d,y);else for(var x=h.length-1;x>=0;x--)(S=h[x])&&(E=(C<3?S(E):C>3?S(l,d,E):S(l,d))||E);return C>3&&E&&Object.defineProperty(l,d,E),E},v=this&&this.__param||function(h,l){return function(d,y){l(d,y,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;const m=a(3656),_=a(4725),w=a(8460),b=a(844),g=a(2585);let c=n.Viewport=class extends b.Disposable{constructor(h,l,d,y,S,C,E,x){super(),this._viewportElement=h,this._scrollArea=l,this._bufferService=d,this._optionsService=y,this._charSizeService=S,this._renderService=C,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(x.colors),this.register(x.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(h){this._viewportElement.style.backgroundColor=h.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(h){if(h)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const l=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==l&&(this._lastRecordedBufferHeight=l,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const h=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==h&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=h),this._refreshAnimationFrame=null}syncScrollArea(h=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(h);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(h)}_handleScroll(h){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const l=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:l,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const h=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(h*(this._smoothScrollState.target-this._smoothScrollState.origin)),h<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(h,l){const d=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(l<0&&this._viewportElement.scrollTop!==0||l>0&&d<this._lastRecordedBufferHeight)||(h.cancelable&&h.preventDefault(),!1)}handleWheel(h){const l=this._getPixelsScrolled(h);return l!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+l:this._smoothScrollState.target+=l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=l,this._bubbleScroll(h,l))}scrollLines(h){if(h!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const l=h*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:h,suppressScrollEvent:!1})}_getPixelsScrolled(h){if(h.deltaY===0||h.shiftKey)return 0;let l=this._applyScrollModifier(h.deltaY,h);return h.deltaMode===WheelEvent.DOM_DELTA_LINE?l*=this._currentRowHeight:h.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._currentRowHeight*this._bufferService.rows),l}getBufferElements(h,l){var d;let y,S="";const C=[],E=l??this._bufferService.buffer.lines.length,x=this._bufferService.buffer.lines;for(let k=h;k<E;k++){const L=x.get(k);if(!L)continue;const N=(d=x.get(k+1))===null||d===void 0?void 0:d.isWrapped;if(S+=L.translateToString(!N),!N||k===x.length-1){const D=document.createElement("div");D.textContent=S,C.push(D),S.length>0&&(y=D),S=""}}return{bufferElements:C,cursorElement:y}}getLinesScrolled(h){if(h.deltaY===0||h.shiftKey)return 0;let l=this._applyScrollModifier(h.deltaY,h);return h.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(l/=this._currentRowHeight+0,this._wheelPartialScroll+=l,l=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):h.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._bufferService.rows),l}_applyScrollModifier(h,l){const d=this._optionsService.rawOptions.fastScrollModifier;return d==="alt"&&l.altKey||d==="ctrl"&&l.ctrlKey||d==="shift"&&l.shiftKey?h*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:h*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(h){this._lastTouchY=h.touches[0].pageY}handleTouchMove(h){const l=this._lastTouchY-h.touches[0].pageY;return this._lastTouchY=h.touches[0].pageY,l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(h,l))}};n.Viewport=c=f([v(2,g.IBufferService),v(3,g.IOptionsService),v(4,_.ICharSizeService),v(5,_.IRenderService),v(6,_.ICoreBrowserService),v(7,_.IThemeService)],c)},3107:function(p,n,a){var f=this&&this.__decorate||function(c,h,l,d){var y,S=arguments.length,C=S<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,l):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,h,l,d);else for(var E=c.length-1;E>=0;E--)(y=c[E])&&(C=(S<3?y(C):S>3?y(h,l,C):y(h,l))||C);return S>3&&C&&Object.defineProperty(h,l,C),C},v=this&&this.__param||function(c,h){return function(l,d){h(l,d,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;const m=a(3656),_=a(4725),w=a(844),b=a(2585);let g=n.BufferDecorationRenderer=class extends w.Disposable{constructor(c,h,l,d){super(),this._screenElement=c,this._bufferService=h,this._decorationService=l,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,m.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,w.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const c of this._decorationService.decorations)this._renderDecoration(c);this._dimensionsChanged=!1}_renderDecoration(c){this._refreshStyle(c),this._dimensionsChanged&&this._refreshXPosition(c)}_createElement(c){var h,l;const d=document.createElement("div");d.classList.add("xterm-decoration"),d.classList.toggle("xterm-decoration-top-layer",((h=c==null?void 0:c.options)===null||h===void 0?void 0:h.layer)==="top"),d.style.width=`${Math.round((c.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,d.style.height=(c.options.height||1)*this._renderService.dimensions.css.cell.height+"px",d.style.top=(c.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",d.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=(l=c.options.x)!==null&&l!==void 0?l:0;return y&&y>this._bufferService.cols&&(d.style.display="none"),this._refreshXPosition(c,d),d}_refreshStyle(c){const h=c.marker.line-this._bufferService.buffers.active.ydisp;if(h<0||h>=this._bufferService.rows)c.element&&(c.element.style.display="none",c.onRenderEmitter.fire(c.element));else{let l=this._decorationElements.get(c);l||(l=this._createElement(c),c.element=l,this._decorationElements.set(c,l),this._container.appendChild(l),c.onDispose(()=>{this._decorationElements.delete(c),l.remove()})),l.style.top=h*this._renderService.dimensions.css.cell.height+"px",l.style.display=this._altBufferIsActive?"none":"block",c.onRenderEmitter.fire(l)}}_refreshXPosition(c,h=c.element){var l;if(!h)return;const d=(l=c.options.x)!==null&&l!==void 0?l:0;(c.options.anchor||"left")==="right"?h.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":h.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(c){var h;(h=this._decorationElements.get(c))===null||h===void 0||h.remove(),this._decorationElements.delete(c),c.dispose()}};n.BufferDecorationRenderer=g=f([v(1,b.IBufferService),v(2,b.IDecorationService),v(3,_.IRenderService)],g)},5871:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0,n.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const f of this._zones)if(f.color===a.options.overviewRulerOptions.color&&f.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,a.marker.line))return;if(this._lineAdjacentToZone(f,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(f,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,f){return f>=a.startBufferLine&&f<=a.endBufferLine}_lineAdjacentToZone(a,f,v){return f>=a.startBufferLine-this._linePadding[v||"full"]&&f<=a.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(a,f){a.startBufferLine=Math.min(a.startBufferLine,f),a.endBufferLine=Math.max(a.endBufferLine,f)}}},5744:function(p,n,a){var f=this&&this.__decorate||function(y,S,C,E){var x,k=arguments.length,L=k<3?S:E===null?E=Object.getOwnPropertyDescriptor(S,C):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(y,S,C,E);else for(var N=y.length-1;N>=0;N--)(x=y[N])&&(L=(k<3?x(L):k>3?x(S,C,L):x(S,C))||L);return k>3&&L&&Object.defineProperty(S,C,L),L},v=this&&this.__param||function(y,S){return function(C,E){S(C,E,y)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;const m=a(5871),_=a(3656),w=a(4725),b=a(844),g=a(2585),c={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0};let d=n.OverviewRulerRenderer=class extends b.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(y,S,C,E,x,k,L){var N;super(),this._viewportElement=y,this._screenElement=S,this._bufferService=C,this._decorationService=E,this._renderService=x,this._optionsService=k,this._coreBrowseService=L,this._colorZoneStore=new m.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(N=this._viewportElement.parentElement)===null||N===void 0||N.insertBefore(this._canvas,this._viewportElement);const D=this._canvas.getContext("2d");if(!D)throw new Error("Ctx cannot be null");this._ctx=D,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,b.toDisposable)(()=>{var M;(M=this._canvas)===null||M===void 0||M.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,_.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const y=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);h.full=this._canvas.width,h.left=y,h.center=S,h.right=y,this._refreshDrawHeightConstants(),l.full=0,l.left=0,l.center=h.left,l.right=h.left+h.center}_refreshDrawHeightConstants(){c.full=Math.round(2*this._coreBrowseService.dpr);const y=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(y,12),6)*this._coreBrowseService.dpr);c.left=S,c.center=S,c.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const y=this._colorZoneStore.zones;for(const S of y)S.position!=="full"&&this._renderColorZone(S);for(const S of y)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(y){this._ctx.fillStyle=y.color,this._ctx.fillRect(l[y.position||"full"],Math.round((this._canvas.height-1)*(y.startBufferLine/this._bufferService.buffers.active.lines.length)-c[y.position||"full"]/2),h[y.position||"full"],Math.round((this._canvas.height-1)*((y.endBufferLine-y.startBufferLine)/this._bufferService.buffers.active.lines.length)+c[y.position||"full"]))}_queueRefresh(y,S){this._shouldUpdateDimensions=y||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};n.OverviewRulerRenderer=d=f([v(2,g.IBufferService),v(3,g.IDecorationService),v(4,w.IRenderService),v(5,g.IOptionsService),v(6,w.ICoreBrowserService)],d)},2950:function(p,n,a){var f=this&&this.__decorate||function(g,c,h,l){var d,y=arguments.length,S=y<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,h):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(g,c,h,l);else for(var C=g.length-1;C>=0;C--)(d=g[C])&&(S=(y<3?d(S):y>3?d(c,h,S):d(c,h))||S);return y>3&&S&&Object.defineProperty(c,h,S),S},v=this&&this.__param||function(g,c){return function(h,l){c(h,l,g)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;const m=a(4725),_=a(2585),w=a(2584);let b=n.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(g,c,h,l,d,y){this._textarea=g,this._compositionView=c,this._bufferService=h,this._optionsService=l,this._coreService=d,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(g){this._compositionView.textContent=g.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(g){if(this._isComposing||this._isSendingComposition){if(g.keyCode===229||g.keyCode===16||g.keyCode===17||g.keyCode===18)return!1;this._finalizeComposition(!1)}return g.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(g){if(this._compositionView.classList.remove("active"),this._isComposing=!1,g){const c={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let h;this._isSendingComposition=!1,c.start+=this._dataAlreadySent.length,h=this._isComposing?this._textarea.value.substring(c.start,c.end):this._textarea.value.substring(c.start),h.length>0&&this._coreService.triggerDataEvent(h,!0)}},0)}else{this._isSendingComposition=!1;const c=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(c,!0)}}_handleAnyTextareaChanges(){const g=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const c=this._textarea.value,h=c.replace(g,"");this._dataAlreadySent=h,c.length>g.length?this._coreService.triggerDataEvent(h,!0):c.length<g.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):c.length===g.length&&c!==g&&this._coreService.triggerDataEvent(c,!0)}},0)}updateCompositionElements(g){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),h=this._renderService.dimensions.css.cell.height,l=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=c*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=l+"px",this._compositionView.style.height=h+"px",this._compositionView.style.lineHeight=h+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=l+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}g||setTimeout(()=>this.updateCompositionElements(!0),0)}}};n.CompositionHelper=b=f([v(2,_.IBufferService),v(3,_.IOptionsService),v(4,_.ICoreService),v(5,m.IRenderService)],b)},9806:(p,n)=>{function a(f,v,m){const _=m.getBoundingClientRect(),w=f.getComputedStyle(m),b=parseInt(w.getPropertyValue("padding-left")),g=parseInt(w.getPropertyValue("padding-top"));return[v.clientX-_.left-b,v.clientY-_.top-g]}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=a,n.getCoords=function(f,v,m,_,w,b,g,c,h){if(!b)return;const l=a(f,v,m);return l?(l[0]=Math.ceil((l[0]+(h?g/2:0))/g),l[1]=Math.ceil(l[1]/c),l[0]=Math.min(Math.max(l[0],1),_+(h?1:0)),l[1]=Math.min(Math.max(l[1],1),w),l):void 0}},9504:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;const f=a(2584);function v(c,h,l,d){const y=c-m(c,l),S=h-m(h,l),C=Math.abs(y-S)-function(E,x,k){let L=0;const N=E-m(E,k),D=x-m(x,k);for(let M=0;M<Math.abs(N-D);M++){const B=_(E,x)==="A"?-1:1,F=k.buffer.lines.get(N+B*M);F!=null&&F.isWrapped&&L++}return L}(c,h,l);return g(C,b(_(c,h),d))}function m(c,h){let l=0,d=h.buffer.lines.get(c),y=d==null?void 0:d.isWrapped;for(;y&&c>=0&&c<h.rows;)l++,d=h.buffer.lines.get(--c),y=d==null?void 0:d.isWrapped;return l}function _(c,h){return c>h?"A":"B"}function w(c,h,l,d,y,S){let C=c,E=h,x="";for(;C!==l||E!==d;)C+=y?1:-1,y&&C>S.cols-1?(x+=S.buffer.translateBufferLineToString(E,!1,c,C),C=0,c=0,E++):!y&&C<0&&(x+=S.buffer.translateBufferLineToString(E,!1,0,c+1),C=S.cols-1,c=C,E--);return x+S.buffer.translateBufferLineToString(E,!1,c,C)}function b(c,h){const l=h?"O":"[";return f.C0.ESC+l+c}function g(c,h){c=Math.floor(c);let l="";for(let d=0;d<c;d++)l+=h;return l}n.moveToCellSequence=function(c,h,l,d){const y=l.buffer.x,S=l.buffer.y;if(!l.buffer.hasScrollback)return function(x,k,L,N,D,M){return v(k,N,D,M).length===0?"":g(w(x,k,x,k-m(k,D),!1,D).length,b("D",M))}(y,S,0,h,l,d)+v(S,h,l,d)+function(x,k,L,N,D,M){let B;B=v(k,N,D,M).length>0?N-m(N,D):k;const F=N,$=function(W,j,P,T,A,z){let Q;return Q=v(P,T,A,z).length>0?T-m(T,A):j,W<P&&Q<=T||W>=P&&Q<T?"C":"D"}(x,k,L,N,D,M);return g(w(x,B,L,F,$==="C",D).length,b($,M))}(y,S,c,h,l,d);let C;if(S===h)return C=y>c?"D":"C",g(Math.abs(y-c),b(C,d));C=S>h?"D":"C";const E=Math.abs(S-h);return g(function(x,k){return k.cols-x}(S>h?c:y,l)+(E-1)*l.cols+1+((S>h?y:c)-1),b(C,d))}},1296:function(p,n,a){var f=this&&this.__decorate||function(D,M,B,F){var $,W=arguments.length,j=W<3?M:F===null?F=Object.getOwnPropertyDescriptor(M,B):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(D,M,B,F);else for(var P=D.length-1;P>=0;P--)($=D[P])&&(j=(W<3?$(j):W>3?$(M,B,j):$(M,B))||j);return W>3&&j&&Object.defineProperty(M,B,j),j},v=this&&this.__param||function(D,M){return function(B,F){M(B,F,D)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;const m=a(3787),_=a(2550),w=a(2223),b=a(6171),g=a(4725),c=a(8055),h=a(8460),l=a(844),d=a(2585),y="xterm-dom-renderer-owner-",S="xterm-rows",C="xterm-fg-",E="xterm-bg-",x="xterm-focus",k="xterm-selection";let L=1,N=n.DomRenderer=class extends l.Disposable{constructor(D,M,B,F,$,W,j,P,T,A){super(),this._element=D,this._screenElement=M,this._viewportElement=B,this._linkifier2=F,this._charSizeService=W,this._optionsService=j,this._bufferService=P,this._coreBrowserService=T,this._themeService=A,this._terminalClass=L++,this._rowElements=[],this.onRequestRedraw=this.register(new h.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(k),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,b.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(z=>this._injectCss(z))),this._injectCss(this._themeService.colors),this._rowFactory=$.createInstance(m.DomRendererRowFactory,document),this._element.classList.add(y+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(z=>this._handleLinkHover(z))),this.register(this._linkifier2.onHideLinkUnderline(z=>this._handleLinkLeave(z))),this.register((0,l.toDisposable)(()=>{this._element.classList.remove(y+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new _.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const D=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*D,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*D),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/D),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/D),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const B of this._rowElements)B.style.width=`${this.dimensions.css.canvas.width}px`,B.style.height=`${this.dimensions.css.cell.height}px`,B.style.lineHeight=`${this.dimensions.css.cell.height}px`,B.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const M=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=M,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(D){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let M=`${this._terminalSelector} .${S} { color: ${D.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;M+=`${this._terminalSelector} .${S} .xterm-dim { color: ${c.color.multiplyOpacity(D.foreground,.5).css};}`,M+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,M+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",M+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${D.cursor.css};  color: ${D.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${D.cursor.css}; }}`,M+=`${this._terminalSelector} .${S}.${x} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${D.cursor.css}; color: ${D.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${D.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${D.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${D.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,M+=`${this._terminalSelector} .${k} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${k} div { position: absolute; background-color: ${D.selectionBackgroundOpaque.css};}${this._terminalSelector} .${k} div { position: absolute; background-color: ${D.selectionInactiveBackgroundOpaque.css};}`;for(const[B,F]of D.ansi.entries())M+=`${this._terminalSelector} .${C}${B} { color: ${F.css}; }${this._terminalSelector} .${C}${B}.xterm-dim { color: ${c.color.multiplyOpacity(F,.5).css}; }${this._terminalSelector} .${E}${B} { background-color: ${F.css}; }`;M+=`${this._terminalSelector} .${C}${w.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(D.background).css}; }${this._terminalSelector} .${C}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${c.color.multiplyOpacity(c.color.opaque(D.background),.5).css}; }${this._terminalSelector} .${E}${w.INVERTED_DEFAULT_COLOR} { background-color: ${D.foreground.css}; }`,this._themeStyleElement.textContent=M}_setDefaultSpacing(){const D=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${D}px`,this._rowFactory.defaultSpacing=D}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(D,M){for(let B=this._rowElements.length;B<=M;B++){const F=document.createElement("div");this._rowContainer.appendChild(F),this._rowElements.push(F)}for(;this._rowElements.length>M;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(D,M){this._refreshRowElements(D,M),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(x)}handleFocus(){this._rowContainer.classList.add(x),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(D,M,B){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(D,M,B),this.renderRows(0,this._bufferService.rows-1),!D||!M)return;const F=D[1]-this._bufferService.buffer.ydisp,$=M[1]-this._bufferService.buffer.ydisp,W=Math.max(F,0),j=Math.min($,this._bufferService.rows-1);if(W>=this._bufferService.rows||j<0)return;const P=document.createDocumentFragment();if(B){const T=D[0]>M[0];P.appendChild(this._createSelectionElement(W,T?M[0]:D[0],T?D[0]:M[0],j-W+1))}else{const T=F===W?D[0]:0,A=W===$?M[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(W,T,A));const z=j-W-1;if(P.appendChild(this._createSelectionElement(W+1,0,this._bufferService.cols,z)),W!==j){const Q=$===j?M[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(j,0,Q))}}this._selectionContainer.appendChild(P)}_createSelectionElement(D,M,B,F=1){const $=document.createElement("div");return $.style.height=F*this.dimensions.css.cell.height+"px",$.style.top=D*this.dimensions.css.cell.height+"px",$.style.left=M*this.dimensions.css.cell.width+"px",$.style.width=this.dimensions.css.cell.width*(B-M)+"px",$}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const D of this._rowElements)D.replaceChildren()}renderRows(D,M){const B=this._bufferService.buffer,F=B.ybase+B.y,$=Math.min(B.x,this._bufferService.cols-1),W=this._optionsService.rawOptions.cursorBlink,j=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let T=D;T<=M;T++){const A=T+B.ydisp,z=this._rowElements[T],Q=B.lines.get(A);if(!z||!Q)break;z.replaceChildren(...this._rowFactory.createRow(Q,A,A===F,j,P,$,W,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${y}${this._terminalClass}`}_handleLinkHover(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!0)}_handleLinkLeave(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!1)}_setCellUnderline(D,M,B,F,$,W){B<0&&(D=0),F<0&&(M=0);const j=this._bufferService.rows-1;B=Math.max(Math.min(B,j),0),F=Math.max(Math.min(F,j),0),$=Math.min($,this._bufferService.cols);const P=this._bufferService.buffer,T=P.ybase+P.y,A=Math.min(P.x,$-1),z=this._optionsService.rawOptions.cursorBlink,Q=this._optionsService.rawOptions.cursorStyle,X=this._optionsService.rawOptions.cursorInactiveStyle;for(let G=B;G<=F;++G){const ie=G+P.ydisp,R=this._rowElements[G],I=P.lines.get(ie);if(!R||!I)break;R.replaceChildren(...this._rowFactory.createRow(I,ie,ie===T,Q,X,A,z,this.dimensions.css.cell.width,this._widthCache,W?G===B?D:0:-1,W?(G===F?M:$)-1:-1))}}};n.DomRenderer=N=f([v(4,d.IInstantiationService),v(5,g.ICharSizeService),v(6,d.IOptionsService),v(7,d.IBufferService),v(8,g.ICoreBrowserService),v(9,g.IThemeService)],N)},3787:function(p,n,a){var f=this&&this.__decorate||function(C,E,x,k){var L,N=arguments.length,D=N<3?E:k===null?k=Object.getOwnPropertyDescriptor(E,x):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,E,x,k);else for(var M=C.length-1;M>=0;M--)(L=C[M])&&(D=(N<3?L(D):N>3?L(E,x,D):L(E,x))||D);return N>3&&D&&Object.defineProperty(E,x,D),D},v=this&&this.__param||function(C,E){return function(x,k){E(x,k,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=void 0;const m=a(2223),_=a(643),w=a(511),b=a(2585),g=a(8055),c=a(4725),h=a(4269),l=a(6171),d=a(3734);let y=n.DomRendererRowFactory=class{constructor(C,E,x,k,L,N,D){this._document=C,this._characterJoinerService=E,this._optionsService=x,this._coreBrowserService=k,this._coreService=L,this._decorationService=N,this._themeService=D,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,E,x){this._selectionStart=C,this._selectionEnd=E,this._columnSelectMode=x}createRow(C,E,x,k,L,N,D,M,B,F,$){const W=[],j=this._characterJoinerService.getJoinedCharacters(E),P=this._themeService.colors;let T,A=C.getNoBgTrimmedLength();x&&A<N+1&&(A=N+1);let z=0,Q="",X=0,G=0,ie=0,R=!1,I=0,U=!1,H=0;const J=[],K=F!==-1&&$!==-1;for(let oe=0;oe<A;oe++){C.loadCell(oe,this._workCell);let Ee=this._workCell.getWidth();if(Ee===0)continue;let Be=!1,wr=oe,ee=this._workCell;if(j.length>0&&oe===j[0][0]){Be=!0;const fe=j.shift();ee=new h.JoinedCellData(this._workCell,C.translateToString(!0,fe[0],fe[1]),fe[1]-fe[0]),wr=fe[1]-1,Ee=ee.getWidth()}const ns=this._isCellInSelection(oe,E),zn=x&&oe===N,Un=K&&oe>=F&&oe<=$;let Wn=!1;this._decorationService.forEachDecorationAtCell(oe,E,void 0,fe=>{Wn=!0});let ai=ee.getChars()||_.WHITESPACE_CELL_CHAR;if(ai===" "&&(ee.isUnderline()||ee.isOverline())&&(ai=""),H=Ee*M-B.get(ai,ee.isBold(),ee.isItalic()),T){if(z&&(ns&&U||!ns&&!U&&ee.bg===X)&&(ns&&U&&P.selectionForeground||ee.fg===G)&&ee.extended.ext===ie&&Un===R&&H===I&&!zn&&!Be&&!Wn){Q+=ai,z++;continue}z&&(T.textContent=Q),T=this._document.createElement("span"),z=0,Q=""}else T=this._document.createElement("span");if(X=ee.bg,G=ee.fg,ie=ee.extended.ext,R=Un,I=H,U=ns,Be&&N>=oe&&N<=wr&&(N=oe),!this._coreService.isCursorHidden&&zn){if(J.push("xterm-cursor"),this._coreBrowserService.isFocused)D&&J.push("xterm-cursor-blink"),J.push(k==="bar"?"xterm-cursor-bar":k==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(L)switch(L){case"outline":J.push("xterm-cursor-outline");break;case"block":J.push("xterm-cursor-block");break;case"bar":J.push("xterm-cursor-bar");break;case"underline":J.push("xterm-cursor-underline")}}if(ee.isBold()&&J.push("xterm-bold"),ee.isItalic()&&J.push("xterm-italic"),ee.isDim()&&J.push("xterm-dim"),Q=ee.isInvisible()?_.WHITESPACE_CELL_CHAR:ee.getChars()||_.WHITESPACE_CELL_CHAR,ee.isUnderline()&&(J.push(`xterm-underline-${ee.extended.underlineStyle}`),Q===" "&&(Q=""),!ee.isUnderlineColorDefault()))if(ee.isUnderlineColorRGB())T.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(ee.getUnderlineColor()).join(",")})`;else{let fe=ee.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ee.isBold()&&fe<8&&(fe+=8),T.style.textDecorationColor=P.ansi[fe].css}ee.isOverline()&&(J.push("xterm-overline"),Q===" "&&(Q="")),ee.isStrikethrough()&&J.push("xterm-strikethrough"),Un&&(T.style.textDecoration="underline");let Xe=ee.getFgColor(),os=ee.getFgColorMode(),dt=ee.getBgColor(),as=ee.getBgColorMode();const $n=!!ee.isInverse();if($n){const fe=Xe;Xe=dt,dt=fe;const Gf=os;os=as,as=Gf}let Dt,qn,Pt,ls=!1;switch(this._decorationService.forEachDecorationAtCell(oe,E,void 0,fe=>{fe.options.layer!=="top"&&ls||(fe.backgroundColorRGB&&(as=50331648,dt=fe.backgroundColorRGB.rgba>>8&16777215,Dt=fe.backgroundColorRGB),fe.foregroundColorRGB&&(os=50331648,Xe=fe.foregroundColorRGB.rgba>>8&16777215,qn=fe.foregroundColorRGB),ls=fe.options.layer==="top")}),!ls&&ns&&(Dt=this._coreBrowserService.isFocused?P.selectionBackgroundOpaque:P.selectionInactiveBackgroundOpaque,dt=Dt.rgba>>8&16777215,as=50331648,ls=!0,P.selectionForeground&&(os=50331648,Xe=P.selectionForeground.rgba>>8&16777215,qn=P.selectionForeground)),ls&&J.push("xterm-decoration-top"),as){case 16777216:case 33554432:Pt=P.ansi[dt],J.push(`xterm-bg-${dt}`);break;case 50331648:Pt=g.rgba.toColor(dt>>16,dt>>8&255,255&dt),this._addStyle(T,`background-color:#${S((dt>>>0).toString(16),"0",6)}`);break;default:$n?(Pt=P.foreground,J.push(`xterm-bg-${m.INVERTED_DEFAULT_COLOR}`)):Pt=P.background}switch(Dt||ee.isDim()&&(Dt=g.color.multiplyOpacity(Pt,.5)),os){case 16777216:case 33554432:ee.isBold()&&Xe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Xe+=8),this._applyMinimumContrast(T,Pt,P.ansi[Xe],ee,Dt,void 0)||J.push(`xterm-fg-${Xe}`);break;case 50331648:const fe=g.rgba.toColor(Xe>>16&255,Xe>>8&255,255&Xe);this._applyMinimumContrast(T,Pt,fe,ee,Dt,qn)||this._addStyle(T,`color:#${S(Xe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(T,Pt,P.foreground,ee,Dt,void 0)||$n&&J.push(`xterm-fg-${m.INVERTED_DEFAULT_COLOR}`)}J.length&&(T.className=J.join(" "),J.length=0),zn||Be||Wn?T.textContent=Q:z++,H!==this.defaultSpacing&&(T.style.letterSpacing=`${H}px`),W.push(T),oe=wr}return T&&z&&(T.textContent=Q),W}_applyMinimumContrast(C,E,x,k,L,N){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,l.excludeFromContrastRatioDemands)(k.getCode()))return!1;const D=this._getContrastCache(k);let M;if(L||N||(M=D.getColor(E.rgba,x.rgba)),M===void 0){const B=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);M=g.color.ensureContrastRatio(L||E,N||x,B),D.setColor((L||E).rgba,(N||x).rgba,M??null)}return!!M&&(this._addStyle(C,`color:${M.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,E){C.setAttribute("style",`${C.getAttribute("style")||""}${E};`)}_isCellInSelection(C,E){const x=this._selectionStart,k=this._selectionEnd;return!(!x||!k)&&(this._columnSelectMode?x[0]<=k[0]?C>=x[0]&&E>=x[1]&&C<k[0]&&E<=k[1]:C<x[0]&&E>=x[1]&&C>=k[0]&&E<=k[1]:E>x[1]&&E<k[1]||x[1]===k[1]&&E===x[1]&&C>=x[0]&&C<k[0]||x[1]<k[1]&&E===k[1]&&C<k[0]||x[1]<k[1]&&E===x[1]&&C>=x[0])}};function S(C,E,x){for(;C.length<x;)C=E+C;return C}n.DomRendererRowFactory=y=f([v(1,c.ICharacterJoinerService),v(2,b.IOptionsService),v(3,c.ICoreBrowserService),v(4,b.ICoreService),v(5,b.IDecorationService),v(6,c.IThemeService)],y)},2550:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WidthCache=void 0,n.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const f=a.createElement("span"),v=a.createElement("span");v.style.fontWeight="bold";const m=a.createElement("span");m.style.fontStyle="italic";const _=a.createElement("span");_.style.fontWeight="bold",_.style.fontStyle="italic",this._measureElements=[f,v,m,_],this._container.appendChild(f),this._container.appendChild(v),this._container.appendChild(m),this._container.appendChild(_),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,f,v,m){a===this._font&&f===this._fontSize&&v===this._weight&&m===this._weightBold||(this._font=a,this._fontSize=f,this._weight=v,this._weightBold=m,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${m}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${m}`,this.clear())}get(a,f,v){let m=0;if(!f&&!v&&a.length===1&&(m=a.charCodeAt(0))<256)return this._flat[m]!==-9999?this._flat[m]:this._flat[m]=this._measure(a,0);let _=a;f&&(_+="B"),v&&(_+="I");let w=this._holey.get(_);if(w===void 0){let b=0;f&&(b|=1),v&&(b|=2),w=this._measure(a,b),this._holey.set(_,w)}return w}_measure(a,f){const v=this._measureElements[f];return v.textContent=a.repeat(32),v.offsetWidth/32}}},2223:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;const f=a(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(p,n)=>{function a(f){return 57508<=f&&f<=57558}Object.defineProperty(n,"__esModule",{value:!0}),n.createRenderDimensions=n.excludeFromContrastRatioDemands=n.isRestrictedPowerlineGlyph=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(f){if(!f)throw new Error("value must not be falsy");return f},n.isPowerlineGlyph=a,n.isRestrictedPowerlineGlyph=function(f){return 57520<=f&&f<=57527},n.excludeFromContrastRatioDemands=function(f){return a(f)||function(v){return 9472<=v&&v<=9631}(f)},n.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0,n.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,f=this.selectionEnd;return!(!a||!f)&&(a[1]>f[1]||a[1]===f[1]&&a[0]>f[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(p,n,a){var f=this&&this.__decorate||function(c,h,l,d){var y,S=arguments.length,C=S<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,l):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,h,l,d);else for(var E=c.length-1;E>=0;E--)(y=c[E])&&(C=(S<3?y(C):S>3?y(h,l,C):y(h,l))||C);return S>3&&C&&Object.defineProperty(h,l,C),C},v=this&&this.__param||function(c,h){return function(l,d){h(l,d,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;const m=a(2585),_=a(8460),w=a(844);let b=n.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(c,h,l){super(),this._optionsService=l,this.width=0,this.height=0,this._onCharSizeChange=this.register(new _.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new g(c,h,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const c=this._measureStrategy.measure();c.width===this.width&&c.height===this.height||(this.width=c.width,this.height=c.height,this._onCharSizeChange.fire())}};n.CharSizeService=b=f([v(2,m.IOptionsService)],b);class g{constructor(h,l,d){this._document=h,this._parentElement=l,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const h={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return h.width!==0&&h.height!==0&&(this._result.width=h.width/32,this._result.height=Math.ceil(h.height)),this._result}}},4269:function(p,n,a){var f=this&&this.__decorate||function(h,l,d,y){var S,C=arguments.length,E=C<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,l,d,y);else for(var x=h.length-1;x>=0;x--)(S=h[x])&&(E=(C<3?S(E):C>3?S(l,d,E):S(l,d))||E);return C>3&&E&&Object.defineProperty(l,d,E),E},v=this&&this.__param||function(h,l){return function(d,y){l(d,y,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;const m=a(3734),_=a(643),w=a(511),b=a(2585);class g extends m.AttributeData{constructor(l,d,y){super(),this.content=0,this.combinedData="",this.fg=l.fg,this.bg=l.bg,this.combinedData=d,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(l){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.JoinedCellData=g;let c=n.CharacterJoinerService=class Kf{constructor(l){this._bufferService=l,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(l){const d={id:this._nextCharacterJoinerId++,handler:l};return this._characterJoiners.push(d),d.id}deregister(l){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===l)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(l){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(l);if(!d||d.length===0)return[];const y=[],S=d.translateToString(!0);let C=0,E=0,x=0,k=d.getFg(0),L=d.getBg(0);for(let N=0;N<d.getTrimmedLength();N++)if(d.loadCell(N,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==L){if(N-C>1){const D=this._getJoinedRanges(S,x,E,d,C);for(let M=0;M<D.length;M++)y.push(D[M])}C=N,x=E,k=this._workCell.fg,L=this._workCell.bg}E+=this._workCell.getChars().length||_.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const N=this._getJoinedRanges(S,x,E,d,C);for(let D=0;D<N.length;D++)y.push(N[D])}return y}_getJoinedRanges(l,d,y,S,C){const E=l.substring(d,y);let x=[];try{x=this._characterJoiners[0].handler(E)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const L=this._characterJoiners[k].handler(E);for(let N=0;N<L.length;N++)Kf._mergeRanges(x,L[N])}catch(L){console.error(L)}return this._stringRangesToCellRanges(x,S,C),x}_stringRangesToCellRanges(l,d,y){let S=0,C=!1,E=0,x=l[S];if(x){for(let k=y;k<this._bufferService.cols;k++){const L=d.getWidth(k),N=d.getString(k).length||_.WHITESPACE_CELL_CHAR.length;if(L!==0){if(!C&&x[0]<=E&&(x[0]=k,C=!0),x[1]<=E){if(x[1]=k,x=l[++S],!x)break;x[0]<=E?(x[0]=k,C=!0):C=!1}E+=N}}x&&(x[1]=this._bufferService.cols)}}static _mergeRanges(l,d){let y=!1;for(let S=0;S<l.length;S++){const C=l[S];if(y){if(d[1]<=C[0])return l[S-1][1]=d[1],l;if(d[1]<=C[1])return l[S-1][1]=Math.max(d[1],C[1]),l.splice(S,1),l;l.splice(S,1),S--}else{if(d[1]<=C[0])return l.splice(S,0,d),l;if(d[1]<=C[1])return C[0]=Math.min(d[0],C[0]),l;d[0]<C[1]&&(C[0]=Math.min(d[0],C[0]),y=!0)}}return y?l[l.length-1][1]=d[1]:l.push(d),l}};n.CharacterJoinerService=c=f([v(0,b.IBufferService)],c)},5114:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0,n.CoreBrowserService=class{constructor(a,f){this._textarea=a,this.window=f,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(p,n,a){var f=this&&this.__decorate||function(b,g,c,h){var l,d=arguments.length,y=d<3?g:h===null?h=Object.getOwnPropertyDescriptor(g,c):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(b,g,c,h);else for(var S=b.length-1;S>=0;S--)(l=b[S])&&(y=(d<3?l(y):d>3?l(g,c,y):l(g,c))||y);return d>3&&y&&Object.defineProperty(g,c,y),y},v=this&&this.__param||function(b,g){return function(c,h){g(c,h,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;const m=a(4725),_=a(9806);let w=n.MouseService=class{constructor(b,g){this._renderService=b,this._charSizeService=g}getCoords(b,g,c,h,l){return(0,_.getCoords)(window,b,g,c,h,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,l)}getMouseReportCoords(b,g){const c=(0,_.getCoordsRelativeToElement)(window,b,g);if(this._charSizeService.hasValidSize)return c[0]=Math.min(Math.max(c[0],0),this._renderService.dimensions.css.canvas.width-1),c[1]=Math.min(Math.max(c[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(c[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(c[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(c[0]),y:Math.floor(c[1])}}};n.MouseService=w=f([v(0,m.IRenderService),v(1,m.ICharSizeService)],w)},3230:function(p,n,a){var f=this&&this.__decorate||function(y,S,C,E){var x,k=arguments.length,L=k<3?S:E===null?E=Object.getOwnPropertyDescriptor(S,C):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(y,S,C,E);else for(var N=y.length-1;N>=0;N--)(x=y[N])&&(L=(k<3?x(L):k>3?x(S,C,L):x(S,C))||L);return k>3&&L&&Object.defineProperty(S,C,L),L},v=this&&this.__param||function(y,S){return function(C,E){S(C,E,y)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;const m=a(3656),_=a(6193),w=a(5596),b=a(4725),g=a(8460),c=a(844),h=a(7226),l=a(2585);let d=n.RenderService=class extends c.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,S,C,E,x,k,L,N){if(super(),this._rowCount=y,this._charSizeService=E,this._renderer=this.register(new c.MutableDisposable),this._pausedResizeTask=new h.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new g.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new g.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new g.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new g.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new _.RenderDebouncer(L.window,(D,M)=>this._renderRows(D,M)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(L.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var D;return(D=this._renderer.value)===null||D===void 0?void 0:D.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(x.onDecorationRegistered(()=>this._fullRefresh())),this.register(x.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,m.addDisposableDomListener)(L.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(N.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in L.window){const D=new L.window.IntersectionObserver(M=>this._handleIntersectionChange(M[M.length-1]),{threshold:0});D.observe(S),this.register({dispose:()=>D.disconnect()})}}_handleIntersectionChange(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,S,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,S,this._rowCount))}_renderRows(y,S){this._renderer.value&&(y=Math.min(y,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(y,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:S}),this._onRender.fire({start:y,end:S}),this._isNextRenderRedrawOnly=!0)}resize(y,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value.onRequestRedraw(S=>this.refreshRows(S.start,S.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var y,S;this._renderer.value&&((S=(y=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(y),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(y,S)):this._renderer.value.handleResize(y,S),this._fullRefresh())}handleCharSizeChanged(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCharSizeChanged()}handleBlur(){var y;(y=this._renderer.value)===null||y===void 0||y.handleBlur()}handleFocus(){var y;(y=this._renderer.value)===null||y===void 0||y.handleFocus()}handleSelectionChanged(y,S,C){var E;this._selectionState.start=y,this._selectionState.end=S,this._selectionState.columnSelectMode=C,(E=this._renderer.value)===null||E===void 0||E.handleSelectionChanged(y,S,C)}handleCursorMove(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCursorMove()}clear(){var y;(y=this._renderer.value)===null||y===void 0||y.clear()}};n.RenderService=d=f([v(2,l.IOptionsService),v(3,b.ICharSizeService),v(4,l.IDecorationService),v(5,l.IBufferService),v(6,b.ICoreBrowserService),v(7,b.IThemeService)],d)},9312:function(p,n,a){var f=this&&this.__decorate||function(x,k,L,N){var D,M=arguments.length,B=M<3?k:N===null?N=Object.getOwnPropertyDescriptor(k,L):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(x,k,L,N);else for(var F=x.length-1;F>=0;F--)(D=x[F])&&(B=(M<3?D(B):M>3?D(k,L,B):D(k,L))||B);return M>3&&B&&Object.defineProperty(k,L,B),B},v=this&&this.__param||function(x,k){return function(L,N){k(L,N,x)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;const m=a(9806),_=a(9504),w=a(456),b=a(4725),g=a(8460),c=a(844),h=a(6114),l=a(4841),d=a(511),y=a(2585),S="",C=new RegExp(S,"g");let E=n.SelectionService=class extends c.Disposable{constructor(x,k,L,N,D,M,B,F,$){super(),this._element=x,this._screenElement=k,this._linkifier=L,this._bufferService=N,this._coreService=D,this._mouseService=M,this._optionsService=B,this._renderService=F,this._coreBrowserService=$,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new d.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new g.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new g.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new g.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=W=>this._handleMouseMove(W),this._mouseUpListener=W=>this._handleMouseUp(W),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(W=>this._handleTrim(W)),this.register(this._bufferService.buffers.onBufferActivate(W=>this._handleBufferActivate(W))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,c.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const x=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!x||!k||x[0]===k[0]&&x[1]===k[1])}get selectionText(){const x=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!x||!k)return"";const L=this._bufferService.buffer,N=[];if(this._activeSelectionMode===3){if(x[0]===k[0])return"";const D=x[0]<k[0]?x[0]:k[0],M=x[0]<k[0]?k[0]:x[0];for(let B=x[1];B<=k[1];B++){const F=L.translateBufferLineToString(B,!0,D,M);N.push(F)}}else{const D=x[1]===k[1]?k[0]:void 0;N.push(L.translateBufferLineToString(x[1],!0,x[0],D));for(let M=x[1]+1;M<=k[1]-1;M++){const B=L.lines.get(M),F=L.translateBufferLineToString(M,!0);B!=null&&B.isWrapped?N[N.length-1]+=F:N.push(F)}if(x[1]!==k[1]){const M=L.lines.get(k[1]),B=L.translateBufferLineToString(k[1],!0,0,k[0]);M&&M.isWrapped?N[N.length-1]+=B:N.push(B)}}return N.map(D=>D.replace(C," ")).join(h.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(x){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),h.isLinux&&x&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(x){const k=this._getMouseBufferCoords(x),L=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!!(L&&N&&k)&&this._areCoordsInSelection(k,L,N)}isCellInSelection(x,k){const L=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!(!L||!N)&&this._areCoordsInSelection([x,k],L,N)}_areCoordsInSelection(x,k,L){return x[1]>k[1]&&x[1]<L[1]||k[1]===L[1]&&x[1]===k[1]&&x[0]>=k[0]&&x[0]<L[0]||k[1]<L[1]&&x[1]===L[1]&&x[0]<L[0]||k[1]<L[1]&&x[1]===k[1]&&x[0]>=k[0]}_selectWordAtCursor(x,k){var L,N;const D=(N=(L=this._linkifier.currentLink)===null||L===void 0?void 0:L.link)===null||N===void 0?void 0:N.range;if(D)return this._model.selectionStart=[D.start.x-1,D.start.y-1],this._model.selectionStartLength=(0,l.getRangeLength)(D,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const M=this._getMouseBufferCoords(x);return!!M&&(this._selectWordAt(M,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(x,k){this._model.clearSelection(),x=Math.max(x,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,x],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(x){this._model.handleTrim(x)&&this.refresh()}_getMouseBufferCoords(x){const k=this._mouseService.getCoords(x,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(x){let k=(0,m.getCoordsRelativeToElement)(this._coreBrowserService.window,x,this._screenElement)[1];const L=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=L?0:(k>L&&(k-=L),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(x){return h.isMac?x.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:x.shiftKey}handleMouseDown(x){if(this._mouseDownTimeStamp=x.timeStamp,(x.button!==2||!this.hasSelection)&&x.button===0){if(!this._enabled){if(!this.shouldForceSelection(x))return;x.stopPropagation()}x.preventDefault(),this._dragScrollAmount=0,this._enabled&&x.shiftKey?this._handleIncrementalClick(x):x.detail===1?this._handleSingleClick(x):x.detail===2?this._handleDoubleClick(x):x.detail===3&&this._handleTripleClick(x),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(x){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(x))}_handleSingleClick(x){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(x)?3:0,this._model.selectionStart=this._getMouseBufferCoords(x),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(x){this._selectWordAtCursor(x,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(x){const k=this._getMouseBufferCoords(x);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(x){return x.altKey&&!(h.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(x){if(x.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(x),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(x),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const L=this._bufferService.buffer;if(this._model.selectionEnd[1]<L.lines.length){const N=L.lines.get(this._model.selectionEnd[1]);N&&N.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const x=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(x.ydisp+this._bufferService.rows,x.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=x.ydisp),this.refresh()}}_handleMouseUp(x){const k=x.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&x.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const L=this._mouseService.getCoords(x,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(L&&L[0]!==void 0&&L[1]!==void 0){const N=(0,_.moveToCellSequence)(L[0]-1,L[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(N,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const x=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,L=!(!x||!k||x[0]===k[0]&&x[1]===k[1]);L?x&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&x[0]===this._oldSelectionStart[0]&&x[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(x,k,L)):this._oldHasSelection&&this._fireOnSelectionChange(x,k,L)}_fireOnSelectionChange(x,k,L){this._oldSelectionStart=x,this._oldSelectionEnd=k,this._oldHasSelection=L,this._onSelectionChange.fire()}_handleBufferActivate(x){this.clearSelection(),this._trimListener.dispose(),this._trimListener=x.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(x,k){let L=k;for(let N=0;k>=N;N++){const D=x.loadCell(N,this._workCell).getChars().length;this._workCell.getWidth()===0?L--:D>1&&k!==N&&(L+=D-1)}return L}setSelection(x,k,L){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[x,k],this._model.selectionStartLength=L,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(x){this._isClickInSelection(x)||(this._selectWordAtCursor(x,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(x,k,L=!0,N=!0){if(x[0]>=this._bufferService.cols)return;const D=this._bufferService.buffer,M=D.lines.get(x[1]);if(!M)return;const B=D.translateBufferLineToString(x[1],!1);let F=this._convertViewportColToCharacterIndex(M,x[0]),$=F;const W=x[0]-F;let j=0,P=0,T=0,A=0;if(B.charAt(F)===" "){for(;F>0&&B.charAt(F-1)===" ";)F--;for(;$<B.length&&B.charAt($+1)===" ";)$++}else{let X=x[0],G=x[0];M.getWidth(X)===0&&(j++,X--),M.getWidth(G)===2&&(P++,G++);const ie=M.getString(G).length;for(ie>1&&(A+=ie-1,$+=ie-1);X>0&&F>0&&!this._isCharWordSeparator(M.loadCell(X-1,this._workCell));){M.loadCell(X-1,this._workCell);const R=this._workCell.getChars().length;this._workCell.getWidth()===0?(j++,X--):R>1&&(T+=R-1,F-=R-1),F--,X--}for(;G<M.length&&$+1<B.length&&!this._isCharWordSeparator(M.loadCell(G+1,this._workCell));){M.loadCell(G+1,this._workCell);const R=this._workCell.getChars().length;this._workCell.getWidth()===2?(P++,G++):R>1&&(A+=R-1,$+=R-1),$++,G++}}$++;let z=F+W-j+T,Q=Math.min(this._bufferService.cols,$-F+j+P-T-A);if(k||B.slice(F,$).trim()!==""){if(L&&z===0&&M.getCodePoint(0)!==32){const X=D.lines.get(x[1]-1);if(X&&M.isWrapped&&X.getCodePoint(this._bufferService.cols-1)!==32){const G=this._getWordAt([this._bufferService.cols-1,x[1]-1],!1,!0,!1);if(G){const ie=this._bufferService.cols-G.start;z-=ie,Q+=ie}}}if(N&&z+Q===this._bufferService.cols&&M.getCodePoint(this._bufferService.cols-1)!==32){const X=D.lines.get(x[1]+1);if(X!=null&&X.isWrapped&&X.getCodePoint(0)!==32){const G=this._getWordAt([0,x[1]+1],!1,!1,!0);G&&(Q+=G.length)}}return{start:z,length:Q}}}_selectWordAt(x,k){const L=this._getWordAt(x,k);if(L){for(;L.start<0;)L.start+=this._bufferService.cols,x[1]--;this._model.selectionStart=[L.start,x[1]],this._model.selectionStartLength=L.length}}_selectToWordAt(x){const k=this._getWordAt(x,!0);if(k){let L=x[1];for(;k.start<0;)k.start+=this._bufferService.cols,L--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,L++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,L]}}_isCharWordSeparator(x){return x.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(x.getChars())>=0}_selectLineAt(x){const k=this._bufferService.buffer.getWrappedRangeForLine(x),L={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,l.getRangeLength)(L,this._bufferService.cols)}};n.SelectionService=E=f([v(3,y.IBufferService),v(4,y.ICoreService),v(5,b.IMouseService),v(6,y.IOptionsService),v(7,b.IRenderService),v(8,b.ICoreBrowserService)],E)},4725:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IThemeService=n.ICharacterJoinerService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;const f=a(8343);n.ICharSizeService=(0,f.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),n.IMouseService=(0,f.createDecorator)("MouseService"),n.IRenderService=(0,f.createDecorator)("RenderService"),n.ISelectionService=(0,f.createDecorator)("SelectionService"),n.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),n.IThemeService=(0,f.createDecorator)("ThemeService")},6731:function(p,n,a){var f=this&&this.__decorate||function(E,x,k,L){var N,D=arguments.length,M=D<3?x:L===null?L=Object.getOwnPropertyDescriptor(x,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(E,x,k,L);else for(var B=E.length-1;B>=0;B--)(N=E[B])&&(M=(D<3?N(M):D>3?N(x,k,M):N(x,k))||M);return D>3&&M&&Object.defineProperty(x,k,M),M},v=this&&this.__param||function(E,x){return function(k,L){x(k,L,E)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeService=n.DEFAULT_ANSI_COLORS=void 0;const m=a(7239),_=a(8055),w=a(8460),b=a(844),g=a(2585),c=_.css.toColor("#ffffff"),h=_.css.toColor("#000000"),l=_.css.toColor("#ffffff"),d=_.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[_.css.toColor("#2e3436"),_.css.toColor("#cc0000"),_.css.toColor("#4e9a06"),_.css.toColor("#c4a000"),_.css.toColor("#3465a4"),_.css.toColor("#75507b"),_.css.toColor("#06989a"),_.css.toColor("#d3d7cf"),_.css.toColor("#555753"),_.css.toColor("#ef2929"),_.css.toColor("#8ae234"),_.css.toColor("#fce94f"),_.css.toColor("#729fcf"),_.css.toColor("#ad7fa8"),_.css.toColor("#34e2e2"),_.css.toColor("#eeeeec")],x=[0,95,135,175,215,255];for(let k=0;k<216;k++){const L=x[k/36%6|0],N=x[k/6%6|0],D=x[k%6];E.push({css:_.channels.toCss(L,N,D),rgba:_.channels.toRgba(L,N,D)})}for(let k=0;k<24;k++){const L=8+10*k;E.push({css:_.channels.toCss(L,L,L),rgba:_.channels.toRgba(L,L,L)})}return E})());let S=n.ThemeService=class extends b.Disposable{get colors(){return this._colors}constructor(E){super(),this._optionsService=E,this._contrastCache=new m.ColorContrastCache,this._halfContrastCache=new m.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:c,background:h,cursor:l,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:_.color.blend(h,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:_.color.blend(h,y),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(E={}){const x=this._colors;if(x.foreground=C(E.foreground,c),x.background=C(E.background,h),x.cursor=C(E.cursor,l),x.cursorAccent=C(E.cursorAccent,d),x.selectionBackgroundTransparent=C(E.selectionBackground,y),x.selectionBackgroundOpaque=_.color.blend(x.background,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundTransparent=C(E.selectionInactiveBackground,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundOpaque=_.color.blend(x.background,x.selectionInactiveBackgroundTransparent),x.selectionForeground=E.selectionForeground?C(E.selectionForeground,_.NULL_COLOR):void 0,x.selectionForeground===_.NULL_COLOR&&(x.selectionForeground=void 0),_.color.isOpaque(x.selectionBackgroundTransparent)&&(x.selectionBackgroundTransparent=_.color.opacity(x.selectionBackgroundTransparent,.3)),_.color.isOpaque(x.selectionInactiveBackgroundTransparent)&&(x.selectionInactiveBackgroundTransparent=_.color.opacity(x.selectionInactiveBackgroundTransparent,.3)),x.ansi=n.DEFAULT_ANSI_COLORS.slice(),x.ansi[0]=C(E.black,n.DEFAULT_ANSI_COLORS[0]),x.ansi[1]=C(E.red,n.DEFAULT_ANSI_COLORS[1]),x.ansi[2]=C(E.green,n.DEFAULT_ANSI_COLORS[2]),x.ansi[3]=C(E.yellow,n.DEFAULT_ANSI_COLORS[3]),x.ansi[4]=C(E.blue,n.DEFAULT_ANSI_COLORS[4]),x.ansi[5]=C(E.magenta,n.DEFAULT_ANSI_COLORS[5]),x.ansi[6]=C(E.cyan,n.DEFAULT_ANSI_COLORS[6]),x.ansi[7]=C(E.white,n.DEFAULT_ANSI_COLORS[7]),x.ansi[8]=C(E.brightBlack,n.DEFAULT_ANSI_COLORS[8]),x.ansi[9]=C(E.brightRed,n.DEFAULT_ANSI_COLORS[9]),x.ansi[10]=C(E.brightGreen,n.DEFAULT_ANSI_COLORS[10]),x.ansi[11]=C(E.brightYellow,n.DEFAULT_ANSI_COLORS[11]),x.ansi[12]=C(E.brightBlue,n.DEFAULT_ANSI_COLORS[12]),x.ansi[13]=C(E.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),x.ansi[14]=C(E.brightCyan,n.DEFAULT_ANSI_COLORS[14]),x.ansi[15]=C(E.brightWhite,n.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const k=Math.min(x.ansi.length-16,E.extendedAnsi.length);for(let L=0;L<k;L++)x.ansi[L+16]=C(E.extendedAnsi[L],n.DEFAULT_ANSI_COLORS[L+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let x=0;x<this._restoreColors.ansi.length;++x)this._colors.ansi[x]=this._restoreColors.ansi[x]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(E,x){if(E!==void 0)try{return _.css.toColor(E)}catch{}return x}n.ThemeService=S=f([v(0,g.IOptionsService)],S)},6349:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;const f=a(8460),v=a(844);class m extends v.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const b=new Array(w);for(let g=0;g<Math.min(w,this.length);g++)b[g]=this._array[this._getCyclicIndex(g)];this._array=b,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let b=this._length;b<w;b++)this._array[b]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,b){this._array[this._getCyclicIndex(w)]=b}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,b,...g){if(b){for(let c=w;c<this._length-b;c++)this._array[this._getCyclicIndex(c)]=this._array[this._getCyclicIndex(c+b)];this._length-=b,this.onDeleteEmitter.fire({index:w,amount:b})}for(let c=this._length-1;c>=w;c--)this._array[this._getCyclicIndex(c+g.length)]=this._array[this._getCyclicIndex(c)];for(let c=0;c<g.length;c++)this._array[this._getCyclicIndex(w+c)]=g[c];if(g.length&&this.onInsertEmitter.fire({index:w,amount:g.length}),this._length+g.length>this._maxLength){const c=this._length+g.length-this._maxLength;this._startIndex+=c,this._length=this._maxLength,this.onTrimEmitter.fire(c)}else this._length+=g.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,b,g){if(!(b<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+g<0)throw new Error("Cannot shift elements in list beyond index 0");if(g>0){for(let h=b-1;h>=0;h--)this.set(w+h+g,this.get(w+h));const c=w+b+g-this._length;if(c>0)for(this._length+=c;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let c=0;c<b;c++)this.set(w+c+g,this.get(w+c))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}n.CircularList=m},1439:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function a(f,v=5){if(typeof f!="object")return f;const m=Array.isArray(f)?[]:{};for(const _ in f)m[_]=v<=1?f[_]:f[_]&&a(f[_],v-1);return m}},8055:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=n.NULL_COLOR=void 0;const f=a(6114);let v=0,m=0,_=0,w=0;var b,g,c,h,l;function d(S){const C=S.toString(16);return C.length<2?"0"+C:C}function y(S,C){return S<C?(C+.05)/(S+.05):(S+.05)/(C+.05)}n.NULL_COLOR={css:"#00000000",rgba:0},function(S){S.toCss=function(C,E,x,k){return k!==void 0?`#${d(C)}${d(E)}${d(x)}${d(k)}`:`#${d(C)}${d(E)}${d(x)}`},S.toRgba=function(C,E,x,k=255){return(C<<24|E<<16|x<<8|k)>>>0}}(b||(n.channels=b={})),function(S){function C(E,x){return w=Math.round(255*x),[v,m,_]=l.toChannels(E.rgba),{css:b.toCss(v,m,_,w),rgba:b.toRgba(v,m,_,w)}}S.blend=function(E,x){if(w=(255&x.rgba)/255,w===1)return{css:x.css,rgba:x.rgba};const k=x.rgba>>24&255,L=x.rgba>>16&255,N=x.rgba>>8&255,D=E.rgba>>24&255,M=E.rgba>>16&255,B=E.rgba>>8&255;return v=D+Math.round((k-D)*w),m=M+Math.round((L-M)*w),_=B+Math.round((N-B)*w),{css:b.toCss(v,m,_),rgba:b.toRgba(v,m,_)}},S.isOpaque=function(E){return(255&E.rgba)==255},S.ensureContrastRatio=function(E,x,k){const L=l.ensureContrastRatio(E.rgba,x.rgba,k);if(L)return l.toColor(L>>24&255,L>>16&255,L>>8&255)},S.opaque=function(E){const x=(255|E.rgba)>>>0;return[v,m,_]=l.toChannels(x),{css:b.toCss(v,m,_),rgba:x}},S.opacity=C,S.multiplyOpacity=function(E,x){return w=255&E.rgba,C(E,w*x/255)},S.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]}}(g||(n.color=g={})),function(S){let C,E;if(!f.isNode){const x=document.createElement("canvas");x.width=1,x.height=1;const k=x.getContext("2d",{willReadFrequently:!0});k&&(C=k,C.globalCompositeOperation="copy",E=C.createLinearGradient(0,0,1,1))}S.toColor=function(x){if(x.match(/#[\da-f]{3,8}/i))switch(x.length){case 4:return v=parseInt(x.slice(1,2).repeat(2),16),m=parseInt(x.slice(2,3).repeat(2),16),_=parseInt(x.slice(3,4).repeat(2),16),l.toColor(v,m,_);case 5:return v=parseInt(x.slice(1,2).repeat(2),16),m=parseInt(x.slice(2,3).repeat(2),16),_=parseInt(x.slice(3,4).repeat(2),16),w=parseInt(x.slice(4,5).repeat(2),16),l.toColor(v,m,_,w);case 7:return{css:x,rgba:(parseInt(x.slice(1),16)<<8|255)>>>0};case 9:return{css:x,rgba:parseInt(x.slice(1),16)>>>0}}const k=x.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(k)return v=parseInt(k[1]),m=parseInt(k[2]),_=parseInt(k[3]),w=Math.round(255*(k[5]===void 0?1:parseFloat(k[5]))),l.toColor(v,m,_,w);if(!C||!E)throw new Error("css.toColor: Unsupported css format");if(C.fillStyle=E,C.fillStyle=x,typeof C.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(C.fillRect(0,0,1,1),[v,m,_,w]=C.getImageData(0,0,1,1).data,w!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:b.toRgba(v,m,_,w),css:x}}}(c||(n.css=c={})),function(S){function C(E,x,k){const L=E/255,N=x/255,D=k/255;return .2126*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.7152*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.0722*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))}S.relativeLuminance=function(E){return C(E>>16&255,E>>8&255,255&E)},S.relativeLuminance2=C}(h||(n.rgb=h={})),function(S){function C(x,k,L){const N=x>>24&255,D=x>>16&255,M=x>>8&255;let B=k>>24&255,F=k>>16&255,$=k>>8&255,W=y(h.relativeLuminance2(B,F,$),h.relativeLuminance2(N,D,M));for(;W<L&&(B>0||F>0||$>0);)B-=Math.max(0,Math.ceil(.1*B)),F-=Math.max(0,Math.ceil(.1*F)),$-=Math.max(0,Math.ceil(.1*$)),W=y(h.relativeLuminance2(B,F,$),h.relativeLuminance2(N,D,M));return(B<<24|F<<16|$<<8|255)>>>0}function E(x,k,L){const N=x>>24&255,D=x>>16&255,M=x>>8&255;let B=k>>24&255,F=k>>16&255,$=k>>8&255,W=y(h.relativeLuminance2(B,F,$),h.relativeLuminance2(N,D,M));for(;W<L&&(B<255||F<255||$<255);)B=Math.min(255,B+Math.ceil(.1*(255-B))),F=Math.min(255,F+Math.ceil(.1*(255-F))),$=Math.min(255,$+Math.ceil(.1*(255-$))),W=y(h.relativeLuminance2(B,F,$),h.relativeLuminance2(N,D,M));return(B<<24|F<<16|$<<8|255)>>>0}S.ensureContrastRatio=function(x,k,L){const N=h.relativeLuminance(x>>8),D=h.relativeLuminance(k>>8);if(y(N,D)<L){if(D<N){const F=C(x,k,L),$=y(N,h.relativeLuminance(F>>8));if($<L){const W=E(x,k,L);return $>y(N,h.relativeLuminance(W>>8))?F:W}return F}const M=E(x,k,L),B=y(N,h.relativeLuminance(M>>8));if(B<L){const F=C(x,k,L);return B>y(N,h.relativeLuminance(F>>8))?M:F}return M}},S.reduceLuminance=C,S.increaseLuminance=E,S.toChannels=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},S.toColor=function(x,k,L,N){return{css:b.toCss(x,k,L,N),rgba:b.toRgba(x,k,L,N)}}}(l||(n.rgba=l={})),n.toPaddedHex=d,n.contrastRatio=y},8969:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;const f=a(844),v=a(2585),m=a(4348),_=a(7866),w=a(744),b=a(7302),g=a(6975),c=a(8460),h=a(1753),l=a(1480),d=a(7994),y=a(9282),S=a(5435),C=a(5981),E=a(2660);let x=!1;class k extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new c.EventEmitter),this._onScroll.event(N=>{var D;(D=this._onScrollApi)===null||D===void 0||D.fire(N.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(N){for(const D in N)this.optionsService.options[D]=N[D]}constructor(N){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new c.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new c.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new c.EventEmitter),this._instantiationService=new m.InstantiationService,this.optionsService=this.register(new b.OptionsService(N)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(_.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(g.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(h.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(l.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,c.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,c.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,c.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,c.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((D,M)=>this._inputHandler.parse(D,M))),this.register((0,c.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(N,D){this._writeBuffer.write(N,D)}writeSync(N,D){this._logService.logLevel<=v.LogLevelEnum.WARN&&!x&&(this._logService.warn("writeSync is unreliable and will be removed soon."),x=!0),this._writeBuffer.writeSync(N,D)}resize(N,D){isNaN(N)||isNaN(D)||(N=Math.max(N,w.MINIMUM_COLS),D=Math.max(D,w.MINIMUM_ROWS),this._bufferService.resize(N,D))}scroll(N,D=!1){this._bufferService.scroll(N,D)}scrollLines(N,D,M){this._bufferService.scrollLines(N,D,M)}scrollPages(N){this.scrollLines(N*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(N){const D=N-this._bufferService.buffer.ydisp;D!==0&&this.scrollLines(D)}registerEscHandler(N,D){return this._inputHandler.registerEscHandler(N,D)}registerDcsHandler(N,D){return this._inputHandler.registerDcsHandler(N,D)}registerCsiHandler(N,D){return this._inputHandler.registerCsiHandler(N,D)}registerOscHandler(N,D){return this._inputHandler.registerOscHandler(N,D)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let N=!1;const D=this.optionsService.rawOptions.windowsPty;D&&D.buildNumber!==void 0&&D.buildNumber!==void 0?N=D.backend==="conpty"&&D.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(N=!0),N?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const N=[];N.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),N.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)(()=>{for(const D of N)D.dispose()})}}}n.CoreTerminal=k},8460:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===a)return void this._listeners.splice(f,1)}}})),this._event}fire(a,f){const v=[];for(let m=0;m<this._listeners.length;m++)v.push(this._listeners[m]);for(let m=0;m<v.length;m++)v[m].call(void 0,a,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},n.forwardEvent=function(a,f){return a(v=>f.fire(v))}},5435:function(p,n,a){var f=this&&this.__decorate||function(W,j,P,T){var A,z=arguments.length,Q=z<3?j:T===null?T=Object.getOwnPropertyDescriptor(j,P):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(W,j,P,T);else for(var X=W.length-1;X>=0;X--)(A=W[X])&&(Q=(z<3?A(Q):z>3?A(j,P,Q):A(j,P))||Q);return z>3&&Q&&Object.defineProperty(j,P,Q),Q},v=this&&this.__param||function(W,j){return function(P,T){j(P,T,W)}};Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;const m=a(2584),_=a(7116),w=a(2015),b=a(844),g=a(482),c=a(8437),h=a(8460),l=a(643),d=a(511),y=a(3734),S=a(2585),C=a(6242),E=a(6351),x=a(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},L=131072;function N(W,j){if(W>24)return j.setWinLines||!1;switch(W){case 1:return!!j.restoreWin;case 2:return!!j.minimizeWin;case 3:return!!j.setWinPosition;case 4:return!!j.setWinSizePixels;case 5:return!!j.raiseWin;case 6:return!!j.lowerWin;case 7:return!!j.refreshWin;case 8:return!!j.setWinSizeChars;case 9:return!!j.maximizeWin;case 10:return!!j.fullscreenWin;case 11:return!!j.getWinState;case 13:return!!j.getWinPosition;case 14:return!!j.getWinSizePixels;case 15:return!!j.getScreenSizePixels;case 16:return!!j.getCellSizePixels;case 18:return!!j.getWinSizeChars;case 19:return!!j.getScreenSizeChars;case 20:return!!j.getIconTitle;case 21:return!!j.getWinTitle;case 22:return!!j.pushTitle;case 23:return!!j.popTitle;case 24:return!!j.setWinLines}return!1}var D;(function(W){W[W.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",W[W.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D||(n.WindowsOptionsReportType=D={}));let M=0;class B extends b.Disposable{getAttrData(){return this._curAttrData}constructor(j,P,T,A,z,Q,X,G,ie=new w.EscapeSequenceParser){super(),this._bufferService=j,this._charsetService=P,this._coreService=T,this._logService=A,this._optionsService=z,this._oscLinkService=Q,this._coreMouseService=X,this._unicodeService=G,this._parser=ie,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new g.StringToUtf32,this._utf8Decoder=new g.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new h.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new h.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new h.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new h.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new h.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new h.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new h.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new h.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new h.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new h.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new h.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new F(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(R=>this._activeBuffer=R.activeBuffer)),this._parser.setCsiHandlerFallback((R,I)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(R),params:I.toArray()})}),this._parser.setEscHandlerFallback(R=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(R)})}),this._parser.setExecuteHandlerFallback(R=>{this._logService.debug("Unknown EXECUTE code: ",{code:R})}),this._parser.setOscHandlerFallback((R,I,U)=>{this._logService.debug("Unknown OSC code: ",{identifier:R,action:I,data:U})}),this._parser.setDcsHandlerFallback((R,I,U)=>{I==="HOOK"&&(U=U.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(R),action:I,payload:U})}),this._parser.setPrintHandler((R,I,U)=>this.print(R,I,U)),this._parser.registerCsiHandler({final:"@"},R=>this.insertChars(R)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},R=>this.scrollLeft(R)),this._parser.registerCsiHandler({final:"A"},R=>this.cursorUp(R)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},R=>this.scrollRight(R)),this._parser.registerCsiHandler({final:"B"},R=>this.cursorDown(R)),this._parser.registerCsiHandler({final:"C"},R=>this.cursorForward(R)),this._parser.registerCsiHandler({final:"D"},R=>this.cursorBackward(R)),this._parser.registerCsiHandler({final:"E"},R=>this.cursorNextLine(R)),this._parser.registerCsiHandler({final:"F"},R=>this.cursorPrecedingLine(R)),this._parser.registerCsiHandler({final:"G"},R=>this.cursorCharAbsolute(R)),this._parser.registerCsiHandler({final:"H"},R=>this.cursorPosition(R)),this._parser.registerCsiHandler({final:"I"},R=>this.cursorForwardTab(R)),this._parser.registerCsiHandler({final:"J"},R=>this.eraseInDisplay(R,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},R=>this.eraseInDisplay(R,!0)),this._parser.registerCsiHandler({final:"K"},R=>this.eraseInLine(R,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},R=>this.eraseInLine(R,!0)),this._parser.registerCsiHandler({final:"L"},R=>this.insertLines(R)),this._parser.registerCsiHandler({final:"M"},R=>this.deleteLines(R)),this._parser.registerCsiHandler({final:"P"},R=>this.deleteChars(R)),this._parser.registerCsiHandler({final:"S"},R=>this.scrollUp(R)),this._parser.registerCsiHandler({final:"T"},R=>this.scrollDown(R)),this._parser.registerCsiHandler({final:"X"},R=>this.eraseChars(R)),this._parser.registerCsiHandler({final:"Z"},R=>this.cursorBackwardTab(R)),this._parser.registerCsiHandler({final:"`"},R=>this.charPosAbsolute(R)),this._parser.registerCsiHandler({final:"a"},R=>this.hPositionRelative(R)),this._parser.registerCsiHandler({final:"b"},R=>this.repeatPrecedingCharacter(R)),this._parser.registerCsiHandler({final:"c"},R=>this.sendDeviceAttributesPrimary(R)),this._parser.registerCsiHandler({prefix:">",final:"c"},R=>this.sendDeviceAttributesSecondary(R)),this._parser.registerCsiHandler({final:"d"},R=>this.linePosAbsolute(R)),this._parser.registerCsiHandler({final:"e"},R=>this.vPositionRelative(R)),this._parser.registerCsiHandler({final:"f"},R=>this.hVPosition(R)),this._parser.registerCsiHandler({final:"g"},R=>this.tabClear(R)),this._parser.registerCsiHandler({final:"h"},R=>this.setMode(R)),this._parser.registerCsiHandler({prefix:"?",final:"h"},R=>this.setModePrivate(R)),this._parser.registerCsiHandler({final:"l"},R=>this.resetMode(R)),this._parser.registerCsiHandler({prefix:"?",final:"l"},R=>this.resetModePrivate(R)),this._parser.registerCsiHandler({final:"m"},R=>this.charAttributes(R)),this._parser.registerCsiHandler({final:"n"},R=>this.deviceStatus(R)),this._parser.registerCsiHandler({prefix:"?",final:"n"},R=>this.deviceStatusPrivate(R)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},R=>this.softReset(R)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},R=>this.setCursorStyle(R)),this._parser.registerCsiHandler({final:"r"},R=>this.setScrollRegion(R)),this._parser.registerCsiHandler({final:"s"},R=>this.saveCursor(R)),this._parser.registerCsiHandler({final:"t"},R=>this.windowOptions(R)),this._parser.registerCsiHandler({final:"u"},R=>this.restoreCursor(R)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},R=>this.insertColumns(R)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},R=>this.deleteColumns(R)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},R=>this.selectProtected(R)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},R=>this.requestMode(R,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},R=>this.requestMode(R,!1)),this._parser.setExecuteHandler(m.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(m.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(m.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(m.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(m.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(m.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(m.C1.IND,()=>this.index()),this._parser.setExecuteHandler(m.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(m.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler(R=>(this.setTitle(R),this.setIconName(R),!0))),this._parser.registerOscHandler(1,new C.OscHandler(R=>this.setIconName(R))),this._parser.registerOscHandler(2,new C.OscHandler(R=>this.setTitle(R))),this._parser.registerOscHandler(4,new C.OscHandler(R=>this.setOrReportIndexedColor(R))),this._parser.registerOscHandler(8,new C.OscHandler(R=>this.setHyperlink(R))),this._parser.registerOscHandler(10,new C.OscHandler(R=>this.setOrReportFgColor(R))),this._parser.registerOscHandler(11,new C.OscHandler(R=>this.setOrReportBgColor(R))),this._parser.registerOscHandler(12,new C.OscHandler(R=>this.setOrReportCursorColor(R))),this._parser.registerOscHandler(104,new C.OscHandler(R=>this.restoreIndexedColor(R))),this._parser.registerOscHandler(110,new C.OscHandler(R=>this.restoreFgColor(R))),this._parser.registerOscHandler(111,new C.OscHandler(R=>this.restoreBgColor(R))),this._parser.registerOscHandler(112,new C.OscHandler(R=>this.restoreCursorColor(R))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const R in _.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:R},()=>this.selectCharset("("+R)),this._parser.registerEscHandler({intermediates:")",final:R},()=>this.selectCharset(")"+R)),this._parser.registerEscHandler({intermediates:"*",final:R},()=>this.selectCharset("*"+R)),this._parser.registerEscHandler({intermediates:"+",final:R},()=>this.selectCharset("+"+R)),this._parser.registerEscHandler({intermediates:"-",final:R},()=>this.selectCharset("-"+R)),this._parser.registerEscHandler({intermediates:".",final:R},()=>this.selectCharset("."+R)),this._parser.registerEscHandler({intermediates:"/",final:R},()=>this.selectCharset("/"+R));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(R=>(this._logService.error("Parsing error: ",R),R)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new E.DcsHandler((R,I)=>this.requestStatusString(R,I)))}_preserveStack(j,P,T,A){this._parseStack.paused=!0,this._parseStack.cursorStartX=j,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=T,this._parseStack.position=A}_logSlowResolvingAsync(j){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([j,new Promise((P,T)=>setTimeout(()=>T("#SLOW_TIMEOUT"),5e3))]).catch(P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(j,P){let T,A=this._activeBuffer.x,z=this._activeBuffer.y,Q=0;const X=this._parseStack.paused;if(X){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(T),T;A=this._parseStack.cursorStartX,z=this._parseStack.cursorStartY,this._parseStack.paused=!1,j.length>L&&(Q=this._parseStack.position+L)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof j=="string"?` "${j}"`:` "${Array.prototype.map.call(j,G=>String.fromCharCode(G)).join("")}"`),typeof j=="string"?j.split("").map(G=>G.charCodeAt(0)):j),this._parseBuffer.length<j.length&&this._parseBuffer.length<L&&(this._parseBuffer=new Uint32Array(Math.min(j.length,L))),X||this._dirtyRowTracker.clearRange(),j.length>L)for(let G=Q;G<j.length;G+=L){const ie=G+L<j.length?G+L:j.length,R=typeof j=="string"?this._stringDecoder.decode(j.substring(G,ie),this._parseBuffer):this._utf8Decoder.decode(j.subarray(G,ie),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,R))return this._preserveStack(A,z,R,G),this._logSlowResolvingAsync(T),T}else if(!X){const G=typeof j=="string"?this._stringDecoder.decode(j,this._parseBuffer):this._utf8Decoder.decode(j,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,G))return this._preserveStack(A,z,G,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===A&&this._activeBuffer.y===z||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(j,P,T){let A,z;const Q=this._charsetService.charset,X=this._optionsService.rawOptions.screenReaderMode,G=this._bufferService.cols,ie=this._coreService.decPrivateModes.wraparound,R=this._coreService.modes.insertMode,I=this._curAttrData;let U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-P>0&&U.getWidth(this._activeBuffer.x-1)===2&&U.setCellFromCodePoint(this._activeBuffer.x-1,0,1,I.fg,I.bg,I.extended);for(let H=P;H<T;++H){if(A=j[H],z=this._unicodeService.wcwidth(A),A<127&&Q){const J=Q[String.fromCharCode(A)];J&&(A=J.charCodeAt(0))}if(X&&this._onA11yChar.fire((0,g.stringFromCodePoint)(A)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),z||!this._activeBuffer.x){if(this._activeBuffer.x+z-1>=G){if(ie){for(;this._activeBuffer.x<G;)U.setCellFromCodePoint(this._activeBuffer.x++,0,1,I.fg,I.bg,I.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=G-1,z===2)continue}if(R&&(U.insertCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(I),I),U.getWidth(G-1)===2&&U.setCellFromCodePoint(G-1,l.NULL_CELL_CODE,l.NULL_CELL_WIDTH,I.fg,I.bg,I.extended)),U.setCellFromCodePoint(this._activeBuffer.x++,A,z,I.fg,I.bg,I.extended),z>0)for(;--z;)U.setCellFromCodePoint(this._activeBuffer.x++,0,0,I.fg,I.bg,I.extended)}else U.getWidth(this._activeBuffer.x-1)?U.addCodepointToCell(this._activeBuffer.x-1,A):U.addCodepointToCell(this._activeBuffer.x-2,A)}T-P>0&&(U.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<G&&T-P>0&&U.getWidth(this._activeBuffer.x)===0&&!U.hasContent(this._activeBuffer.x)&&U.setCellFromCodePoint(this._activeBuffer.x,0,1,I.fg,I.bg,I.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(j,P){return j.final!=="t"||j.prefix||j.intermediates?this._parser.registerCsiHandler(j,P):this._parser.registerCsiHandler(j,T=>!N(T.params[0],this._optionsService.rawOptions.windowOptions)||P(T))}registerDcsHandler(j,P){return this._parser.registerDcsHandler(j,new E.DcsHandler(P))}registerEscHandler(j,P){return this._parser.registerEscHandler(j,P)}registerOscHandler(j,P){return this._parser.registerOscHandler(j,new C.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var j;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||j===void 0)&&j.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);P.hasWidth(this._activeBuffer.x)&&!P.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const j=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-j),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(j=this._bufferService.cols-1){this._activeBuffer.x=Math.min(j,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(j,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=j,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=j,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(j,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+j,this._activeBuffer.y+P)}cursorUp(j){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,j.params[0]||1)):this._moveCursor(0,-(j.params[0]||1)),!0}cursorDown(j){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,j.params[0]||1)):this._moveCursor(0,j.params[0]||1),!0}cursorForward(j){return this._moveCursor(j.params[0]||1,0),!0}cursorBackward(j){return this._moveCursor(-(j.params[0]||1),0),!0}cursorNextLine(j){return this.cursorDown(j),this._activeBuffer.x=0,!0}cursorPrecedingLine(j){return this.cursorUp(j),this._activeBuffer.x=0,!0}cursorCharAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(j){return this._setCursor(j.length>=2?(j.params[1]||1)-1:0,(j.params[0]||1)-1),!0}charPosAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(j){return this._moveCursor(j.params[0]||1,0),!0}linePosAbsolute(j){return this._setCursor(this._activeBuffer.x,(j.params[0]||1)-1),!0}vPositionRelative(j){return this._moveCursor(0,j.params[0]||1),!0}hVPosition(j){return this.cursorPosition(j),!0}tabClear(j){const P=j.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=j.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=j.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(j){const P=j.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(j,P,T,A=!1,z=!1){const Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);Q.replaceCells(P,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),z),A&&(Q.isWrapped=!1)}_resetBufferLine(j,P=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);T&&(T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+j),T.isWrapped=!1)}eraseInDisplay(j,P=!1){let T;switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);T<this._bufferService.rows;T++)this._resetBufferLine(T,P);this._dirtyRowTracker.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowTracker.markDirty(T-1);T--;)this._resetBufferLine(T,P);this._dirtyRowTracker.markDirty(0);break;case 3:const A=this._activeBuffer.lines.length-this._bufferService.rows;A>0&&(this._activeBuffer.lines.trimStart(A),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-A,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-A,0),this._onScroll.fire(0))}return!0}eraseInLine(j,P=!1){switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(j){this._restrictCursor();let P=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,A=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-A+1;for(;P--;)this._activeBuffer.lines.splice(z-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(j){this._restrictCursor();let P=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let A;for(A=this._bufferService.rows-1-this._activeBuffer.scrollBottom,A=this._bufferService.rows-1+this._activeBuffer.ybase-A;P--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(A,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(j){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(j){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(j){let P=j.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(j){let P=j.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(c.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=j.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);A.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=j.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);A.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=j.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);A.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=j.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);A.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(j){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(j.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(j){if(!this._parser.precedingCodepoint)return!0;const P=j.params[0]||1,T=new Uint32Array(P);for(let A=0;A<P;++A)T[A]=this._parser.precedingCodepoint;return this.print(T,0,T.length),!0}sendDeviceAttributesPrimary(j){return j.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(m.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(m.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(j){return j.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(m.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(m.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(j.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(m.C0.ESC+"[>83;40003;0c")),!0}_is(j){return(this._optionsService.rawOptions.termName+"").indexOf(j)===0}setMode(j){for(let P=0;P<j.length;P++)switch(j.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(j){for(let P=0;P<j.length;P++)switch(j.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),this._charsetService.setgCharset(1,_.DEFAULT_CHARSET),this._charsetService.setgCharset(2,_.DEFAULT_CHARSET),this._charsetService.setgCharset(3,_.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(j){for(let P=0;P<j.length;P++)switch(j.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(j){for(let P=0;P<j.length;P++)switch(j.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),j.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(j,P){const T=this._coreService.decPrivateModes,{activeProtocol:A,activeEncoding:z}=this._coreMouseService,Q=this._coreService,{buffers:X,cols:G}=this._bufferService,{active:ie,alt:R}=X,I=this._optionsService.rawOptions,U=oe=>oe?1:2,H=j.params[0];return J=H,K=P?H===2?4:H===4?U(Q.modes.insertMode):H===12?3:H===20?U(I.convertEol):0:H===1?U(T.applicationCursorKeys):H===3?I.windowOptions.setWinLines?G===80?2:G===132?1:0:0:H===6?U(T.origin):H===7?U(T.wraparound):H===8?3:H===9?U(A==="X10"):H===12?U(I.cursorBlink):H===25?U(!Q.isCursorHidden):H===45?U(T.reverseWraparound):H===66?U(T.applicationKeypad):H===67?4:H===1e3?U(A==="VT200"):H===1002?U(A==="DRAG"):H===1003?U(A==="ANY"):H===1004?U(T.sendFocus):H===1005?4:H===1006?U(z==="SGR"):H===1015?4:H===1016?U(z==="SGR_PIXELS"):H===1048?1:H===47||H===1047||H===1049?U(ie===R):H===2004?U(T.bracketedPasteMode):0,Q.triggerDataEvent(`${m.C0.ESC}[${P?"":"?"}${J};${K}$y`),!0;var J,K}_updateAttrColor(j,P,T,A,z){return P===2?(j|=50331648,j&=-16777216,j|=y.AttributeData.fromColorRGB([T,A,z])):P===5&&(j&=-50331904,j|=33554432|255&T),j}_extractColor(j,P,T){const A=[0,0,-1,0,0,0];let z=0,Q=0;do{if(A[Q+z]=j.params[P+Q],j.hasSubParams(P+Q)){const X=j.getSubParams(P+Q);let G=0;do A[1]===5&&(z=1),A[Q+G+1+z]=X[G];while(++G<X.length&&G+Q+1+z<A.length);break}if(A[1]===5&&Q+z>=2||A[1]===2&&Q+z>=5)break;A[1]&&(z=1)}while(++Q+P<j.length&&Q+z<A.length);for(let X=2;X<A.length;++X)A[X]===-1&&(A[X]=0);switch(A[0]){case 38:T.fg=this._updateAttrColor(T.fg,A[1],A[3],A[4],A[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,A[1],A[3],A[4],A[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,A[1],A[3],A[4],A[5])}return Q}_processUnderline(j,P){P.extended=P.extended.clone(),(!~j||j>5)&&(j=1),P.extended.underlineStyle=j,P.fg|=268435456,j===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(j){j.fg=c.DEFAULT_ATTR_DATA.fg,j.bg=c.DEFAULT_ATTR_DATA.bg,j.extended=j.extended.clone(),j.extended.underlineStyle=0,j.extended.underlineColor&=-67108864,j.updateExtended()}charAttributes(j){if(j.length===1&&j.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=j.length;let T;const A=this._curAttrData;for(let z=0;z<P;z++)T=j.params[z],T>=30&&T<=37?(A.fg&=-50331904,A.fg|=16777216|T-30):T>=40&&T<=47?(A.bg&=-50331904,A.bg|=16777216|T-40):T>=90&&T<=97?(A.fg&=-50331904,A.fg|=16777224|T-90):T>=100&&T<=107?(A.bg&=-50331904,A.bg|=16777224|T-100):T===0?this._processSGR0(A):T===1?A.fg|=134217728:T===3?A.bg|=67108864:T===4?(A.fg|=268435456,this._processUnderline(j.hasSubParams(z)?j.getSubParams(z)[0]:1,A)):T===5?A.fg|=536870912:T===7?A.fg|=67108864:T===8?A.fg|=1073741824:T===9?A.fg|=2147483648:T===2?A.bg|=134217728:T===21?this._processUnderline(2,A):T===22?(A.fg&=-134217729,A.bg&=-134217729):T===23?A.bg&=-67108865:T===24?(A.fg&=-268435457,this._processUnderline(0,A)):T===25?A.fg&=-536870913:T===27?A.fg&=-67108865:T===28?A.fg&=-1073741825:T===29?A.fg&=2147483647:T===39?(A.fg&=-67108864,A.fg|=16777215&c.DEFAULT_ATTR_DATA.fg):T===49?(A.bg&=-67108864,A.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?z+=this._extractColor(j,z,A):T===53?A.bg|=1073741824:T===55?A.bg&=-1073741825:T===59?(A.extended=A.extended.clone(),A.extended.underlineColor=-1,A.updateExtended()):T===100?(A.fg&=-67108864,A.fg|=16777215&c.DEFAULT_ATTR_DATA.fg,A.bg&=-67108864,A.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(j){switch(j.params[0]){case 5:this._coreService.triggerDataEvent(`${m.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[${P};${T}R`)}return!0}deviceStatusPrivate(j){if(j.params[0]===6){const P=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[?${P};${T}R`)}return!0}softReset(j){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(j){const P=j.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=P%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(j){const P=j.params[0]||1;let T;return(j.length<2||(T=j.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(j){if(!N(j.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=j.length>1?j.params[1]:0;switch(j.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${m.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(j){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(j){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(j){return this._windowTitle=j,this._onTitleChange.fire(j),!0}setIconName(j){return this._iconName=j,!0}setOrReportIndexedColor(j){const P=[],T=j.split(";");for(;T.length>1;){const A=T.shift(),z=T.shift();if(/^\d+$/.exec(A)){const Q=parseInt(A);if($(Q))if(z==="?")P.push({type:0,index:Q});else{const X=(0,x.parseColor)(z);X&&P.push({type:1,index:Q,color:X})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(j){const P=j.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(j,P){this._getCurrentLinkId()&&this._finishHyperlink();const T=j.split(":");let A;const z=T.findIndex(Q=>Q.startsWith("id="));return z!==-1&&(A=T[z].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:A,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(j,P){const T=j.split(";");for(let A=0;A<T.length&&!(P>=this._specialColors.length);++A,++P)if(T[A]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const z=(0,x.parseColor)(T[A]);z&&this._onColor.fire([{type:1,index:this._specialColors[P],color:z}])}return!0}setOrReportFgColor(j){return this._setOrReportSpecialColor(j,0)}setOrReportBgColor(j){return this._setOrReportSpecialColor(j,1)}setOrReportCursorColor(j){return this._setOrReportSpecialColor(j,2)}restoreIndexedColor(j){if(!j)return this._onColor.fire([{type:2}]),!0;const P=[],T=j.split(";");for(let A=0;A<T.length;++A)if(/^\d+$/.exec(T[A])){const z=parseInt(T[A]);$(z)&&P.push({type:2,index:z})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(j){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(j){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(j){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),!0}selectCharset(j){return j.length!==2?(this.selectDefaultCharset(),!0):(j[0]==="/"||this._charsetService.setgCharset(k[j[0]],_.CHARSETS[j[1]]||_.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const j=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,j,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(j){return this._charsetService.setgLevel(j),!0}screenAlignmentPattern(){const j=new d.CellData;j.content=4194373,j.fg=this._curAttrData.fg,j.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const T=this._activeBuffer.ybase+this._activeBuffer.y+P,A=this._activeBuffer.lines.get(T);A&&(A.fill(j),A.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(j,P){const T=this._bufferService.buffer,A=this._optionsService.rawOptions;return(z=>(this._coreService.triggerDataEvent(`${m.C0.ESC}${z}${m.C0.ESC}\\`),!0))(j==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:j==='"p'?'P1$r61;1"p':j==="r"?`P1$r${T.scrollTop+1};${T.scrollBottom+1}r`:j==="m"?"P1$r0m":j===" q"?`P1$r${{block:2,underline:4,bar:6}[A.cursorStyle]-(A.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(j,P){this._dirtyRowTracker.markRangeDirty(j,P)}}n.InputHandler=B;let F=class{constructor(W){this._bufferService=W,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(W){W<this.start?this.start=W:W>this.end&&(this.end=W)}markRangeDirty(W,j){W>j&&(M=W,W=j,j=M),W<this.start&&(this.start=W),j>this.end&&(this.end=j)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function $(W){return 0<=W&&W<256}F=f([v(0,S.IBufferService)],F)},844:(p,n)=>{function a(f){for(const v of f)v.dispose();f.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.MutableDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const v=this._disposables.indexOf(f);v!==-1&&this._disposables.splice(v,1)}},n.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){var v;this._isDisposed||f===this._value||((v=this._value)===null||v===void 0||v.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,(f=this._value)===null||f===void 0||f.dispose(),this._value=void 0}},n.toDisposable=function(f){return{dispose:f}},n.disposeArray=a,n.getDisposeArrayDisposable=function(f){return{dispose:()=>a(f)}}},1505:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FourKeyMap=n.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(v,m,_){this._data[v]||(this._data[v]={}),this._data[v][m]=_}get(v,m){return this._data[v]?this._data[v][m]:void 0}clear(){this._data={}}}n.TwoKeyMap=a,n.FourKeyMap=class{constructor(){this._data=new a}set(f,v,m,_,w){this._data.get(f,v)||this._data.set(f,v,new a),this._data.get(f,v).set(m,_,w)}get(f,v,m,_){var w;return(w=this._data.get(f,v))===null||w===void 0?void 0:w.get(m,_)}clear(){this._data.clear()}}},6114:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isChromeOS=n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.getSafariVersion=n.isSafari=n.isLegacyEdge=n.isFirefox=n.isNode=void 0,n.isNode=typeof navigator>"u";const a=n.isNode?"node":navigator.userAgent,f=n.isNode?"node":navigator.platform;n.isFirefox=a.includes("Firefox"),n.isLegacyEdge=a.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(a),n.getSafariVersion=function(){if(!n.isSafari)return 0;const v=a.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),n.isIpad=f==="iPad",n.isIphone=f==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),n.isLinux=f.indexOf("Linux")>=0,n.isChromeOS=/\bCrOS\b/.test(a)},6106:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;let a=0;n.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(a=this._search(this._getKey(f)),this._array.splice(a,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const v=this._getKey(f);if(v===void 0||(a=this._search(v),a===-1)||this._getKey(this._array[a])!==v)return!1;do if(this._array[a]===f)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===v);return!1}*getKeyIterator(f){if(this._array.length!==0&&(a=this._search(f),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===f))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===f)}forEachByKey(f,v){if(this._array.length!==0&&(a=this._search(f),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===f))do v(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===f)}values(){return[...this._array].values()}_search(f){let v=0,m=this._array.length-1;for(;m>=v;){let _=v+m>>1;const w=this._getKey(this._array[_]);if(w>f)m=_-1;else{if(!(w<f)){for(;_>0&&this._getKey(this._array[_-1])===f;)_--;return _}v=_+1}}return v}}},7226:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DebouncedIdleTask=n.IdleTaskQueue=n.PriorityTaskQueue=void 0;const f=a(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let b=0,g=0,c=w.timeRemaining(),h=0;for(;this._i<this._tasks.length;){if(b=Date.now(),this._tasks[this._i]()||this._i++,b=Math.max(1,Date.now()-b),g=Math.max(b,g),h=w.timeRemaining(),1.5*g>h)return c-b<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(c-b))}ms`),void this._start();c=h}this.clear()}}class m extends v{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const b=Date.now()+w;return{timeRemaining:()=>Math.max(0,b-Date.now())}}}n.PriorityTaskQueue=m,n.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(_){return requestIdleCallback(_)}_cancelCallback(_){cancelIdleCallback(_)}}:m,n.DebouncedIdleTask=class{constructor(){this._queue=new n.IdleTaskQueue}set(_){this._queue.clear(),this._queue.enqueue(_)}flush(){this._queue.flush()}}},9282:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;const f=a(643);n.updateWindowsModeWrappedState=function(v){const m=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),_=m==null?void 0:m.get(v.cols-1),w=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);w&&_&&(w.isWrapped=_[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&_[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(m){return[m>>>16&255,m>>>8&255,255&m]}static fromColorRGB(m){return(255&m[0])<<16|(255&m[1])<<8|255&m[2]}clone(){const m=new a;return m.fg=this.fg,m.bg=this.bg,m.extended=this.extended.clone(),m}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}n.AttributeData=a;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(m){this._ext=m}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(m){this._ext&=-469762049,this._ext|=m<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(m){this._ext&=-67108864,this._ext|=67108863&m}get urlId(){return this._urlId}set urlId(m){this._urlId=m}constructor(m=0,_=0){this._ext=0,this._urlId=0,this._ext=m,this._urlId=_}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}n.ExtendedAttrs=f},9092:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.MAX_BUFFER_SIZE=void 0;const f=a(6349),v=a(7226),m=a(3734),_=a(8437),w=a(4634),b=a(511),g=a(643),c=a(4863),h=a(7116);n.MAX_BUFFER_SIZE=4294967295,n.Buffer=class{constructor(l,d,y){this._hasScrollback=l,this._optionsService=d,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=_.DEFAULT_ATTR_DATA.clone(),this.savedCharset=h.DEFAULT_CHARSET,this.markers=[],this._nullCell=b.CellData.fromCharData([0,g.NULL_CELL_CHAR,g.NULL_CELL_WIDTH,g.NULL_CELL_CODE]),this._whitespaceCell=b.CellData.fromCharData([0,g.WHITESPACE_CELL_CHAR,g.WHITESPACE_CELL_WIDTH,g.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(l){return l?(this._nullCell.fg=l.fg,this._nullCell.bg=l.bg,this._nullCell.extended=l.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new m.ExtendedAttrs),this._nullCell}getWhitespaceCell(l){return l?(this._whitespaceCell.fg=l.fg,this._whitespaceCell.bg=l.bg,this._whitespaceCell.extended=l.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new m.ExtendedAttrs),this._whitespaceCell}getBlankLine(l,d){return new _.BufferLine(this._bufferService.cols,this.getNullCell(l),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const l=this.ybase+this.y-this.ydisp;return l>=0&&l<this._rows}_getCorrectBufferLength(l){if(!this._hasScrollback)return l;const d=l+this._optionsService.rawOptions.scrollback;return d>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:d}fillViewportRows(l){if(this.lines.length===0){l===void 0&&(l=_.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(l))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(l,d){const y=this.getNullCell(_.DEFAULT_ATTR_DATA);let S=0;const C=this._getCorrectBufferLength(d);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<l)for(let x=0;x<this.lines.length;x++)S+=+this.lines.get(x).resize(l,y);let E=0;if(this._rows<d)for(let x=this._rows;x<d;x++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new _.BufferLine(l,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new _.BufferLine(l,y)));else for(let x=this._rows;x>d;x--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const x=this.lines.length-C;x>0&&(this.lines.trimStart(x),this.ybase=Math.max(this.ybase-x,0),this.ydisp=Math.max(this.ydisp-x,0),this.savedY=Math.max(this.savedY-x,0)),this.lines.maxLength=C}this.x=Math.min(this.x,l-1),this.y=Math.min(this.y,d-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,l-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(l,d),this._cols>l))for(let E=0;E<this.lines.length;E++)S+=+this.lines.get(E).resize(l,y);this._cols=l,this._rows=d,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let l=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,l=!1);let d=0;for(;this._memoryCleanupPosition<this.lines.length;)if(d+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),d>100)return!0;return l}get _isReflowEnabled(){const l=this._optionsService.rawOptions.windowsPty;return l&&l.buildNumber?this._hasScrollback&&l.backend==="conpty"&&l.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(l,d){this._cols!==l&&(l>this._cols?this._reflowLarger(l,d):this._reflowSmaller(l,d))}_reflowLarger(l,d){const y=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,l,this.ybase+this.y,this.getNullCell(_.DEFAULT_ATTR_DATA));if(y.length>0){const S=(0,w.reflowLargerCreateNewLayout)(this.lines,y);(0,w.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(l,d,S.countRemoved)}}_reflowLargerAdjustViewport(l,d,y){const S=this.getNullCell(_.DEFAULT_ATTR_DATA);let C=y;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new _.BufferLine(l,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(l,d){const y=this.getNullCell(_.DEFAULT_ATTR_DATA),S=[];let C=0;for(let E=this.lines.length-1;E>=0;E--){let x=this.lines.get(E);if(!x||!x.isWrapped&&x.getTrimmedLength()<=l)continue;const k=[x];for(;x.isWrapped&&E>0;)x=this.lines.get(--E),k.unshift(x);const L=this.ybase+this.y;if(L>=E&&L<E+k.length)continue;const N=k[k.length-1].getTrimmedLength(),D=(0,w.reflowSmallerGetNewLineLengths)(k,this._cols,l),M=D.length-k.length;let B;B=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+M):Math.max(0,this.lines.length-this.lines.maxLength+M);const F=[];for(let A=0;A<M;A++){const z=this.getBlankLine(_.DEFAULT_ATTR_DATA,!0);F.push(z)}F.length>0&&(S.push({start:E+k.length+C,newLines:F}),C+=F.length),k.push(...F);let $=D.length-1,W=D[$];W===0&&($--,W=D[$]);let j=k.length-M-1,P=N;for(;j>=0;){const A=Math.min(P,W);if(k[$]===void 0)break;if(k[$].copyCellsFrom(k[j],P-A,W-A,A,!0),W-=A,W===0&&($--,W=D[$]),P-=A,P===0){j--;const z=Math.max(j,0);P=(0,w.getWrappedLineTrimmedLength)(k,z,this._cols)}}for(let A=0;A<k.length;A++)D[A]<l&&k[A].setCell(D[A],y);let T=M-B;for(;T-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+M,this.ybase+d-1)}if(S.length>0){const E=[],x=[];for(let $=0;$<this.lines.length;$++)x.push(this.lines.get($));const k=this.lines.length;let L=k-1,N=0,D=S[N];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let M=0;for(let $=Math.min(this.lines.maxLength-1,k+C-1);$>=0;$--)if(D&&D.start>L+M){for(let W=D.newLines.length-1;W>=0;W--)this.lines.set($--,D.newLines[W]);$++,E.push({index:L+1,amount:D.newLines.length}),M+=D.newLines.length,D=S[++N]}else this.lines.set($,x[L--]);let B=0;for(let $=E.length-1;$>=0;$--)E[$].index+=B,this.lines.onInsertEmitter.fire(E[$]),B+=E[$].amount;const F=Math.max(0,k+C-this.lines.maxLength);F>0&&this.lines.onTrimEmitter.fire(F)}}translateBufferLineToString(l,d,y=0,S){const C=this.lines.get(l);return C?C.translateToString(d,y,S):""}getWrappedRangeForLine(l){let d=l,y=l;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:d,last:y}}setupTabStops(l){for(l!=null?this.tabs[l]||(l=this.prevStop(l)):(this.tabs={},l=0);l<this._cols;l+=this._optionsService.rawOptions.tabStopWidth)this.tabs[l]=!0}prevStop(l){for(l==null&&(l=this.x);!this.tabs[--l]&&l>0;);return l>=this._cols?this._cols-1:l<0?0:l}nextStop(l){for(l==null&&(l=this.x);!this.tabs[++l]&&l<this._cols;);return l>=this._cols?this._cols-1:l<0?0:l}clearMarkers(l){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===l&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let l=0;l<this.markers.length;l++)this.markers[l].dispose(),this.markers.splice(l--,1);this._isClearing=!1}addMarker(l){const d=new c.Marker(l);return this.markers.push(d),d.register(this.lines.onTrim(y=>{d.line-=y,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(y=>{d.line>=y.index&&(d.line+=y.amount)})),d.register(this.lines.onDelete(y=>{d.line>=y.index&&d.line<y.index+y.amount&&d.dispose(),d.line>y.index&&(d.line-=y.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(l){this._isClearing||this.markers.splice(this.markers.indexOf(l),1)}}},8437:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;const f=a(3734),v=a(511),m=a(643),_=a(482);n.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let w=0;class b{constructor(c,h,l=!1){this.isWrapped=l,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*c);const d=h||v.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]);for(let y=0;y<c;++y)this.setCell(y,d);this.length=c}get(c){const h=this._data[3*c+0],l=2097151&h;return[this._data[3*c+1],2097152&h?this._combined[c]:l?(0,_.stringFromCodePoint)(l):"",h>>22,2097152&h?this._combined[c].charCodeAt(this._combined[c].length-1):l]}set(c,h){this._data[3*c+1]=h[m.CHAR_DATA_ATTR_INDEX],h[m.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[c]=h[1],this._data[3*c+0]=2097152|c|h[m.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*c+0]=h[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|h[m.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(c){return this._data[3*c+0]>>22}hasWidth(c){return 12582912&this._data[3*c+0]}getFg(c){return this._data[3*c+1]}getBg(c){return this._data[3*c+2]}hasContent(c){return 4194303&this._data[3*c+0]}getCodePoint(c){const h=this._data[3*c+0];return 2097152&h?this._combined[c].charCodeAt(this._combined[c].length-1):2097151&h}isCombined(c){return 2097152&this._data[3*c+0]}getString(c){const h=this._data[3*c+0];return 2097152&h?this._combined[c]:2097151&h?(0,_.stringFromCodePoint)(2097151&h):""}isProtected(c){return 536870912&this._data[3*c+2]}loadCell(c,h){return w=3*c,h.content=this._data[w+0],h.fg=this._data[w+1],h.bg=this._data[w+2],2097152&h.content&&(h.combinedData=this._combined[c]),268435456&h.bg&&(h.extended=this._extendedAttrs[c]),h}setCell(c,h){2097152&h.content&&(this._combined[c]=h.combinedData),268435456&h.bg&&(this._extendedAttrs[c]=h.extended),this._data[3*c+0]=h.content,this._data[3*c+1]=h.fg,this._data[3*c+2]=h.bg}setCellFromCodePoint(c,h,l,d,y,S){268435456&y&&(this._extendedAttrs[c]=S),this._data[3*c+0]=h|l<<22,this._data[3*c+1]=d,this._data[3*c+2]=y}addCodepointToCell(c,h){let l=this._data[3*c+0];2097152&l?this._combined[c]+=(0,_.stringFromCodePoint)(h):(2097151&l?(this._combined[c]=(0,_.stringFromCodePoint)(2097151&l)+(0,_.stringFromCodePoint)(h),l&=-2097152,l|=2097152):l=h|4194304,this._data[3*c+0]=l)}insertCells(c,h,l,d){if((c%=this.length)&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs),h<this.length-c){const y=new v.CellData;for(let S=this.length-c-h-1;S>=0;--S)this.setCell(c+h+S,this.loadCell(c+S,y));for(let S=0;S<h;++S)this.setCell(c+S,l)}else for(let y=c;y<this.length;++y)this.setCell(y,l);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs)}deleteCells(c,h,l,d){if(c%=this.length,h<this.length-c){const y=new v.CellData;for(let S=0;S<this.length-c-h;++S)this.setCell(c+S,this.loadCell(c+h+S,y));for(let S=this.length-h;S<this.length;++S)this.setCell(S,l)}else for(let y=c;y<this.length;++y)this.setCell(y,l);c&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs),this.getWidth(c)!==0||this.hasContent(c)||this.setCellFromCodePoint(c,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs)}replaceCells(c,h,l,d,y=!1){if(y)for(c&&this.getWidth(c-1)===2&&!this.isProtected(c-1)&&this.setCellFromCodePoint(c-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs),h<this.length&&this.getWidth(h-1)===2&&!this.isProtected(h)&&this.setCellFromCodePoint(h,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs);c<h&&c<this.length;)this.isProtected(c)||this.setCell(c,l),c++;else for(c&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs),h<this.length&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new f.ExtendedAttrs);c<h&&c<this.length;)this.setCell(c++,l)}resize(c,h){if(c===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const l=3*c;if(c>this.length){if(this._data.buffer.byteLength>=4*l)this._data=new Uint32Array(this._data.buffer,0,l);else{const d=new Uint32Array(l);d.set(this._data),this._data=d}for(let d=this.length;d<c;++d)this.setCell(d,h)}else{this._data=this._data.subarray(0,l);const d=Object.keys(this._combined);for(let S=0;S<d.length;S++){const C=parseInt(d[S],10);C>=c&&delete this._combined[C]}const y=Object.keys(this._extendedAttrs);for(let S=0;S<y.length;S++){const C=parseInt(y[S],10);C>=c&&delete this._extendedAttrs[C]}}return this.length=c,4*l*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const c=new Uint32Array(this._data.length);return c.set(this._data),this._data=c,1}return 0}fill(c,h=!1){if(h)for(let l=0;l<this.length;++l)this.isProtected(l)||this.setCell(l,c);else{this._combined={},this._extendedAttrs={};for(let l=0;l<this.length;++l)this.setCell(l,c)}}copyFrom(c){this.length!==c.length?this._data=new Uint32Array(c._data):this._data.set(c._data),this.length=c.length,this._combined={};for(const h in c._combined)this._combined[h]=c._combined[h];this._extendedAttrs={};for(const h in c._extendedAttrs)this._extendedAttrs[h]=c._extendedAttrs[h];this.isWrapped=c.isWrapped}clone(){const c=new b(0);c._data=new Uint32Array(this._data),c.length=this.length;for(const h in this._combined)c._combined[h]=this._combined[h];for(const h in this._extendedAttrs)c._extendedAttrs[h]=this._extendedAttrs[h];return c.isWrapped=this.isWrapped,c}getTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0])return c+(this._data[3*c+0]>>22);return 0}getNoBgTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0]||50331648&this._data[3*c+2])return c+(this._data[3*c+0]>>22);return 0}copyCellsFrom(c,h,l,d,y){const S=c._data;if(y)for(let E=d-1;E>=0;E--){for(let x=0;x<3;x++)this._data[3*(l+E)+x]=S[3*(h+E)+x];268435456&S[3*(h+E)+2]&&(this._extendedAttrs[l+E]=c._extendedAttrs[h+E])}else for(let E=0;E<d;E++){for(let x=0;x<3;x++)this._data[3*(l+E)+x]=S[3*(h+E)+x];268435456&S[3*(h+E)+2]&&(this._extendedAttrs[l+E]=c._extendedAttrs[h+E])}const C=Object.keys(c._combined);for(let E=0;E<C.length;E++){const x=parseInt(C[E],10);x>=h&&(this._combined[x-h+l]=c._combined[x])}}translateToString(c=!1,h=0,l=this.length){c&&(l=Math.min(l,this.getTrimmedLength()));let d="";for(;h<l;){const y=this._data[3*h+0],S=2097151&y;d+=2097152&y?this._combined[h]:S?(0,_.stringFromCodePoint)(S):m.WHITESPACE_CELL_CHAR,h+=y>>22||1}return d}}n.BufferLine=b},4841:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(a,f){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return f*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(p,n)=>{function a(f,v,m){if(v===f.length-1)return f[v].getTrimmedLength();const _=!f[v].hasContent(m-1)&&f[v].getWidth(m-1)===1,w=f[v+1].getWidth(0)===2;return _&&w?m-1:m}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(f,v,m,_,w){const b=[];for(let g=0;g<f.length-1;g++){let c=g,h=f.get(++c);if(!h.isWrapped)continue;const l=[f.get(g)];for(;c<f.length&&h.isWrapped;)l.push(h),h=f.get(++c);if(_>=g&&_<c){g+=l.length-1;continue}let d=0,y=a(l,d,v),S=1,C=0;for(;S<l.length;){const x=a(l,S,v),k=x-C,L=m-y,N=Math.min(k,L);l[d].copyCellsFrom(l[S],C,y,N,!1),y+=N,y===m&&(d++,y=0),C+=N,C===x&&(S++,C=0),y===0&&d!==0&&l[d-1].getWidth(m-1)===2&&(l[d].copyCellsFrom(l[d-1],m-1,y++,1,!1),l[d-1].setCell(m-1,w))}l[d].replaceCells(y,m,w);let E=0;for(let x=l.length-1;x>0&&(x>d||l[x].getTrimmedLength()===0);x--)E++;E>0&&(b.push(g+l.length-E),b.push(E)),g+=l.length-1}return b},n.reflowLargerCreateNewLayout=function(f,v){const m=[];let _=0,w=v[_],b=0;for(let g=0;g<f.length;g++)if(w===g){const c=v[++_];f.onDeleteEmitter.fire({index:g-b,amount:c}),g+=c-1,b+=c,w=v[++_]}else m.push(g);return{layout:m,countRemoved:b}},n.reflowLargerApplyNewLayout=function(f,v){const m=[];for(let _=0;_<v.length;_++)m.push(f.get(v[_]));for(let _=0;_<m.length;_++)f.set(_,m[_]);f.length=v.length},n.reflowSmallerGetNewLineLengths=function(f,v,m){const _=[],w=f.map((h,l)=>a(f,l,v)).reduce((h,l)=>h+l);let b=0,g=0,c=0;for(;c<w;){if(w-c<m){_.push(w-c);break}b+=m;const h=a(f,g,v);b>h&&(b-=h,g++);const l=f[g].getWidth(b-1)===2;l&&b--;const d=l?m-1:m;_.push(d),c+=d}return _},n.getWrappedLineTrimmedLength=a},5295:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;const f=a(8460),v=a(844),m=a(9092);class _ extends v.Disposable{constructor(b,g){super(),this._optionsService=b,this._bufferService=g,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new m.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new m.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(b){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(b),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(b,g){this._normal.resize(b,g),this._alt.resize(b,g),this.setupTabStops(b)}setupTabStops(b){this._normal.setupTabStops(b),this._alt.setupTabStops(b)}}n.BufferSet=_},511:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;const f=a(482),v=a(643),m=a(3734);class _ extends m.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new m.ExtendedAttrs,this.combinedData=""}static fromCharData(b){const g=new _;return g.setFromCharData(b),g}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(b){this.fg=b[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let g=!1;if(b[v.CHAR_DATA_CHAR_INDEX].length>2)g=!0;else if(b[v.CHAR_DATA_CHAR_INDEX].length===2){const c=b[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=c&&c<=56319){const h=b[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=h&&h<=57343?this.content=1024*(c-55296)+h-56320+65536|b[v.CHAR_DATA_WIDTH_INDEX]<<22:g=!0}else g=!0}else this.content=b[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|b[v.CHAR_DATA_WIDTH_INDEX]<<22;g&&(this.combinedData=b[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|b[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.CellData=_},643:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_EXT=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=0,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.DEFAULT_EXT=0,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;const f=a(8460),v=a(844);class m{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=m._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}n.Marker=m,m._nextId=1},7116:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},n.CHARSETS.A={"#":""},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},n.CHARSETS.C=n.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.E=n.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},n.CHARSETS.H=n.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(p,n)=>{var a,f,v;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(m){m.NUL="\0",m.SOH="",m.STX="",m.ETX="",m.EOT="",m.ENQ="",m.ACK="",m.BEL="\x07",m.BS="\b",m.HT="	",m.LF=`
`,m.VT="\v",m.FF="\f",m.CR="\r",m.SO="",m.SI="",m.DLE="",m.DC1="",m.DC2="",m.DC3="",m.DC4="",m.NAK="",m.SYN="",m.ETB="",m.CAN="",m.EM="",m.SUB="",m.ESC="\x1B",m.FS="",m.GS="",m.RS="",m.US="",m.SP=" ",m.DEL=""}(a||(n.C0=a={})),function(m){m.PAD="",m.HOP="",m.BPH="",m.NBH="",m.IND="",m.NEL="",m.SSA="",m.ESA="",m.HTS="",m.HTJ="",m.VTS="",m.PLD="",m.PLU="",m.RI="",m.SS2="",m.SS3="",m.DCS="",m.PU1="",m.PU2="",m.STS="",m.CCH="",m.MW="",m.SPA="",m.EPA="",m.SOS="",m.SGCI="",m.SCI="",m.CSI="",m.ST="",m.OSC="",m.PM="",m.APC=""}(f||(n.C1=f={})),function(m){m.ST=`${a.ESC}\\`}(v||(n.C1_ESCAPED=v={}))},7399:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;const f=a(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(m,_,w,b){const g={type:0,cancel:!1,key:void 0},c=(m.shiftKey?1:0)|(m.altKey?2:0)|(m.ctrlKey?4:0)|(m.metaKey?8:0);switch(m.keyCode){case 0:m.key==="UIKeyInputUpArrow"?g.key=_?f.C0.ESC+"OA":f.C0.ESC+"[A":m.key==="UIKeyInputLeftArrow"?g.key=_?f.C0.ESC+"OD":f.C0.ESC+"[D":m.key==="UIKeyInputRightArrow"?g.key=_?f.C0.ESC+"OC":f.C0.ESC+"[C":m.key==="UIKeyInputDownArrow"&&(g.key=_?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:if(m.altKey){g.key=f.C0.ESC+f.C0.DEL;break}g.key=f.C0.DEL;break;case 9:if(m.shiftKey){g.key=f.C0.ESC+"[Z";break}g.key=f.C0.HT,g.cancel=!0;break;case 13:g.key=m.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,g.cancel=!0;break;case 27:g.key=f.C0.ESC,m.altKey&&(g.key=f.C0.ESC+f.C0.ESC),g.cancel=!0;break;case 37:if(m.metaKey)break;c?(g.key=f.C0.ESC+"[1;"+(c+1)+"D",g.key===f.C0.ESC+"[1;3D"&&(g.key=f.C0.ESC+(w?"b":"[1;5D"))):g.key=_?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(m.metaKey)break;c?(g.key=f.C0.ESC+"[1;"+(c+1)+"C",g.key===f.C0.ESC+"[1;3C"&&(g.key=f.C0.ESC+(w?"f":"[1;5C"))):g.key=_?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(m.metaKey)break;c?(g.key=f.C0.ESC+"[1;"+(c+1)+"A",w||g.key!==f.C0.ESC+"[1;3A"||(g.key=f.C0.ESC+"[1;5A")):g.key=_?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(m.metaKey)break;c?(g.key=f.C0.ESC+"[1;"+(c+1)+"B",w||g.key!==f.C0.ESC+"[1;3B"||(g.key=f.C0.ESC+"[1;5B")):g.key=_?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:m.shiftKey||m.ctrlKey||(g.key=f.C0.ESC+"[2~");break;case 46:g.key=c?f.C0.ESC+"[3;"+(c+1)+"~":f.C0.ESC+"[3~";break;case 36:g.key=c?f.C0.ESC+"[1;"+(c+1)+"H":_?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:g.key=c?f.C0.ESC+"[1;"+(c+1)+"F":_?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:m.shiftKey?g.type=2:m.ctrlKey?g.key=f.C0.ESC+"[5;"+(c+1)+"~":g.key=f.C0.ESC+"[5~";break;case 34:m.shiftKey?g.type=3:m.ctrlKey?g.key=f.C0.ESC+"[6;"+(c+1)+"~":g.key=f.C0.ESC+"[6~";break;case 112:g.key=c?f.C0.ESC+"[1;"+(c+1)+"P":f.C0.ESC+"OP";break;case 113:g.key=c?f.C0.ESC+"[1;"+(c+1)+"Q":f.C0.ESC+"OQ";break;case 114:g.key=c?f.C0.ESC+"[1;"+(c+1)+"R":f.C0.ESC+"OR";break;case 115:g.key=c?f.C0.ESC+"[1;"+(c+1)+"S":f.C0.ESC+"OS";break;case 116:g.key=c?f.C0.ESC+"[15;"+(c+1)+"~":f.C0.ESC+"[15~";break;case 117:g.key=c?f.C0.ESC+"[17;"+(c+1)+"~":f.C0.ESC+"[17~";break;case 118:g.key=c?f.C0.ESC+"[18;"+(c+1)+"~":f.C0.ESC+"[18~";break;case 119:g.key=c?f.C0.ESC+"[19;"+(c+1)+"~":f.C0.ESC+"[19~";break;case 120:g.key=c?f.C0.ESC+"[20;"+(c+1)+"~":f.C0.ESC+"[20~";break;case 121:g.key=c?f.C0.ESC+"[21;"+(c+1)+"~":f.C0.ESC+"[21~";break;case 122:g.key=c?f.C0.ESC+"[23;"+(c+1)+"~":f.C0.ESC+"[23~";break;case 123:g.key=c?f.C0.ESC+"[24;"+(c+1)+"~":f.C0.ESC+"[24~";break;default:if(!m.ctrlKey||m.shiftKey||m.altKey||m.metaKey)if(w&&!b||!m.altKey||m.metaKey)!w||m.altKey||m.ctrlKey||m.shiftKey||!m.metaKey?m.key&&!m.ctrlKey&&!m.altKey&&!m.metaKey&&m.keyCode>=48&&m.key.length===1?g.key=m.key:m.key&&m.ctrlKey&&(m.key==="_"&&(g.key=f.C0.US),m.key==="@"&&(g.key=f.C0.NUL)):m.keyCode===65&&(g.type=1);else{const h=v[m.keyCode],l=h==null?void 0:h[m.shiftKey?1:0];if(l)g.key=f.C0.ESC+l;else if(m.keyCode>=65&&m.keyCode<=90){const d=m.ctrlKey?m.keyCode-64:m.keyCode+32;let y=String.fromCharCode(d);m.shiftKey&&(y=y.toUpperCase()),g.key=f.C0.ESC+y}else if(m.keyCode===32)g.key=f.C0.ESC+(m.ctrlKey?f.C0.NUL:" ");else if(m.key==="Dead"&&m.code.startsWith("Key")){let d=m.code.slice(3,4);m.shiftKey||(d=d.toLowerCase()),g.key=f.C0.ESC+d,g.cancel=!0}}else m.keyCode>=65&&m.keyCode<=90?g.key=String.fromCharCode(m.keyCode-64):m.keyCode===32?g.key=f.C0.NUL:m.keyCode>=51&&m.keyCode<=55?g.key=String.fromCharCode(m.keyCode-51+27):m.keyCode===56?g.key=f.C0.DEL:m.keyCode===219?g.key=f.C0.ESC:m.keyCode===220?g.key=f.C0.FS:m.keyCode===221&&(g.key=f.C0.GS)}return g}},482:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},n.utf32ToString=function(a,f=0,v=a.length){let m="";for(let _=f;_<v;++_){let w=a[_];w>65535?(w-=65536,m+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):m+=String.fromCharCode(w)}return m},n.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,f){const v=a.length;if(!v)return 0;let m=0,_=0;if(this._interim){const w=a.charCodeAt(_++);56320<=w&&w<=57343?f[m++]=1024*(this._interim-55296)+w-56320+65536:(f[m++]=this._interim,f[m++]=w),this._interim=0}for(let w=_;w<v;++w){const b=a.charCodeAt(w);if(55296<=b&&b<=56319){if(++w>=v)return this._interim=b,m;const g=a.charCodeAt(w);56320<=g&&g<=57343?f[m++]=1024*(b-55296)+g-56320+65536:(f[m++]=b,f[m++]=g)}else b!==65279&&(f[m++]=b)}return m}},n.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,f){const v=a.length;if(!v)return 0;let m,_,w,b,g=0,c=0,h=0;if(this.interim[0]){let y=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let C,E=0;for(;(C=63&this.interim[++E])&&E<4;)S<<=6,S|=C;const x=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=x-E;for(;h<k;){if(h>=v)return 0;if(C=a[h++],(192&C)!=128){h--,y=!0;break}this.interim[E++]=C,S<<=6,S|=63&C}y||(x===2?S<128?h--:f[g++]=S:x===3?S<2048||S>=55296&&S<=57343||S===65279||(f[g++]=S):S<65536||S>1114111||(f[g++]=S)),this.interim.fill(0)}const l=v-4;let d=h;for(;d<v;){for(;!(!(d<l)||128&(m=a[d])||128&(_=a[d+1])||128&(w=a[d+2])||128&(b=a[d+3]));)f[g++]=m,f[g++]=_,f[g++]=w,f[g++]=b,d+=4;if(m=a[d++],m<128)f[g++]=m;else if((224&m)==192){if(d>=v)return this.interim[0]=m,g;if(_=a[d++],(192&_)!=128){d--;continue}if(c=(31&m)<<6|63&_,c<128){d--;continue}f[g++]=c}else if((240&m)==224){if(d>=v)return this.interim[0]=m,g;if(_=a[d++],(192&_)!=128){d--;continue}if(d>=v)return this.interim[0]=m,this.interim[1]=_,g;if(w=a[d++],(192&w)!=128){d--;continue}if(c=(15&m)<<12|(63&_)<<6|63&w,c<2048||c>=55296&&c<=57343||c===65279)continue;f[g++]=c}else if((248&m)==240){if(d>=v)return this.interim[0]=m,g;if(_=a[d++],(192&_)!=128){d--;continue}if(d>=v)return this.interim[0]=m,this.interim[1]=_,g;if(w=a[d++],(192&w)!=128){d--;continue}if(d>=v)return this.interim[0]=m,this.interim[1]=_,this.interim[2]=w,g;if(b=a[d++],(192&b)!=128){d--;continue}if(c=(7&m)<<18|(63&_)<<12|(63&w)<<6|63&b,c<65536||c>1114111)continue;f[g++]=c}}return g}}},225:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],f=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let v;n.UnicodeV6=class{constructor(){if(this.version="6",!v){v=new Uint8Array(65536),v.fill(1),v[0]=0,v.fill(0,1,32),v.fill(0,127,160),v.fill(2,4352,4448),v[9001]=2,v[9002]=2,v.fill(2,11904,42192),v[12351]=1,v.fill(2,44032,55204),v.fill(2,63744,64256),v.fill(2,65040,65050),v.fill(2,65072,65136),v.fill(2,65280,65377),v.fill(2,65504,65511);for(let m=0;m<a.length;++m)v.fill(0,a[m][0],a[m][1]+1)}}wcwidth(m){return m<32?0:m<127?1:m<65536?v[m]:function(_,w){let b,g=0,c=w.length-1;if(_<w[0][0]||_>w[c][1])return!1;for(;c>=g;)if(b=g+c>>1,_>w[b][1])g=b+1;else{if(!(_<w[b][0]))return!0;c=b-1}return!1}(m,f)?0:m>=131072&&m<=196605||m>=196608&&m<=262141?2:1}}},5981:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;const f=a(8460),v=a(844);class m extends v.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,b){if(b!==void 0&&this._syncCalls>b)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let g;for(this._isSyncWriting=!0;g=this._writeBuffer.shift();){this._action(g);const c=this._callbacks.shift();c&&c()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,b){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(b),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(b)}_innerWrite(w=0,b=!0){const g=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const c=this._writeBuffer[this._bufferOffset],h=this._action(c,b);if(h){const d=y=>Date.now()-g>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(g,y);return void h.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(d)}const l=this._callbacks[this._bufferOffset];if(l&&l(),this._bufferOffset++,this._pendingData-=c.length,Date.now()-g>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}n.WriteBuffer=m},5941:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function v(m,_){const w=m.toString(16),b=w.length<2?"0"+w:w;switch(_){case 4:return w[0];case 8:return b;case 12:return(b+b).slice(0,3);default:return b+b}}n.parseColor=function(m){if(!m)return;let _=m.toLowerCase();if(_.indexOf("rgb:")===0){_=_.slice(4);const w=a.exec(_);if(w){const b=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/b*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/b*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/b*255)]}}else if(_.indexOf("#")===0&&(_=_.slice(1),f.exec(_)&&[3,6,9,12].includes(_.length))){const w=_.length/3,b=[0,0,0];for(let g=0;g<3;++g){const c=parseInt(_.slice(w*g,w*g+w),16);b[g]=w===1?c<<4:w===2?c:w===3?c>>4:c>>8}return b}},n.toRgbString=function(m,_=16){const[w,b,g]=m;return`rgb:${v(w,_)}/${v(b,_)}/${v(g,_)}`}},5770:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;const f=a(482),v=a(8742),m=a(5770),_=[];n.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=_,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=_}registerHandler(b,g){this._handlers[b]===void 0&&(this._handlers[b]=[]);const c=this._handlers[b];return c.push(g),{dispose:()=>{const h=c.indexOf(g);h!==-1&&c.splice(h,1)}}}clearHandler(b){this._handlers[b]&&delete this._handlers[b]}setHandlerFallback(b){this._handlerFb=b}reset(){if(this._active.length)for(let b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].unhook(!1);this._stack.paused=!1,this._active=_,this._ident=0}hook(b,g){if(this.reset(),this._ident=b,this._active=this._handlers[b]||_,this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].hook(g);else this._handlerFb(this._ident,"HOOK",g)}put(b,g,c){if(this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].put(b,g,c);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(b,g,c))}unhook(b,g=!0){if(this._active.length){let c=!1,h=this._active.length-1,l=!1;if(this._stack.paused&&(h=this._stack.loopPosition-1,c=g,l=this._stack.fallThrough,this._stack.paused=!1),!l&&c===!1){for(;h>=0&&(c=this._active[h].unhook(b),c!==!0);h--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!1,c;h--}for(;h>=0;h--)if(c=this._active[h].unhook(!1),c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!0,c}else this._handlerFb(this._ident,"UNHOOK",b);this._active=_,this._ident=0}};const w=new v.Params;w.addParam(0),n.DcsHandler=class{constructor(b){this._handler=b,this._data="",this._params=w,this._hitLimit=!1}hook(b){this._params=b.length>1||b.params[0]?b.clone():w,this._data="",this._hitLimit=!1}put(b,g,c){this._hitLimit||(this._data+=(0,f.utf32ToString)(b,g,c),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(b){let g=!1;if(this._hitLimit)g=!1;else if(b&&(g=this._handler(this._data,this._params),g instanceof Promise))return g.then(c=>(this._params=w,this._data="",this._hitLimit=!1,c));return this._params=w,this._data="",this._hitLimit=!1,g}}},2015:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;const f=a(844),v=a(8742),m=a(6242),_=a(6351);class w{constructor(h){this.table=new Uint8Array(h)}setDefault(h,l){this.table.fill(h<<4|l)}add(h,l,d,y){this.table[l<<8|h]=d<<4|y}addMany(h,l,d,y){for(let S=0;S<h.length;S++)this.table[l<<8|h[S]]=d<<4|y}}n.TransitionTable=w;const b=160;n.VT500_TRANSITION_TABLE=function(){const c=new w(4095),h=Array.apply(null,Array(256)).map((E,x)=>x),l=(E,x)=>h.slice(E,x),d=l(32,127),y=l(0,24);y.push(25),y.push.apply(y,l(28,32));const S=l(0,14);let C;for(C in c.setDefault(1,0),c.addMany(d,0,2,0),S)c.addMany([24,26,153,154],C,3,0),c.addMany(l(128,144),C,3,0),c.addMany(l(144,152),C,3,0),c.add(156,C,0,0),c.add(27,C,11,1),c.add(157,C,4,8),c.addMany([152,158,159],C,0,7),c.add(155,C,11,3),c.add(144,C,11,9);return c.addMany(y,0,3,0),c.addMany(y,1,3,1),c.add(127,1,0,1),c.addMany(y,8,0,8),c.addMany(y,3,3,3),c.add(127,3,0,3),c.addMany(y,4,3,4),c.add(127,4,0,4),c.addMany(y,6,3,6),c.addMany(y,5,3,5),c.add(127,5,0,5),c.addMany(y,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(d,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(l(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(d,7,0,7),c.addMany(y,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(l(64,127),3,7,0),c.addMany(l(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(l(48,60),4,8,4),c.addMany(l(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(l(32,64),6,0,6),c.add(127,6,0,6),c.addMany(l(64,127),6,0,0),c.addMany(l(32,48),3,9,5),c.addMany(l(32,48),5,9,5),c.addMany(l(48,64),5,0,6),c.addMany(l(64,127),5,7,0),c.addMany(l(32,48),4,9,5),c.addMany(l(32,48),1,9,2),c.addMany(l(32,48),2,9,2),c.addMany(l(48,127),2,10,0),c.addMany(l(48,80),1,10,0),c.addMany(l(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(l(96,127),1,10,0),c.add(80,1,11,9),c.addMany(y,9,0,9),c.add(127,9,0,9),c.addMany(l(28,32),9,0,9),c.addMany(l(32,48),9,9,12),c.addMany(l(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(y,11,0,11),c.addMany(l(32,128),11,0,11),c.addMany(l(28,32),11,0,11),c.addMany(y,10,0,10),c.add(127,10,0,10),c.addMany(l(28,32),10,0,10),c.addMany(l(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(l(32,48),10,9,12),c.addMany(y,12,0,12),c.add(127,12,0,12),c.addMany(l(28,32),12,0,12),c.addMany(l(32,48),12,9,12),c.addMany(l(48,64),12,0,11),c.addMany(l(64,127),12,12,13),c.addMany(l(64,127),10,12,13),c.addMany(l(64,127),9,12,13),c.addMany(y,13,13,13),c.addMany(d,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(b,0,2,0),c.add(b,8,5,8),c.add(b,6,0,6),c.add(b,11,0,11),c.add(b,13,13,13),c}();class g extends f.Disposable{constructor(h=n.VT500_TRANSITION_TABLE){super(),this._transitions=h,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(l,d,y)=>{},this._executeHandlerFb=l=>{},this._csiHandlerFb=(l,d)=>{},this._escHandlerFb=l=>{},this._errorHandlerFb=l=>l,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new m.OscParser),this._dcsParser=this.register(new _.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(h,l=[64,126]){let d=0;if(h.prefix){if(h.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=h.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(h.intermediates){if(h.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<h.intermediates.length;++S){const C=h.intermediates.charCodeAt(S);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=C}}if(h.final.length!==1)throw new Error("final must be a single byte");const y=h.final.charCodeAt(0);if(l[0]>y||y>l[1])throw new Error(`final must be in range ${l[0]} .. ${l[1]}`);return d<<=8,d|=y,d}identToString(h){const l=[];for(;h;)l.push(String.fromCharCode(255&h)),h>>=8;return l.reverse().join("")}setPrintHandler(h){this._printHandler=h}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(h,l){const d=this._identifier(h,[48,126]);this._escHandlers[d]===void 0&&(this._escHandlers[d]=[]);const y=this._escHandlers[d];return y.push(l),{dispose:()=>{const S=y.indexOf(l);S!==-1&&y.splice(S,1)}}}clearEscHandler(h){this._escHandlers[this._identifier(h,[48,126])]&&delete this._escHandlers[this._identifier(h,[48,126])]}setEscHandlerFallback(h){this._escHandlerFb=h}setExecuteHandler(h,l){this._executeHandlers[h.charCodeAt(0)]=l}clearExecuteHandler(h){this._executeHandlers[h.charCodeAt(0)]&&delete this._executeHandlers[h.charCodeAt(0)]}setExecuteHandlerFallback(h){this._executeHandlerFb=h}registerCsiHandler(h,l){const d=this._identifier(h);this._csiHandlers[d]===void 0&&(this._csiHandlers[d]=[]);const y=this._csiHandlers[d];return y.push(l),{dispose:()=>{const S=y.indexOf(l);S!==-1&&y.splice(S,1)}}}clearCsiHandler(h){this._csiHandlers[this._identifier(h)]&&delete this._csiHandlers[this._identifier(h)]}setCsiHandlerFallback(h){this._csiHandlerFb=h}registerDcsHandler(h,l){return this._dcsParser.registerHandler(this._identifier(h),l)}clearDcsHandler(h){this._dcsParser.clearHandler(this._identifier(h))}setDcsHandlerFallback(h){this._dcsParser.setHandlerFallback(h)}registerOscHandler(h,l){return this._oscParser.registerHandler(h,l)}clearOscHandler(h){this._oscParser.clearHandler(h)}setOscHandlerFallback(h){this._oscParser.setHandlerFallback(h)}setErrorHandler(h){this._errorHandler=h}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(h,l,d,y,S){this._parseStack.state=h,this._parseStack.handlers=l,this._parseStack.handlerPos=d,this._parseStack.transition=y,this._parseStack.chunkPos=S}parse(h,l,d){let y,S=0,C=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(d===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const x=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(d===!1&&k>-1){for(;k>=0&&(y=x[k](this._params),y!==!0);k--)if(y instanceof Promise)return this._parseStack.handlerPos=k,y}this._parseStack.handlers=[];break;case 4:if(d===!1&&k>-1){for(;k>=0&&(y=x[k](),y!==!0);k--)if(y instanceof Promise)return this._parseStack.handlerPos=k,y}this._parseStack.handlers=[];break;case 6:if(S=h[this._parseStack.chunkPos],y=this._dcsParser.unhook(S!==24&&S!==26,d),y)return y;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=h[this._parseStack.chunkPos],y=this._oscParser.end(S!==24&&S!==26,d),y)return y;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let x=E;x<l;++x){switch(S=h[x],C=this._transitions.table[this.currentState<<8|(S<160?S:b)],C>>4){case 2:for(let M=x+1;;++M){if(M>=l||(S=h[M])<32||S>126&&S<b){this._printHandler(h,x,M),x=M-1;break}if(++M>=l||(S=h[M])<32||S>126&&S<b){this._printHandler(h,x,M),x=M-1;break}if(++M>=l||(S=h[M])<32||S>126&&S<b){this._printHandler(h,x,M),x=M-1;break}if(++M>=l||(S=h[M])<32||S>126&&S<b){this._printHandler(h,x,M),x=M-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:x,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|S];let L=k?k.length-1:-1;for(;L>=0&&(y=k[L](this._params),y!==!0);L--)if(y instanceof Promise)return this._preserveStack(3,k,L,C,x),y;L<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++x<l&&(S=h[x])>47&&S<60);x--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const N=this._escHandlers[this._collect<<8|S];let D=N?N.length-1:-1;for(;D>=0&&(y=N[D](),y!==!0);D--)if(y instanceof Promise)return this._preserveStack(4,N,D,C,x),y;D<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let M=x+1;;++M)if(M>=l||(S=h[M])===24||S===26||S===27||S>127&&S<b){this._dcsParser.put(h,x,M),x=M-1;break}break;case 14:if(y=this._dcsParser.unhook(S!==24&&S!==26),y)return this._preserveStack(6,[],0,C,x),y;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let M=x+1;;M++)if(M>=l||(S=h[M])<32||S>127&&S<b){this._oscParser.put(h,x,M),x=M-1;break}break;case 6:if(y=this._oscParser.end(S!==24&&S!==26),y)return this._preserveStack(5,[],0,C,x),y;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}n.EscapeSequenceParser=g},6242:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;const f=a(5770),v=a(482),m=[];n.OscParser=class{constructor(){this._state=0,this._active=m,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(_,w){this._handlers[_]===void 0&&(this._handlers[_]=[]);const b=this._handlers[_];return b.push(w),{dispose:()=>{const g=b.indexOf(w);g!==-1&&b.splice(g,1)}}}clearHandler(_){this._handlers[_]&&delete this._handlers[_]}setHandlerFallback(_){this._handlerFb=_}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}reset(){if(this._state===2)for(let _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].end(!1);this._stack.paused=!1,this._active=m,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||m,this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].start();else this._handlerFb(this._id,"START")}_put(_,w,b){if(this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].put(_,w,b);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(_,w,b))}start(){this.reset(),this._state=1}put(_,w,b){if(this._state!==3){if(this._state===1)for(;w<b;){const g=_[w++];if(g===59){this._state=2,this._start();break}if(g<48||57<g)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+g-48}this._state===2&&b-w>0&&this._put(_,w,b)}}end(_,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let b=!1,g=this._active.length-1,c=!1;if(this._stack.paused&&(g=this._stack.loopPosition-1,b=w,c=this._stack.fallThrough,this._stack.paused=!1),!c&&b===!1){for(;g>=0&&(b=this._active[g].end(_),b!==!0);g--)if(b instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!1,b;g--}for(;g>=0;g--)if(b=this._active[g].end(!1),b instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!0,b}else this._handlerFb(this._id,"END",_);this._active=m,this._id=-1,this._state=0}}},n.OscHandler=class{constructor(_){this._handler=_,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(_,w,b){this._hitLimit||(this._data+=(0,v.utf32ToString)(_,w,b),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(_){let w=!1;if(this._hitLimit)w=!1;else if(_&&(w=this._handler(this._data),w instanceof Promise))return w.then(b=>(this._data="",this._hitLimit=!1,b));return this._data="",this._hitLimit=!1,w}}},8742:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;const a=2147483647;class f{static fromArray(m){const _=new f;if(!m.length)return _;for(let w=Array.isArray(m[0])?1:0;w<m.length;++w){const b=m[w];if(Array.isArray(b))for(let g=0;g<b.length;++g)_.addSubParam(b[g]);else _.addParam(b)}return _}constructor(m=32,_=32){if(this.maxLength=m,this.maxSubParamsLength=_,_>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(m),this.length=0,this._subParams=new Int32Array(_),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(m),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const m=new f(this.maxLength,this.maxSubParamsLength);return m.params.set(this.params),m.length=this.length,m._subParams.set(this._subParams),m._subParamsLength=this._subParamsLength,m._subParamsIdx.set(this._subParamsIdx),m._rejectDigits=this._rejectDigits,m._rejectSubDigits=this._rejectSubDigits,m._digitIsSub=this._digitIsSub,m}toArray(){const m=[];for(let _=0;_<this.length;++_){m.push(this.params[_]);const w=this._subParamsIdx[_]>>8,b=255&this._subParamsIdx[_];b-w>0&&m.push(Array.prototype.slice.call(this._subParams,w,b))}return m}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(m){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=m>a?a:m}}addSubParam(m){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=m>a?a:m,this._subParamsIdx[this.length-1]++}}hasSubParams(m){return(255&this._subParamsIdx[m])-(this._subParamsIdx[m]>>8)>0}getSubParams(m){const _=this._subParamsIdx[m]>>8,w=255&this._subParamsIdx[m];return w-_>0?this._subParams.subarray(_,w):null}getSubParamsAll(){const m={};for(let _=0;_<this.length;++_){const w=this._subParamsIdx[_]>>8,b=255&this._subParamsIdx[_];b-w>0&&(m[_]=this._subParams.slice(w,b))}return m}addDigit(m){let _;if(this._rejectDigits||!(_=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,b=w[_-1];w[_-1]=~b?Math.min(10*b+m,a):m}}n.Params=f},5741:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0,n.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,f){const v={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(v),f.dispose=()=>this._wrappedAddonDispose(v),f.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let f=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===a){f=v;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(f,1)}}},8771:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;const f=a(3785),v=a(511);n.BufferApiView=class{constructor(m,_){this._buffer=m,this.type=_}init(m){return this._buffer=m,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(m){const _=this._buffer.lines.get(m);if(_)return new f.BufferLineApiView(_)}getNullCell(){return new v.CellData}}},3785:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;const f=a(511);n.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,m){if(!(v<0||v>=this._line.length))return m?(this._line.loadCell(v,m),m):this._line.loadCell(v,new f.CellData)}translateToString(v,m,_){return this._line.translateToString(v,m,_)}}},8285:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;const f=a(8771),v=a(8460),m=a(844);class _ extends m.Disposable{constructor(b){super(),this._core=b,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}n.BufferNamespaceApi=_},7975:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0,n.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,f){return this._core.registerCsiHandler(a,v=>f(v.toArray()))}addCsiHandler(a,f){return this.registerCsiHandler(a,f)}registerDcsHandler(a,f){return this._core.registerDcsHandler(a,(v,m)=>f(v,m.toArray()))}addDcsHandler(a,f){return this.registerDcsHandler(a,f)}registerEscHandler(a,f){return this._core.registerEscHandler(a,f)}addEscHandler(a,f){return this.registerEscHandler(a,f)}registerOscHandler(a,f){return this._core.registerOscHandler(a,f)}addOscHandler(a,f){return this.registerOscHandler(a,f)}}},7090:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0,n.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(p,n,a){var f=this&&this.__decorate||function(c,h,l,d){var y,S=arguments.length,C=S<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,l):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,h,l,d);else for(var E=c.length-1;E>=0;E--)(y=c[E])&&(C=(S<3?y(C):S>3?y(h,l,C):y(h,l))||C);return S>3&&C&&Object.defineProperty(h,l,C),C},v=this&&this.__param||function(c,h){return function(l,d){h(l,d,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;const m=a(8460),_=a(844),w=a(5295),b=a(2585);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;let g=n.BufferService=class extends _.Disposable{get buffer(){return this.buffers.active}constructor(c){super(),this.isUserScrolling=!1,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new m.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(c.rawOptions.cols||0,n.MINIMUM_COLS),this.rows=Math.max(c.rawOptions.rows||0,n.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(c,this))}resize(c,h){this.cols=c,this.rows=h,this.buffers.resize(c,h),this._onResize.fire({cols:c,rows:h})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(c,h=!1){const l=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===c.fg&&d.getBg(0)===c.bg||(d=l.getBlankLine(c,h),this._cachedBlankLine=d),d.isWrapped=h;const y=l.ybase+l.scrollTop,S=l.ybase+l.scrollBottom;if(l.scrollTop===0){const C=l.lines.isFull;S===l.lines.length-1?C?l.lines.recycle().copyFrom(d):l.lines.push(d.clone()):l.lines.splice(S+1,0,d.clone()),C?this.isUserScrolling&&(l.ydisp=Math.max(l.ydisp-1,0)):(l.ybase++,this.isUserScrolling||l.ydisp++)}else{const C=S-y+1;l.lines.shiftElements(y+1,C-1,-1),l.lines.set(S,d.clone())}this.isUserScrolling||(l.ydisp=l.ybase),this._onScroll.fire(l.ydisp)}scrollLines(c,h,l){const d=this.buffer;if(c<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else c+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const y=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+c,d.ybase),0),y!==d.ydisp&&(h||this._onScroll.fire(d.ydisp))}};n.BufferService=g=f([v(0,b.IOptionsService)],g)},7994:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0,n.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,f){this._charsets[a]=f,this.glevel===a&&(this.charset=f)}}},1753:function(p,n,a){var f=this&&this.__decorate||function(d,y,S,C){var E,x=arguments.length,k=x<3?y:C===null?C=Object.getOwnPropertyDescriptor(y,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(d,y,S,C);else for(var L=d.length-1;L>=0;L--)(E=d[L])&&(k=(x<3?E(k):x>3?E(y,S,k):E(y,S))||k);return x>3&&k&&Object.defineProperty(y,S,k),k},v=this&&this.__param||function(d,y){return function(S,C){y(S,C,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;const m=a(2585),_=a(8460),w=a(844),b={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>d.button!==4&&d.action===1&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>d.action!==32},DRAG:{events:23,restrict:d=>d.action!==32||d.button!==3},ANY:{events:31,restrict:d=>!0}};function g(d,y){let S=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return d.button===4?(S|=64,S|=d.action):(S|=3&d.button,4&d.button&&(S|=64),8&d.button&&(S|=128),d.action===32?S|=32:d.action!==0||y||(S|=3)),S}const c=String.fromCharCode,h={DEFAULT:d=>{const y=[g(d,!1)+32,d.col+32,d.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${c(y[0])}${c(y[1])}${c(y[2])}`},SGR:d=>{const y=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${g(d,!0)};${d.col};${d.row}${y}`},SGR_PIXELS:d=>{const y=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${g(d,!0)};${d.x};${d.y}${y}`}};let l=n.CoreMouseService=class extends w.Disposable{constructor(d,y){super(),this._bufferService=d,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new _.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(b))this.addProtocol(S,b[S]);for(const S of Object.keys(h))this.addEncoding(S,h[S]);this.reset()}addProtocol(d,y){this._protocols[d]=y}addEncoding(d,y){this._encodings[d]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||d.button===4&&d.action===32||d.button===3&&d.action!==32||d.button!==4&&(d.action===2||d.action===3)||(d.col++,d.row++,d.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,d,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(d))return!1;const y=this._encodings[this._activeEncoding](d);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,y,S){if(S){if(d.x!==y.x||d.y!==y.y)return!1}else if(d.col!==y.col||d.row!==y.row)return!1;return d.button===y.button&&d.action===y.action&&d.ctrl===y.ctrl&&d.alt===y.alt&&d.shift===y.shift}};n.CoreMouseService=l=f([v(0,m.IBufferService),v(1,m.ICoreService)],l)},6975:function(p,n,a){var f=this&&this.__decorate||function(l,d,y,S){var C,E=arguments.length,x=E<3?d:S===null?S=Object.getOwnPropertyDescriptor(d,y):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,d,y,S);else for(var k=l.length-1;k>=0;k--)(C=l[k])&&(x=(E<3?C(x):E>3?C(d,y,x):C(d,y))||x);return E>3&&x&&Object.defineProperty(d,y,x),x},v=this&&this.__param||function(l,d){return function(y,S){d(y,S,l)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;const m=a(1439),_=a(8460),w=a(844),b=a(2585),g=Object.freeze({insertMode:!1}),c=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let h=n.CoreService=class extends w.Disposable{constructor(l,d,y){super(),this._bufferService=l,this._logService=d,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new _.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new _.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new _.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new _.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,m.clone)(g),this.decPrivateModes=(0,m.clone)(c)}reset(){this.modes=(0,m.clone)(g),this.decPrivateModes=(0,m.clone)(c)}triggerDataEvent(l,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${l}"`,()=>l.split("").map(S=>S.charCodeAt(0))),this._onData.fire(l)}triggerBinaryEvent(l){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${l}"`,()=>l.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(l))}};n.CoreService=h=f([v(0,b.IBufferService),v(1,b.ILogService),v(2,b.IOptionsService)],h)},9074:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;const f=a(8055),v=a(8460),m=a(844),_=a(6106);let w=0,b=0;class g extends m.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new _.SortedList(l=>l==null?void 0:l.marker.line),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,m.toDisposable)(()=>this.reset()))}registerDecoration(l){if(l.marker.isDisposed)return;const d=new c(l);if(d){const y=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),y.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const l of this._decorations.values())l.dispose();this._decorations.clear()}*getDecorationsAtCell(l,d,y){var S,C,E;let x=0,k=0;for(const L of this._decorations.getKeyIterator(d))x=(S=L.options.x)!==null&&S!==void 0?S:0,k=x+((C=L.options.width)!==null&&C!==void 0?C:1),l>=x&&l<k&&(!y||((E=L.options.layer)!==null&&E!==void 0?E:"bottom")===y)&&(yield L)}forEachDecorationAtCell(l,d,y,S){this._decorations.forEachByKey(d,C=>{var E,x,k;w=(E=C.options.x)!==null&&E!==void 0?E:0,b=w+((x=C.options.width)!==null&&x!==void 0?x:1),l>=w&&l<b&&(!y||((k=C.options.layer)!==null&&k!==void 0?k:"bottom")===y)&&S(C)})}}n.DecorationService=g;class c extends m.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(l){super(),this.options=l,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=l.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;const f=a(2585),v=a(8343);class m{constructor(...w){this._entries=new Map;for(const[b,g]of w)this.set(b,g)}set(w,b){const g=this._entries.get(w);return this._entries.set(w,b),g}forEach(w){for(const[b,g]of this._entries.entries())w(b,g)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}n.ServiceCollection=m,n.InstantiationService=class{constructor(){this._services=new m,this._services.set(f.IInstantiationService,this)}setService(_,w){this._services.set(_,w)}getService(_){return this._services.get(_)}createInstance(_,...w){const b=(0,v.getServiceDependencies)(_).sort((h,l)=>h.index-l.index),g=[];for(const h of b){const l=this._services.get(h.id);if(!l)throw new Error(`[createInstance] ${_.name} depends on UNKNOWN service ${h.id}.`);g.push(l)}const c=b.length>0?b[0].index:w.length;if(w.length!==c)throw new Error(`[createInstance] First service dependency of ${_.name} at position ${c+1} conflicts with ${w.length} static arguments`);return new _(...w,...g)}}},7866:function(p,n,a){var f=this&&this.__decorate||function(c,h,l,d){var y,S=arguments.length,C=S<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,l):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(c,h,l,d);else for(var E=c.length-1;E>=0;E--)(y=c[E])&&(C=(S<3?y(C):S>3?y(h,l,C):y(h,l))||C);return S>3&&C&&Object.defineProperty(h,l,C),C},v=this&&this.__param||function(c,h){return function(l,d){h(l,d,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.traceCall=n.setTraceLogger=n.LogService=void 0;const m=a(844),_=a(2585),w={trace:_.LogLevelEnum.TRACE,debug:_.LogLevelEnum.DEBUG,info:_.LogLevelEnum.INFO,warn:_.LogLevelEnum.WARN,error:_.LogLevelEnum.ERROR,off:_.LogLevelEnum.OFF};let b,g=n.LogService=class extends m.Disposable{get logLevel(){return this._logLevel}constructor(c){super(),this._optionsService=c,this._logLevel=_.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),b=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(c){for(let h=0;h<c.length;h++)typeof c[h]=="function"&&(c[h]=c[h]())}_log(c,h,l){this._evalLazyOptionalParams(l),c.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+h,...l)}trace(c,...h){var l,d;this._logLevel<=_.LogLevelEnum.TRACE&&this._log((d=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.trace.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,c,h)}debug(c,...h){var l,d;this._logLevel<=_.LogLevelEnum.DEBUG&&this._log((d=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.debug.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,c,h)}info(c,...h){var l,d;this._logLevel<=_.LogLevelEnum.INFO&&this._log((d=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.info.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.info,c,h)}warn(c,...h){var l,d;this._logLevel<=_.LogLevelEnum.WARN&&this._log((d=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.warn.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.warn,c,h)}error(c,...h){var l,d;this._logLevel<=_.LogLevelEnum.ERROR&&this._log((d=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.error.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.error,c,h)}};n.LogService=g=f([v(0,_.IOptionsService)],g),n.setTraceLogger=function(c){b=c},n.traceCall=function(c,h,l){if(typeof l.value!="function")throw new Error("not supported");const d=l.value;l.value=function(...y){if(b.logLevel!==_.LogLevelEnum.TRACE)return d.apply(this,y);b.trace(`GlyphRenderer#${d.name}(${y.map(C=>JSON.stringify(C)).join(", ")})`);const S=d.apply(this,y);return b.trace(`GlyphRenderer#${d.name} return`,S),S}}},7302:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=void 0;const f=a(8460),v=a(844),m=a(6114);n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:m.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const _=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends v.Disposable{constructor(g){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const c=Object.assign({},n.DEFAULT_OPTIONS);for(const h in g)if(h in c)try{const l=g[h];c[h]=this._sanitizeAndValidateOption(h,l)}catch(l){console.error(l)}this.rawOptions=c,this.options=Object.assign({},c),this._setupOptions()}onSpecificOptionChange(g,c){return this.onOptionChange(h=>{h===g&&c(this.rawOptions[g])})}onMultipleOptionChange(g,c){return this.onOptionChange(h=>{g.indexOf(h)!==-1&&c()})}_setupOptions(){const g=h=>{if(!(h in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${h}"`);return this.rawOptions[h]},c=(h,l)=>{if(!(h in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${h}"`);l=this._sanitizeAndValidateOption(h,l),this.rawOptions[h]!==l&&(this.rawOptions[h]=l,this._onOptionChange.fire(h))};for(const h in this.rawOptions){const l={get:g.bind(this,h),set:c.bind(this,h)};Object.defineProperty(this.options,h,l)}}_sanitizeAndValidateOption(g,c){switch(g){case"cursorStyle":if(c||(c=n.DEFAULT_OPTIONS[g]),!function(h){return h==="block"||h==="underline"||h==="bar"}(c))throw new Error(`"${c}" is not a valid value for ${g}`);break;case"wordSeparator":c||(c=n.DEFAULT_OPTIONS[g]);break;case"fontWeight":case"fontWeightBold":if(typeof c=="number"&&1<=c&&c<=1e3)break;c=_.includes(c)?c:n.DEFAULT_OPTIONS[g];break;case"cursorWidth":c=Math.floor(c);case"lineHeight":case"tabStopWidth":if(c<1)throw new Error(`${g} cannot be less than 1, value: ${c}`);break;case"minimumContrastRatio":c=Math.max(1,Math.min(21,Math.round(10*c)/10));break;case"scrollback":if((c=Math.min(c,4294967295))<0)throw new Error(`${g} cannot be less than 0, value: ${c}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(c<=0)throw new Error(`${g} cannot be less than or equal to 0, value: ${c}`);break;case"rows":case"cols":if(!c&&c!==0)throw new Error(`${g} must be numeric, value: ${c}`);break;case"windowsPty":c=c??{}}return c}}n.OptionsService=w},2660:function(p,n,a){var f=this&&this.__decorate||function(w,b,g,c){var h,l=arguments.length,d=l<3?b:c===null?c=Object.getOwnPropertyDescriptor(b,g):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(w,b,g,c);else for(var y=w.length-1;y>=0;y--)(h=w[y])&&(d=(l<3?h(d):l>3?h(b,g,d):h(b,g))||d);return l>3&&d&&Object.defineProperty(b,g,d),d},v=this&&this.__param||function(w,b){return function(g,c){b(g,c,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkService=void 0;const m=a(2585);let _=n.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const b=this._bufferService.buffer;if(w.id===void 0){const y=b.addMarker(b.ybase+b.y),S={data:w,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(S,y)),this._dataByLinkId.set(S.id,S),S.id}const g=w,c=this._getEntryIdKey(g),h=this._entriesWithId.get(c);if(h)return this.addLineToLink(h.id,b.ybase+b.y),h.id;const l=b.addMarker(b.ybase+b.y),d={id:this._nextId++,key:this._getEntryIdKey(g),data:g,lines:[l]};return l.onDispose(()=>this._removeMarkerFromLink(d,l)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(w,b){const g=this._dataByLinkId.get(w);if(g&&g.lines.every(c=>c.line!==b)){const c=this._bufferService.buffer.addMarker(b);g.lines.push(c),c.onDispose(()=>this._removeMarkerFromLink(g,c))}}getLinkData(w){var b;return(b=this._dataByLinkId.get(w))===null||b===void 0?void 0:b.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,b){const g=w.lines.indexOf(b);g!==-1&&(w.lines.splice(g,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};n.OscLinkService=_=f([v(0,m.IBufferService)],_)},8343:(p,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0;const a="di$target",f="di$dependencies";n.serviceRegistry=new Map,n.getServiceDependencies=function(v){return v[f]||[]},n.createDecorator=function(v){if(n.serviceRegistry.has(v))return n.serviceRegistry.get(v);const m=function(_,w,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(g,c,h){c[a]===c?c[f].push({id:g,index:h}):(c[f]=[{id:g,index:h}],c[a]=c)})(m,_,b)};return m.toString=()=>v,n.serviceRegistry.set(v,m),m}},2585:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOscLinkService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;const f=a(8343);var v;n.IBufferService=(0,f.createDecorator)("BufferService"),n.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),n.ICoreService=(0,f.createDecorator)("CoreService"),n.ICharsetService=(0,f.createDecorator)("CharsetService"),n.IInstantiationService=(0,f.createDecorator)("InstantiationService"),function(m){m[m.TRACE=0]="TRACE",m[m.DEBUG=1]="DEBUG",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.OFF=5]="OFF"}(v||(n.LogLevelEnum=v={})),n.ILogService=(0,f.createDecorator)("LogService"),n.IOptionsService=(0,f.createDecorator)("OptionsService"),n.IOscLinkService=(0,f.createDecorator)("OscLinkService"),n.IUnicodeService=(0,f.createDecorator)("UnicodeService"),n.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(p,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;const f=a(8460),v=a(225);n.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const m=new v.UnicodeV6;this.register(m),this._active=m.version,this._activeProvider=m}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(m){if(!this._providers[m])throw new Error(`unknown Unicode version "${m}"`);this._active=m,this._activeProvider=this._providers[m],this._onChange.fire(m)}register(m){this._providers[m.version]=m}wcwidth(m){return this._activeProvider.wcwidth(m)}getStringCellWidth(m){let _=0;const w=m.length;for(let b=0;b<w;++b){let g=m.charCodeAt(b);if(55296<=g&&g<=56319){if(++b>=w)return _+this.wcwidth(g);const c=m.charCodeAt(b);56320<=c&&c<=57343?g=1024*(g-55296)+c-56320+65536:_+=this.wcwidth(c)}_+=this.wcwidth(g)}return _}}}},s={};function i(p){var n=s[p];if(n!==void 0)return n.exports;var a=s[p]={exports:{}};return r[p].call(a.exports,a,a.exports,i),a.exports}var o={};return(()=>{var p=o;Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;const n=i(9042),a=i(3236),f=i(844),v=i(5741),m=i(8285),_=i(7975),w=i(7090),b=["cols","rows"];class g extends f.Disposable{constructor(h){super(),this._core=this.register(new a.Terminal(h)),this._addonManager=this.register(new v.AddonManager),this._publicOptions=Object.assign({},this._core.options);const l=y=>this._core.options[y],d=(y,S)=>{this._checkReadonlyOptions(y),this._core.options[y]=S};for(const y in this._core.options){const S={get:l.bind(this,y),set:d.bind(this,y)};Object.defineProperty(this._publicOptions,y,S)}}_checkReadonlyOptions(h){if(b.includes(h))throw new Error(`Option "${h}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new _.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new m.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const h=this._core.coreService.decPrivateModes;let l="none";switch(this._core.coreMouseService.activeProtocol){case"X10":l="x10";break;case"VT200":l="vt200";break;case"DRAG":l="drag";break;case"ANY":l="any"}return{applicationCursorKeysMode:h.applicationCursorKeys,applicationKeypadMode:h.applicationKeypad,bracketedPasteMode:h.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:l,originMode:h.origin,reverseWraparoundMode:h.reverseWraparound,sendFocusMode:h.sendFocus,wraparoundMode:h.wraparound}}get options(){return this._publicOptions}set options(h){for(const l in h)this._publicOptions[l]=h[l]}blur(){this._core.blur()}focus(){this._core.focus()}resize(h,l){this._verifyIntegers(h,l),this._core.resize(h,l)}open(h){this._core.open(h)}attachCustomKeyEventHandler(h){this._core.attachCustomKeyEventHandler(h)}registerLinkProvider(h){return this._core.registerLinkProvider(h)}registerCharacterJoiner(h){return this._checkProposedApi(),this._core.registerCharacterJoiner(h)}deregisterCharacterJoiner(h){this._checkProposedApi(),this._core.deregisterCharacterJoiner(h)}registerMarker(h=0){return this._verifyIntegers(h),this._core.registerMarker(h)}registerDecoration(h){var l,d,y;return this._checkProposedApi(),this._verifyPositiveIntegers((l=h.x)!==null&&l!==void 0?l:0,(d=h.width)!==null&&d!==void 0?d:0,(y=h.height)!==null&&y!==void 0?y:0),this._core.registerDecoration(h)}hasSelection(){return this._core.hasSelection()}select(h,l,d){this._verifyIntegers(h,l,d),this._core.select(h,l,d)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(h,l){this._verifyIntegers(h,l),this._core.selectLines(h,l)}dispose(){super.dispose()}scrollLines(h){this._verifyIntegers(h),this._core.scrollLines(h)}scrollPages(h){this._verifyIntegers(h),this._core.scrollPages(h)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(h){this._verifyIntegers(h),this._core.scrollToLine(h)}clear(){this._core.clear()}write(h,l){this._core.write(h,l)}writeln(h,l){this._core.write(h),this._core.write(`\r
`,l)}paste(h){this._core.paste(h)}refresh(h,l){this._verifyIntegers(h,l),this._core.refresh(h,l)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(h){this._addonManager.loadAddon(this,h)}static get strings(){return n}_verifyIntegers(...h){for(const l of h)if(l===1/0||isNaN(l)||l%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...h){for(const l of h)if(l&&(l===1/0||isNaN(l)||l%1!=0||l<0))throw new Error("This API only accepts positive integers")}}p.Terminal=g})(),o})())})(Qf);var Iy=Qf.exports,Vf={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={};return(()=>{var s=r;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const o=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(o._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,o=i._renderService.dimensions;if(o.css.cell.width===0||o.css.cell.height===0)return;const p=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(n.getPropertyValue("height")),f=Math.max(0,parseInt(n.getPropertyValue("width"))),v=window.getComputedStyle(this._terminal.element),m=a-(parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))),_=f-(parseInt(v.getPropertyValue("padding-right"))+parseInt(v.getPropertyValue("padding-left")))-p;return{cols:Math.max(2,Math.floor(_/o.css.cell.width)),rows:Math.max(1,Math.floor(m/o.css.cell.height))}}}})(),r})())})(Vf);var By=Vf.exports;const Fy=()=>{const[e,t]=O.useState([]),[r,s]=O.useState(null),[i,o]=O.useState(!1),p=O.useRef(null),n=O.useRef(new Map);O.useEffect(()=>{const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,_=new WebSocket(m);return _.onopen=()=>{console.log(" WebSocket Terminal conectado"),o(!0)},_.onmessage=w=>{try{const b=JSON.parse(w.data);switch(b.type){case"terminal:created":console.log(`Terminal criado: ${b.data.sessionId}`);break;case"terminal:output":t(g=>{const c=g.find(h=>h.sessionId===b.data.sessionId);return c&&c.terminal.write(b.data.output),g});break;case"terminal:exit":console.log(`Terminal encerrado: ${b.data.sessionId}`);break;case"error":console.error("Erro no terminal:",b.data.message);break}}catch(b){console.error("Erro ao processar mensagem:",b)}},_.onerror=w=>{console.error(" Erro no WebSocket Terminal:",w),o(!1)},_.onclose=()=>{console.log(" WebSocket Terminal desconectado"),o(!1)},p.current=_,()=>{e.forEach(w=>{_.send(JSON.stringify({type:"terminal:close",data:{sessionId:w.sessionId}})),w.terminal.dispose()}),_.close()}},[]);const a=()=>{var g;if(!p.current||!i){alert("WebSocket no conectado");return}const v=`term_${Date.now()}`,m=new Iy.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#ffffff",selection:"#264f78"},rows:24,cols:80}),_=new By.FitAddon;m.loadAddon(_),p.current.send(JSON.stringify({type:"terminal:create"})),m.onData(c=>{if(p.current&&i){const h=e.find(l=>l.terminal===m);h&&p.current.send(JSON.stringify({type:"terminal:input",data:{sessionId:h.sessionId,input:c}}))}}),m.onResize(({cols:c,rows:h})=>{const l=e.find(d=>d.terminal===m);l&&p.current&&i&&p.current.send(JSON.stringify({type:"terminal:resize",data:{sessionId:l.sessionId,cols:c,rows:h}}))});const w={id:v,sessionId:v,terminal:m,fitAddon:_};t(c=>[...c,w]),s(v);const b=c=>{var h;try{const l=JSON.parse(c.data);l.type==="terminal:created"&&(t(d=>d.map(y=>y.id===v?{...y,sessionId:l.data.sessionId}:y)),(h=p.current)==null||h.removeEventListener("message",b))}catch{}};(g=p.current)==null||g.addEventListener("message",b)},f=v=>{const m=e.find(_=>_.id===v);if(m&&p.current&&i&&p.current.send(JSON.stringify({type:"terminal:close",data:{sessionId:m.sessionId}})),m&&(m.terminal.dispose(),n.current.delete(v)),t(_=>_.filter(w=>w.id!==v)),r===v){const _=e.filter(w=>w.id!==v);s(_.length>0?_[0].id:null)}};return O.useEffect(()=>{e.forEach(v=>{const m=n.current.get(v.id);if(m&&!m.hasChildNodes()){v.terminal.open(m),v.fitAddon.fit();const _=()=>{v.fitAddon.fit()};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}}})},[e,r]),u.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] p-4 gap-4",children:[u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Terminal SSH"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Mltiplos terminais com acesso shell completo"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${i?"bg-green-500 animate-pulse":"bg-red-500"}`,title:i?"Conectado":"Desconectado"}),u.jsx("span",{className:"text-sm text-gray-400",children:i?"Online":"Offline"})]}),u.jsxs("button",{onClick:a,disabled:!i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2",children:[u.jsx(ei,{size:16}),"Novo Terminal"]})]})]}),e.length>0&&u.jsx("div",{className:"card p-2 flex items-center gap-2 overflow-x-auto",children:e.map(v=>u.jsxs("button",{onClick:()=>s(v.id),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 whitespace-nowrap ${r===v.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[u.jsxs("span",{children:["Terminal ",e.indexOf(v)+1]}),u.jsx(qf,{size:14,onClick:m=>{m.stopPropagation(),f(v.id)},className:"hover:text-red-400 transition-colors"})]},v.id))}),u.jsx("div",{className:"flex-1 card p-4 overflow-hidden",children:e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"Nenhum terminal ativo"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-6",children:"Crie um novo terminal para comear a executar comandos"}),u.jsxs("button",{onClick:a,disabled:!i,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2",children:[u.jsx(ei,{size:20}),"Criar Primeiro Terminal"]})]}):u.jsx(u.Fragment,{children:e.map(v=>u.jsx("div",{ref:m=>{m&&n.current.set(v.id,m)},className:`w-full h-full ${r===v.id?"block":"hidden"}`,style:{backgroundColor:"#1e1e1e"}},v.id))})}),!i&&u.jsx("div",{className:"card p-4 bg-red-600/20 border-red-600",children:u.jsxs("p",{className:"text-red-400 text-sm flex items-center gap-2",children:[u.jsx(Uf,{size:16}),"Desconectado do servidor. Tentando reconectar..."]})})]})},Hy=()=>u.jsx("div",{className:"card",children:u.jsx("h1",{className:"text-2xl text-white",children:"Treinamento de Modelos"})}),zy=()=>{const[e,t]=O.useState("24h"),[r,s]=O.useState(1e4),{data:i,refetch:o}=Y.monitoring.getMetrics.useQuery(void 0,{refetchInterval}),{data:p}=Y.tasks.list.useQuery({limit:100,offset:0});O.useEffect(()=>{const g=setInterval(()=>{o()},r);return()=>clearInterval(g)},[r,o]);const a=(()=>{if(!p||!executionLogs)return{totalTasks:0,completedTasks:0,successRate:0,avgExecutionTime:0,totalTokensUsed:0};const g=p.filter(S=>S.status==="completed").length,c=p.filter(S=>S.status==="failed").length,h=p.length>0?g/(g+c)*100:0,l=executionLogs.filter(S=>S.executionTime).map(S=>S.executionTime),d=l.length>0?l.reduce((S,C)=>S+C,0)/l.length:0,y=executionLogs.filter(S=>S.tokensUsed).reduce((S,C)=>S+C.tokensUsed,0);return{totalTasks:p.length,completedTasks:g,successRate:Math.round(h),avgExecutionTime:Math.round(d/1e3),totalTokensUsed:y}})(),f={labels:["Pending","Running","Completed","Failed"],values:[(p==null?void 0:p.filter(g=>g.status==="pending").length)||0,(p==null?void 0:p.filter(g=>g.status==="running").length)||0,(p==null?void 0:p.filter(g=>g.status==="completed").length)||0,(p==null?void 0:p.filter(g=>g.status==="failed").length)||0]},v={labels:["Low","Medium","High","Urgent"],values:[(p==null?void 0:p.filter(g=>g.priority==="low").length)||0,(p==null?void 0:p.filter(g=>g.priority==="medium").length)||0,(p==null?void 0:p.filter(g=>g.priority==="high").length)||0,(p==null?void 0:p.filter(g=>g.priority==="urgent").length)||0]},m=({data:g,colors:c})=>{const h=Math.max(...g.values,1);return u.jsx("div",{className:"space-y-3",children:g.labels.map((l,d)=>u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:l}),u.jsx("span",{className:"font-semibold",children:g.values[d]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:`${g.values[d]/h*100}%`,backgroundColor:c[d]}})})]},l))})},_=({title:g,value:c,subtitle:h,icon:l,color:d})=>u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:g}),u.jsx("p",{className:`text-3xl font-bold ${d}`,children:c}),h&&u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:h})]}),u.jsx("div",{className:`text-4xl ${d}`,children:l})]})}),b=(()=>{if(!i)return{status:"unknown",color:"text-gray-500",label:"Unknown"};const g=i.cpu.usage<80,c=i.memory.usagePercent<85,h=i.disk.usagePercent<90;return g&&c&&h?{status:"healthy",color:"text-green-500",label:"Healthy"}:g&&c?{status:"warning",color:"text-yellow-500",label:"Warning"}:{status:"critical",color:"text-red-500",label:"Critical"}})();return u.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Analytics Dashboard"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Real-time system performance and AI metrics"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("select",{value:e,onChange:g=>t(g.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"1h",children:"Last Hour"}),u.jsx("option",{value:"24h",children:"Last 24 Hours"}),u.jsx("option",{value:"7d",children:"Last 7 Days"}),u.jsx("option",{value:"30d",children:"Last 30 Days"})]}),u.jsxs("select",{value:r,onChange:g=>s(Number(g.target.value)),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"5000",children:"Refresh: 5s"}),u.jsx("option",{value:"10000",children:"Refresh: 10s"}),u.jsx("option",{value:"30000",children:"Refresh: 30s"}),u.jsx("option",{value:"60000",children:"Refresh: 1m"})]}),u.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200",children:[u.jsx("span",{className:`text-2xl ${b.color}`,children:""}),u.jsx("span",{className:"font-medium",children:b.label})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-6",children:[u.jsx(_,{title:"Total Tasks",value:a.totalTasks,icon:"",color:"text-blue-600"}),u.jsx(_,{title:"Completed",value:a.completedTasks,subtitle:`${a.successRate}% success rate`,icon:"",color:"text-green-600"}),u.jsx(_,{title:"Avg Execution Time",value:`${a.avgExecutionTime}s`,icon:"",color:"text-purple-600"}),u.jsx(_,{title:"Tokens Used",value:a.totalTokensUsed.toLocaleString(),icon:"",color:"text-orange-600"}),u.jsx(_,{title:"CPU Usage",value:`${(i==null?void 0:i.cpu.usage.toFixed(1))||0}%`,subtitle:`${(i==null?void 0:i.cpu.cores)||0} cores`,icon:"",color:"text-red-600"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Task Status Distribution"}),u.jsx(m,{data:f,colors:["#f59e0b","#3b82f6","#10b981","#ef4444"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Task Priority Distribution"}),u.jsx(m,{data:v,colors:["#6b7280","#3b82f6","#f59e0b","#ef4444"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"CPU Usage"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Current Usage"}),u.jsxs("span",{className:"font-bold",children:[i==null?void 0:i.cpu.usage.toFixed(1),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:u.jsx("div",{className:"h-4 rounded-full transition-all duration-500 bg-gradient-to-r from-blue-500 to-purple-500",style:{width:`${(i==null?void 0:i.cpu.usage)||0}%`}})}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600 dark:text-gray-300 mt-4",children:[u.jsxs("div",{children:["Cores: ",i==null?void 0:i.cpu.cores]}),u.jsxs("div",{children:["Speed: ",i==null?void 0:i.cpu.speed," MHz"]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Memory Usage"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Used / Total"}),u.jsxs("span",{className:"font-bold",children:[((i==null?void 0:i.memory.used)||0).toFixed(1)," / ",((i==null?void 0:i.memory.total)||0).toFixed(1)," GB"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:u.jsx("div",{className:"h-4 rounded-full transition-all duration-500 bg-gradient-to-r from-green-500 to-emerald-500",style:{width:`${(i==null?void 0:i.memory.usagePercent)||0}%`}})}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-4",children:["Usage: ",i==null?void 0:i.memory.usagePercent.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Disk Usage"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Used / Total"}),u.jsxs("span",{className:"font-bold",children:[((i==null?void 0:i.disk.used)||0).toFixed(1)," / ",((i==null?void 0:i.disk.total)||0).toFixed(1)," GB"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:u.jsx("div",{className:"h-4 rounded-full transition-all duration-500 bg-gradient-to-r from-yellow-500 to-orange-500",style:{width:`${(i==null?void 0:i.disk.usagePercent)||0}%`}})}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-4",children:["Usage: ",i==null?void 0:i.disk.usagePercent.toFixed(1),"%"]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Execution Logs"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Task"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Model"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Tokens"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Time"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Timestamp"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200",children:executionLogs==null?void 0:executionLogs.slice(0,10).map(g=>{var c;return u.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-gray-900",children:[u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["Task #",g.subtaskId||g.taskId]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g.status==="success"?"bg-green-100 text-green-800":g.status==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:g.status})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300",children:["Model #",g.modelId]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300",children:((c=g.tokensUsed)==null?void 0:c.toLocaleString())||"-"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300",children:g.executionTime?`${(g.executionTime/1e3).toFixed(2)}s`:"-"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(g.createdAt).toLocaleTimeString()})]},g.id)})})]})})]})]})},Uy=()=>u.jsx(zy,{}),Wy=({workflowId:e,onSave:t})=>{const[r,s]=O.useState([]),[i,o]=O.useState([]),[p,n]=O.useState(null),[a,f]=O.useState(null),[v,m]=O.useState("New Workflow"),[_,w]=O.useState(!1),b=O.useRef(null),g=Y.workflows.create.useMutation(),c=Y.workflows.update.useMutation(),h=[{type:"task",title:"AI Task",config:{modelId:null,prompt:""}},{type:"condition",title:"Condition",config:{condition:"",trueLabel:"Yes",falseLabel:"No"}},{type:"parallel",title:"Parallel",config:{branches:2}},{type:"loop",title:"Loop",config:{maxIterations:10}},{type:"webhook",title:"Webhook",config:{url:"",method:"POST"}},{type:"integration",title:"Integration",config:{service:"",action:""}}],l=(N,D)=>{const M={id:`node-${Date.now()}`,type:N.type,title:N.title,config:N.config||{},position:D||{x:100,y:100},inputs:["in"],outputs:["out"]};N.type==="condition"?M.outputs=["true","false"]:N.type==="parallel"&&(M.outputs=["branch1","branch2"]),s([...r,M])},d=(N,D)=>{f(D),N.dataTransfer.effectAllowed="move"},y=()=>{f(null)},S=N=>{N.preventDefault(),N.dataTransfer.dropEffect="move"},C=N=>{if(N.preventDefault(),!b.current)return;const D=b.current.getBoundingClientRect(),M=N.clientX-D.left,B=N.clientY-D.top;a&&!r.find(F=>F.id===a.id)?l(a,{x:M,y:B}):a&&s(r.map(F=>F.id===a.id?{...F,position:{x:M,y:B}}:F)),f(null)},E=(N,D)=>{s(r.map(M=>M.id===N?{...M,config:{...M.config,...D}}:M))},x=N=>{s(r.filter(D=>D.id!==N)),o(i.filter(D=>D.source!==N&&D.target!==N)),(p==null?void 0:p.id)===N&&n(null)},k=async()=>{const N={name:v,userId:1,config:JSON.stringify({nodes:r,connections:i}),isActive:!0};try{if(e)await c.mutateAsync({id:e,...N});else{const D=await g.mutateAsync(N);t&&t(D)}alert("Workflow saved successfully!")}catch(D){console.error("Failed to save workflow:",D),alert("Failed to save workflow")}},L=()=>{const N=[...r],D={};N.forEach((M,B)=>{const F=Math.floor(B/3);D[F]||(D[F]=[]),D[F].push(M)}),Object.entries(D).forEach(([M,B])=>{B.forEach((F,$)=>{F.position={x:150+parseInt(M)*300,y:100+$*150}})}),s(N)};return u.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[u.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 p-4 overflow-y-auto",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Components"}),u.jsx("div",{className:"space-y-2",children:h.map((N,D)=>u.jsx("div",{draggable:!0,onDragStart:M=>d(M,N),onDragEnd:y,className:"p-3 bg-blue-50 border border-blue-200 rounded cursor-move hover:bg-blue-100 transition",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{className:"text-2xl",children:[N.type==="task"&&"",N.type==="condition"&&"",N.type==="parallel"&&"",N.type==="loop"&&"",N.type==="webhook"&&"",N.type==="integration"&&""]}),u.jsx("span",{className:"font-medium text-sm",children:N.title})]})},D))}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Workflow Settings"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Workflow Name"}),u.jsx("input",{type:"text",value:v,onChange:N=>m(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.jsx("button",{onClick:L,className:"w-full px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition",children:"Auto Layout"}),u.jsx("button",{onClick:k,disabled:g.isLoading||c.isLoading,className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition disabled:opacity-50",children:g.isLoading||c.isLoading?"Saving...":"Save Workflow"})]})]})]}),u.jsx("div",{className:"flex-1 relative",children:u.jsxs("div",{ref:b,onDragOver:S,onDrop:C,className:"w-full h-full bg-gray-100 dark:bg-gray-800 relative overflow-auto",style:{backgroundImage:"radial-gradient(circle, #d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[u.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{zIndex:1},children:[i.map(N=>{const D=r.find(j=>j.id===N.source),M=r.find(j=>j.id===N.target);if(!D||!M)return null;const B=D.position.x+100,F=D.position.y+40,$=M.position.x,W=M.position.y+40;return u.jsx("g",{children:u.jsx("line",{x1:B,y1:F,x2:$,y2:W,stroke:"#3b82f6",strokeWidth:"2",markerEnd:"url(#arrowhead)"})},N.id)}),u.jsx("defs",{children:u.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:u.jsx("polygon",{points:"0 0, 10 3, 0 6",fill:"#3b82f6"})})})]}),r.map(N=>u.jsxs("div",{draggable:!0,onDragStart:D=>d(D,N),onDragEnd:y,onClick:()=>n(N),className:`absolute bg-white border-2 rounded-lg shadow-lg cursor-move p-4 ${(p==null?void 0:p.id)===N.id?"border-blue-500":"border-gray-300"}`,style:{left:N.position.x,top:N.position.y,width:"200px",zIndex:2},children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-semibold text-sm",children:N.title}),u.jsx("button",{onClick:D=>{D.stopPropagation(),x(N.id)},className:"text-red-500 hover:text-red-700 text-xs",children:""})]}),u.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Type: ",N.type]}),u.jsx("div",{className:"absolute -left-2 top-1/2 w-4 h-4 bg-blue-500 rounded-full transform -translate-y-1/2"}),u.jsx("div",{className:"absolute -right-2 top-1/2 w-4 h-4 bg-blue-500 rounded-full transform -translate-y-1/2"})]},N.id)),r.length===0&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xl font-semibold mb-2",children:"Drag components from the sidebar"}),u.jsx("p",{className:"text-sm",children:"to start building your workflow"})]})})]})}),p&&u.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 p-4 overflow-y-auto",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Node Properties"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Node Title"}),u.jsx("input",{type:"text",value:p.title,onChange:N=>E(p.id,{title:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500"})]}),p.type==="task"&&u.jsx(u.Fragment,{children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Prompt Template"}),u.jsx("textarea",{value:p.config.prompt||"",onChange:N=>E(p.id,{prompt:N.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500"})]})}),p.type==="condition"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Condition Expression"}),u.jsx("input",{type:"text",value:p.config.condition||"",onChange:N=>E(p.id,{condition:N.target.value}),placeholder:"e.g., result.score > 0.8",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500"})]}),p.type==="webhook"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Webhook URL"}),u.jsx("input",{type:"url",value:p.config.url||"",onChange:N=>E(p.id,{url:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Method"}),u.jsxs("select",{value:p.config.method||"POST",onChange:N=>E(p.id,{method:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"GET",children:"GET"}),u.jsx("option",{value:"POST",children:"POST"}),u.jsx("option",{value:"PUT",children:"PUT"}),u.jsx("option",{value:"DELETE",children:"DELETE"})]})]})]})]})]})]})},$y=()=>{const e=Bl(),t=r=>{console.log("Workflow saved:",r)};return u.jsxs("div",{className:"h-screen flex flex-col",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:()=>e("/workflows"),className:"text-gray-600 hover:text-gray-900 dark:text-white",children:" Back"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Workflow Builder"})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsx(Wy,{onSave:t})})]})};function qy(){return u.jsx(L_,{children:u.jsx(R_,{children:u.jsxs(sv,{children:[u.jsx(ne,{path:"/login",element:u.jsx(hu,{to:"/",replace:!0})}),u.jsx(ne,{path:"/register",element:u.jsx(hu,{to:"/",replace:!0})}),u.jsxs(ne,{element:u.jsx(dy,{}),children:[u.jsx(ne,{path:"/",element:u.jsx(fy,{})}),u.jsx(ne,{path:"/profile",element:u.jsx(py,{})}),u.jsx(ne,{path:"/projects",element:u.jsx(vy,{})}),u.jsx(ne,{path:"/teams",element:u.jsx(_y,{})}),u.jsx(ne,{path:"/providers",element:u.jsx(yy,{})}),u.jsx(ne,{path:"/models",element:u.jsx(xy,{})}),u.jsx(ne,{path:"/specialized-ais",element:u.jsx(Sy,{})}),u.jsx(ne,{path:"/credentials",element:u.jsx(by,{})}),u.jsx(ne,{path:"/tasks",element:u.jsx(wy,{})}),u.jsx(ne,{path:"/tasks/:id/subtasks",element:u.jsx(Cy,{})}),u.jsx(ne,{path:"/prompts",element:u.jsx(ky,{})}),u.jsx(ne,{path:"/templates",element:u.jsx(Ey,{})}),u.jsx(ne,{path:"/workflows",element:u.jsx(jy,{})}),u.jsx(ne,{path:"/workflows/builder",element:u.jsx($y,{})}),u.jsx(ne,{path:"/instructions",element:u.jsx(Ry,{})}),u.jsx(ne,{path:"/knowledge-base",element:u.jsx(Ly,{})}),u.jsx(ne,{path:"/knowledge-base/:id/sources",element:u.jsx(Ny,{})}),u.jsx(ne,{path:"/execution-logs",element:u.jsx(Dy,{})}),u.jsx(ne,{path:"/chat",element:u.jsx(Py,{})}),u.jsx(ne,{path:"/external-api-accounts",element:u.jsx(Ty,{})}),u.jsx(ne,{path:"/services",element:u.jsx(My,{})}),u.jsx(ne,{path:"/monitoring",element:u.jsx(Ay,{})}),u.jsx(ne,{path:"/settings",element:u.jsx(Oy,{})}),u.jsx(ne,{path:"/terminal",element:u.jsx(Fy,{})}),u.jsx(ne,{path:"/model-training",element:u.jsx(Hy,{})}),u.jsx(ne,{path:"/analytics",element:u.jsx(Uy,{})})]})]})})})}const wu=new Hg({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});Eo.createRoot(document.getElementById("root")).render(u.jsx(zi.StrictMode,{children:u.jsx(Y.Provider,{client:E_,queryClient:wu,children:u.jsx(r0,{client:wu,children:u.jsx(uv,{children:u.jsx(qy,{})})})})}));
